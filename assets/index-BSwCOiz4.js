import{u as m,a as b,j as e}from"./index-CdrfHzWc.js";import{L as c,g as w,r as i}from"./react-vendor-7d_4YsRm.js";import{A as N}from"./index-B_PD9ubs.js";import{L as v}from"./index-D0O2MoB9.js";import{h as f,L as y,i as p,j as g,X as k,k as C,P as d,l as L,m as j}from"./ui-vendor-uHOkKSV_.js";import{R as $}from"./index-DTxzmI7T.js";import{S as A}from"./index-BnDcorj_.js";import{u as S}from"./useRestaurants-KknVP6jQ.js";import"./supabase-K6a4hp2a.js";import"./index-CnoEeZeK.js";import"./useFavorites-Dcys_S_O.js";function R({isScrolled:s,onLoginClick:t}){const{t:a}=m(["common","profile","auth"]),{user:n,username:l,signOut:r}=b();return e.jsx("header",{className:`
        fixed top-0 left-0 right-0 z-50 transition-all duration-300
        ${s?"bg-white/80 backdrop-blur-md shadow-sm py-3":"bg-transparent py-4"}
      `,children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:"/macau-pet-eats/logo.png",alt:"Logo",className:`w-10 h-10 rounded-xl transition-all ${s?"":"shadow-sm"}`}),e.jsx("span",{className:"font-bold text-lg hidden sm:block text-neutral-900",children:a("common:appName")})]}),e.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[n?e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-sm font-medium hidden sm:block text-neutral-700",children:l||n.email}),e.jsx(c,{to:"/profile",className:`p-2 rounded-full shadow-sm hover:shadow-md transition-all ${s?"bg-white text-neutral-600 hover:text-primary-600":"bg-white/80 backdrop-blur-sm text-neutral-600 hover:text-primary-600"}`,title:a("profile:title")||"Profile",children:e.jsx(f,{size:20})}),e.jsx("button",{onClick:()=>r(),className:`p-2 rounded-full shadow-sm hover:shadow-md transition-all ${s?"bg-white text-neutral-600 hover:text-red-600":"bg-white/80 backdrop-blur-sm text-neutral-600 hover:text-red-600"}`,title:a("auth:logout")||"Logout",children:e.jsx(y,{size:20})})]}):e.jsxs("button",{onClick:t,className:`flex items-center gap-2 px-4 py-2 rounded-full shadow-sm hover:shadow-md transition-all font-medium ${s?"bg-white text-neutral-700":"bg-white/80 backdrop-blur-sm text-neutral-700"}`,children:[e.jsx(f,{size:18}),e.jsx("span",{children:a("auth:login")||"Login"})]}),e.jsxs(c,{to:"/submit",className:`flex items-center gap-2 px-4 py-2 rounded-full shadow-sm hover:shadow-md transition-all font-medium ${s?"bg-white text-neutral-700":"bg-white/80 backdrop-blur-sm text-neutral-700"}`,children:[e.jsx(p,{size:18}),e.jsx("span",{className:"hidden sm:inline",children:a("common:nav.submit")})]}),e.jsx("div",{className:s?"":"bg-white/80 backdrop-blur-sm rounded-lg",children:e.jsx(v,{})})]})]})})}function H({initialValue:s=""}){const{t}=m(["common","home"]),a=w(),[n,l]=i.useState(s),r=i.useCallback(()=>{l("")},[]),o=i.useCallback(()=>{n.trim()&&a(`/search?q=${encodeURIComponent(n)}`)},[n,a]),h=i.useCallback(()=>{a("/search")},[a]),x=i.useCallback(u=>{u.key==="Enter"&&n.trim()&&o()},[n,o]);return e.jsxs("div",{className:"flex items-center gap-3 w-full max-w-2xl",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(g,{className:"h-5 w-5 text-neutral-400"})}),e.jsx("input",{type:"text",value:n,onChange:u=>l(u.target.value),onKeyDown:x,placeholder:t("home:searchPlaceholder"),className:`
            w-full pl-12 pr-12 py-4
            text-lg
            bg-white
            border-2 border-neutral-200
            rounded-2xl
            shadow-soft
            placeholder:text-neutral-400
            focus:outline-none focus:border-primary-400 focus:ring-4 focus:ring-primary-100
            transition-all duration-200
          `}),n&&e.jsx("button",{onClick:r,className:`
              absolute inset-y-0 right-0 pr-4
              flex items-center
              text-neutral-400 hover:text-neutral-600
              transition-colors
            `,"aria-label":t("common:close"),children:e.jsx(k,{className:"h-5 w-5"})})]}),e.jsxs("button",{onClick:h,className:`
          flex items-center justify-center
          w-14 h-14 sm:w-auto sm:px-6 sm:py-4
          bg-primary-500 hover:bg-primary-600
          text-white font-semibold
          rounded-2xl
          shadow-lg hover:shadow-xl
          transition-all duration-200
          focus:outline-none focus:ring-4 focus:ring-primary-200
          active:scale-95
        `,"aria-label":t("common:viewAll"),children:[e.jsx(C,{className:"h-5 w-5 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:t("common:viewAll")})]})]})}function P({count:s}){const{t}=m(["home","common"]);return e.jsxs("section",{className:"relative bg-gradient-to-br from-primary-50 via-white to-secondary-50 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-primary-200/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 bg-secondary-200/30 rounded-full blur-3xl"})]}),e.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:e.jsxs("div",{className:"text-center max-w-4xl mx-auto animate-fade-in",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full shadow-soft mb-8",children:[e.jsx(d,{className:"w-5 h-5 text-primary-500"}),e.jsx("span",{className:"text-sm font-medium text-neutral-700",children:t("home:badge")}),e.jsx(L,{className:"w-4 h-4 text-primary-400"})]}),e.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-neutral-900 mb-6 leading-tight",children:[t("home:headline")," ",e.jsx("span",{className:"text-gradient",children:t("home:headlineHighlight")})]}),e.jsx("p",{className:"text-lg sm:text-xl text-neutral-600 mb-10 max-w-2xl mx-auto leading-relaxed",children:t("home:subheadline")}),e.jsx("div",{className:"hidden sm:flex justify-center",children:e.jsx(H,{})}),e.jsx("div",{className:"flex sm:hidden justify-center",children:e.jsxs(c,{to:"/search",className:`
                inline-flex items-center gap-2 px-8 py-4
                bg-primary-500 hover:bg-primary-600
                text-white font-semibold text-lg
                rounded-xl shadow-lg hover:shadow-xl
                transition-all duration-200
                focus:outline-none focus:ring-4 focus:ring-primary-200
              `,children:[e.jsx(g,{className:"w-5 h-5"}),t("common:viewAll")]})}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-8 mt-12",children:[e.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[e.jsx(j,{className:"w-5 h-5 text-primary-500"}),e.jsxs("span",{className:"font-medium",children:[s?`${s} `:"50+ ",t("home:stats.locationsSuffix")]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[e.jsx(d,{className:"w-5 h-5 text-secondary-500"}),e.jsx("span",{className:"font-medium",children:t("home:stats.allPets")})]})]})]})})]})}function E({featuredRestaurants:s,isLoading:t,error:a,onAuthRequired:n}){const{t:l}=m(["home","common"]);return e.jsx("section",{className:"py-16 lg:py-24 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-neutral-900 mb-4",children:l("home:featured.title")}),e.jsx("p",{className:"text-lg text-neutral-600 max-w-2xl mx-auto",children:l("home:featured.subtitle")})]}),a&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-4 bg-red-50 text-red-700 rounded-xl",children:[e.jsxs("span",{className:"font-medium",children:[l("common:errors.loadingRestaurants"),":"]}),e.jsx("span",{children:a})]})}),t&&e.jsx(A,{count:6}),!t&&!a&&e.jsx(e.Fragment,{children:s.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((r,o)=>e.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${o*100}ms`},children:e.jsx($,{restaurant:r,onAuthRequired:n})},r.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx(d,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-neutral-700 mb-2",children:l("home:noResults.title")}),e.jsx("p",{className:"text-neutral-500",children:l("home:noResults.defaultHint")})]})}),s.length>0&&e.jsx("div",{className:"text-center mt-12",children:e.jsxs(c,{to:"/explore",className:`
                inline-flex items-center gap-2 px-8 py-4
                bg-primary-500 hover:bg-primary-600
                text-white font-semibold text-lg
                rounded-xl shadow-lg hover:shadow-xl
                transition-all duration-200
                focus:outline-none focus:ring-4 focus:ring-primary-200
              `,children:[e.jsx(j,{className:"w-5 h-5"}),l("home:exploreButton")]})})]})})}function z(){const{t:s}=m(["home"]);return e.jsx("section",{className:"py-20 bg-primary-50",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white rounded-full shadow-sm mb-6 animate-bounce-slow",children:e.jsx(p,{className:"w-8 h-8 text-primary-500"})}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-neutral-900 mb-4",children:s("home:cta.title")}),e.jsx("p",{className:"text-lg text-neutral-600 mb-8 max-w-2xl mx-auto",children:s("home:cta.subtitle")}),e.jsxs(c,{to:"/submit",className:"inline-flex items-center gap-2 px-8 py-4 bg-neutral-900 text-white font-bold text-lg rounded-xl hover:bg-neutral-800 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[e.jsx(p,{className:"w-5 h-5"}),s("home:cta.button")]})]})})}function O(){const{t:s}=m(["common"]);return e.jsx("footer",{className:"bg-neutral-900 text-neutral-400 py-12",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{className:"w-6 h-6 text-primary-400"}),e.jsx("span",{className:"font-semibold text-white",children:s("common:appName")})]}),e.jsx("p",{className:"text-sm",children:s("common:footer.copyright")})]})})})}function X(){const[s,t]=i.useState(!1),[a,n]=i.useState(!1),{restaurants:l,featuredRestaurants:r,isLoading:o,error:h}=S({});return i.useEffect(()=>{const x=()=>{n(window.scrollY>10)};return window.addEventListener("scroll",x),()=>window.removeEventListener("scroll",x)},[]),e.jsxs("div",{className:"min-h-screen",children:[e.jsx(R,{isScrolled:a,onLoginClick:()=>t(!0)}),e.jsx(P,{count:l.length}),e.jsx(E,{featuredRestaurants:r,isLoading:o,error:h,onAuthRequired:()=>t(!0)}),e.jsx(z,{}),e.jsx(O,{}),e.jsx(N,{isOpen:s,onClose:()=>t(!1)})]})}export{X as Home};
