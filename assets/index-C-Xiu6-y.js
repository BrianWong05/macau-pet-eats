import{u as c,j as e,s as r}from"./index-Dm09gJhD.js";import{r as i}from"./react-vendor-B-2HpIm1.js";import{S as x,w as h,k as p,z as b}from"./ui-vendor-r0va27WY.js";import"./supabase-K6a4hp2a.js";function v({stats:a,isLoading:o}){const{t:s}=c(),n=[{label:s("admin.dashboard.totalRestaurants")||"Total Restaurants",value:a.totalRestaurants,icon:x,color:"bg-blue-500"},{label:s("admin.dashboard.activeListings")||"Active Listings",value:a.activeRestaurants,icon:h,color:"bg-green-500"},{label:s("admin.dashboard.pendingApproval")||"Pending Approval",value:a.pendingRestaurants,icon:p,color:"bg-amber-500"},{label:s("admin.dashboard.totalReviews")||"Total Reviews",value:a.totalReviews,icon:b,color:"bg-purple-500"}];return o?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(t=>e.jsx("div",{className:"h-32 bg-white rounded-2xl shadow-sm animate-pulse"},t))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(t=>e.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-neutral-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-neutral-500 mb-1",children:t.label}),e.jsx("h3",{className:"text-3xl font-bold text-neutral-900",children:t.value})]}),e.jsx("div",{className:`p-3 rounded-xl ${t.color} bg-opacity-10`,children:e.jsx(t.icon,{className:`w-6 h-6 ${t.color.replace("bg-","text-")}`})})]})},t.label))})}function N(){const{t:a}=c(),[o,s]=i.useState({totalRestaurants:0,activeRestaurants:0,pendingRestaurants:0,totalReviews:0}),[n,t]=i.useState(!0);return i.useEffect(()=>{async function d(){try{const[{count:l},{count:u},{count:m},{count:g}]=await Promise.all([r.from("restaurants").select("*",{count:"exact",head:!0}),r.from("restaurants").select("*",{count:"exact",head:!0}).eq("status","approved"),r.from("restaurants").select("*",{count:"exact",head:!0}).eq("status","pending"),r.from("reviews").select("*",{count:"exact",head:!0})]);s({totalRestaurants:l||0,activeRestaurants:u||0,pendingRestaurants:m||0,totalReviews:g||0})}catch(l){console.error("Error fetching stats:",l)}finally{t(!1)}}d()},[]),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-8",children:a("admin.dashboard.title")}),e.jsx(v,{stats:o,isLoading:n})]})}export{N as AdminDashboard};
