(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function a(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(c){if(c.ep)return;c.ep=!0;const h=a(c);fetch(c.href,h)}})();function Gv(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cd={exports:{}},bl={};var Rg;function d0(){if(Rg)return bl;Rg=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(o,c,h){var m=null;if(h!==void 0&&(m=""+h),c.key!==void 0&&(m=""+c.key),"key"in c){h={};for(var v in c)v!=="key"&&(h[v]=c[v])}else h=c;return c=h.ref,{$$typeof:r,type:o,key:m,ref:c!==void 0?c:null,props:h}}return bl.Fragment=n,bl.jsx=a,bl.jsxs=a,bl}var jg;function f0(){return jg||(jg=1,Cd.exports=d0()),Cd.exports}var b=f0(),Nd={exports:{}},ze={};var Lg;function m0(){if(Lg)return ze;Lg=1;var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.iterator;function N(R){return R===null||typeof R!="object"?null:(R=O&&R[O]||R["@@iterator"],typeof R=="function"?R:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,B={};function P(R,Y,J){this.props=R,this.context=Y,this.refs=B,this.updater=J||A}P.prototype.isReactComponent={},P.prototype.setState=function(R,Y){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,Y,"setState")},P.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function U(){}U.prototype=P.prototype;function q(R,Y,J){this.props=R,this.context=Y,this.refs=B,this.updater=J||A}var te=q.prototype=new U;te.constructor=q,z(te,P.prototype),te.isPureReactComponent=!0;var de=Array.isArray;function he(){}var le={H:null,A:null,T:null,S:null},je=Object.prototype.hasOwnProperty;function fe(R,Y,J){var ie=J.ref;return{$$typeof:r,type:R,key:Y,ref:ie!==void 0?ie:null,props:J}}function ye(R,Y){return fe(R.type,Y,R.props)}function _e(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function be(R){var Y={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(J){return Y[J]})}var He=/\/+/g;function De(R,Y){return typeof R=="object"&&R!==null&&R.key!=null?be(""+R.key):Y.toString(36)}function at(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(he,he):(R.status="pending",R.then(function(Y){R.status==="pending"&&(R.status="fulfilled",R.value=Y)},function(Y){R.status==="pending"&&(R.status="rejected",R.reason=Y)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function I(R,Y,J,ie,se){var oe=typeof R;(oe==="undefined"||oe==="boolean")&&(R=null);var Ne=!1;if(R===null)Ne=!0;else switch(oe){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(R.$$typeof){case r:case n:Ne=!0;break;case E:return Ne=R._init,I(Ne(R._payload),Y,J,ie,se)}}if(Ne)return se=se(R),Ne=ie===""?"."+De(R,0):ie,de(se)?(J="",Ne!=null&&(J=Ne.replace(He,"$&/")+"/"),I(se,Y,J,"",function(Fe){return Fe})):se!=null&&(_e(se)&&(se=ye(se,J+(se.key==null||R&&R.key===se.key?"":(""+se.key).replace(He,"$&/")+"/")+Ne)),Y.push(se)),1;Ne=0;var Ee=ie===""?".":ie+":";if(de(R))for(var ge=0;ge<R.length;ge++)ie=R[ge],oe=Ee+De(ie,ge),Ne+=I(ie,Y,J,oe,se);else if(ge=N(R),typeof ge=="function")for(R=ge.call(R),ge=0;!(ie=R.next()).done;)ie=ie.value,oe=Ee+De(ie,ge++),Ne+=I(ie,Y,J,oe,se);else if(oe==="object"){if(typeof R.then=="function")return I(at(R),Y,J,ie,se);throw Y=String(R),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function ne(R,Y,J){if(R==null)return R;var ie=[],se=0;return I(R,ie,"","",function(oe){return Y.call(J,oe,se++)}),ie}function ae(R){if(R._status===-1){var Y=R._result;Y=Y(),Y.then(function(J){(R._status===0||R._status===-1)&&(R._status=1,R._result=J)},function(J){(R._status===0||R._status===-1)&&(R._status=2,R._result=J)}),R._status===-1&&(R._status=0,R._result=Y)}if(R._status===1)return R._result.default;throw R._result}var Le=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},re={map:ne,forEach:function(R,Y,J){ne(R,function(){Y.apply(this,arguments)},J)},count:function(R){var Y=0;return ne(R,function(){Y++}),Y},toArray:function(R){return ne(R,function(Y){return Y})||[]},only:function(R){if(!_e(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return ze.Activity=x,ze.Children=re,ze.Component=P,ze.Fragment=a,ze.Profiler=c,ze.PureComponent=q,ze.StrictMode=o,ze.Suspense=y,ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,ze.__COMPILER_RUNTIME={__proto__:null,c:function(R){return le.H.useMemoCache(R)}},ze.cache=function(R){return function(){return R.apply(null,arguments)}},ze.cacheSignal=function(){return null},ze.cloneElement=function(R,Y,J){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ie=z({},R.props),se=R.key;if(Y!=null)for(oe in Y.key!==void 0&&(se=""+Y.key),Y)!je.call(Y,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&Y.ref===void 0||(ie[oe]=Y[oe]);var oe=arguments.length-2;if(oe===1)ie.children=J;else if(1<oe){for(var Ne=Array(oe),Ee=0;Ee<oe;Ee++)Ne[Ee]=arguments[Ee+2];ie.children=Ne}return fe(R.type,se,ie)},ze.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:h,_context:R},R},ze.createElement=function(R,Y,J){var ie,se={},oe=null;if(Y!=null)for(ie in Y.key!==void 0&&(oe=""+Y.key),Y)je.call(Y,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(se[ie]=Y[ie]);var Ne=arguments.length-2;if(Ne===1)se.children=J;else if(1<Ne){for(var Ee=Array(Ne),ge=0;ge<Ne;ge++)Ee[ge]=arguments[ge+2];se.children=Ee}if(R&&R.defaultProps)for(ie in Ne=R.defaultProps,Ne)se[ie]===void 0&&(se[ie]=Ne[ie]);return fe(R,oe,se)},ze.createRef=function(){return{current:null}},ze.forwardRef=function(R){return{$$typeof:v,render:R}},ze.isValidElement=_e,ze.lazy=function(R){return{$$typeof:E,_payload:{_status:-1,_result:R},_init:ae}},ze.memo=function(R,Y){return{$$typeof:_,type:R,compare:Y===void 0?null:Y}},ze.startTransition=function(R){var Y=le.T,J={};le.T=J;try{var ie=R(),se=le.S;se!==null&&se(J,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(he,Le)}catch(oe){Le(oe)}finally{Y!==null&&J.types!==null&&(Y.types=J.types),le.T=Y}},ze.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},ze.use=function(R){return le.H.use(R)},ze.useActionState=function(R,Y,J){return le.H.useActionState(R,Y,J)},ze.useCallback=function(R,Y){return le.H.useCallback(R,Y)},ze.useContext=function(R){return le.H.useContext(R)},ze.useDebugValue=function(){},ze.useDeferredValue=function(R,Y){return le.H.useDeferredValue(R,Y)},ze.useEffect=function(R,Y){return le.H.useEffect(R,Y)},ze.useEffectEvent=function(R){return le.H.useEffectEvent(R)},ze.useId=function(){return le.H.useId()},ze.useImperativeHandle=function(R,Y,J){return le.H.useImperativeHandle(R,Y,J)},ze.useInsertionEffect=function(R,Y){return le.H.useInsertionEffect(R,Y)},ze.useLayoutEffect=function(R,Y){return le.H.useLayoutEffect(R,Y)},ze.useMemo=function(R,Y){return le.H.useMemo(R,Y)},ze.useOptimistic=function(R,Y){return le.H.useOptimistic(R,Y)},ze.useReducer=function(R,Y,J){return le.H.useReducer(R,Y,J)},ze.useRef=function(R){return le.H.useRef(R)},ze.useState=function(R){return le.H.useState(R)},ze.useSyncExternalStore=function(R,Y,J){return le.H.useSyncExternalStore(R,Y,J)},ze.useTransition=function(){return le.H.useTransition()},ze.version="19.2.3",ze}var kg;function Nc(){return kg||(kg=1,Nd.exports=m0()),Nd.exports}var j=Nc();const ue=Gv(j);var Ad={exports:{}},xl={},Rd={exports:{}},jd={};var Mg;function p0(){return Mg||(Mg=1,(function(r){function n(I,ne){var ae=I.length;I.push(ne);e:for(;0<ae;){var Le=ae-1>>>1,re=I[Le];if(0<c(re,ne))I[Le]=ne,I[ae]=re,ae=Le;else break e}}function a(I){return I.length===0?null:I[0]}function o(I){if(I.length===0)return null;var ne=I[0],ae=I.pop();if(ae!==ne){I[0]=ae;e:for(var Le=0,re=I.length,R=re>>>1;Le<R;){var Y=2*(Le+1)-1,J=I[Y],ie=Y+1,se=I[ie];if(0>c(J,ae))ie<re&&0>c(se,J)?(I[Le]=se,I[ie]=ae,Le=ie):(I[Le]=J,I[Y]=ae,Le=Y);else if(ie<re&&0>c(se,ae))I[Le]=se,I[ie]=ae,Le=ie;else break e}}return ne}function c(I,ne){var ae=I.sortIndex-ne.sortIndex;return ae!==0?ae:I.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var m=Date,v=m.now();r.unstable_now=function(){return m.now()-v}}var y=[],_=[],E=1,x=null,O=3,N=!1,A=!1,z=!1,B=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function te(I){for(var ne=a(_);ne!==null;){if(ne.callback===null)o(_);else if(ne.startTime<=I)o(_),ne.sortIndex=ne.expirationTime,n(y,ne);else break;ne=a(_)}}function de(I){if(z=!1,te(I),!A)if(a(y)!==null)A=!0,he||(he=!0,be());else{var ne=a(_);ne!==null&&at(de,ne.startTime-I)}}var he=!1,le=-1,je=5,fe=-1;function ye(){return B?!0:!(r.unstable_now()-fe<je)}function _e(){if(B=!1,he){var I=r.unstable_now();fe=I;var ne=!0;try{e:{A=!1,z&&(z=!1,U(le),le=-1),N=!0;var ae=O;try{t:{for(te(I),x=a(y);x!==null&&!(x.expirationTime>I&&ye());){var Le=x.callback;if(typeof Le=="function"){x.callback=null,O=x.priorityLevel;var re=Le(x.expirationTime<=I);if(I=r.unstable_now(),typeof re=="function"){x.callback=re,te(I),ne=!0;break t}x===a(y)&&o(y),te(I)}else o(y);x=a(y)}if(x!==null)ne=!0;else{var R=a(_);R!==null&&at(de,R.startTime-I),ne=!1}}break e}finally{x=null,O=ae,N=!1}ne=void 0}}finally{ne?be():he=!1}}}var be;if(typeof q=="function")be=function(){q(_e)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,De=He.port2;He.port1.onmessage=_e,be=function(){De.postMessage(null)}}else be=function(){P(_e,0)};function at(I,ne){le=P(function(){I(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(I){I.callback=null},r.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):je=0<I?Math.floor(1e3/I):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(I){switch(O){case 1:case 2:case 3:var ne=3;break;default:ne=O}var ae=O;O=ne;try{return I()}finally{O=ae}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(I,ne){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ae=O;O=I;try{return ne()}finally{O=ae}},r.unstable_scheduleCallback=function(I,ne,ae){var Le=r.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Le+ae:Le):ae=Le,I){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ae+re,I={id:E++,callback:ne,priorityLevel:I,startTime:ae,expirationTime:re,sortIndex:-1},ae>Le?(I.sortIndex=ae,n(_,I),a(y)===null&&I===a(_)&&(z?(U(le),le=-1):z=!0,at(de,ae-Le))):(I.sortIndex=re,n(y,I),A||N||(A=!0,he||(he=!0,be()))),I},r.unstable_shouldYield=ye,r.unstable_wrapCallback=function(I){var ne=O;return function(){var ae=O;O=ne;try{return I.apply(this,arguments)}finally{O=ae}}}})(jd)),jd}var zg;function g0(){return zg||(zg=1,Rd.exports=p0()),Rd.exports}var Ld={exports:{}},hn={};var Pg;function v0(){if(Pg)return hn;Pg=1;var r=Nc();function n(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)_+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(y,_,E){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:y,containerInfo:_,implementation:E}}var m=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,hn.createPortal=function(y,_){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return h(y,_,null,E)},hn.flushSync=function(y){var _=m.T,E=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=_,o.p=E,o.d.f()}},hn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,o.d.C(y,_))},hn.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},hn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var E=_.as,x=v(E,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,N=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;E==="style"?o.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:O,fetchPriority:N}):E==="script"&&o.d.X(y,{crossOrigin:x,integrity:O,fetchPriority:N,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},hn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var E=v(_.as,_.crossOrigin);o.d.M(y,{crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&o.d.M(y)},hn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var E=_.as,x=v(E,_.crossOrigin);o.d.L(y,E,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},hn.preloadModule=function(y,_){if(typeof y=="string")if(_){var E=v(_.as,_.crossOrigin);o.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:E,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else o.d.m(y)},hn.requestFormReset=function(y){o.d.r(y)},hn.unstable_batchedUpdates=function(y,_){return y(_)},hn.useFormState=function(y,_,E){return m.H.useFormState(y,_,E)},hn.useFormStatus=function(){return m.H.useHostTransitionStatus()},hn.version="19.2.3",hn}var Dg;function Kv(){if(Dg)return Ld.exports;Dg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Ld.exports=v0(),Ld.exports}var Ug;function y0(){if(Ug)return xl;Ug=1;var r=g0(),n=Nc(),a=Kv();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)t+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,s=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(s=t.return),e=t.return;while(e)}return t.tag===3?s:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(o(188))}function _(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(o(188));return t!==e?null:e}for(var s=e,u=t;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return y(f),e;if(p===u)return y(f),t;p=p.sibling}throw Error(o(188))}if(s.return!==u.return)s=f,u=p;else{for(var S=!1,C=f.child;C;){if(C===s){S=!0,s=f,u=p;break}if(C===u){S=!0,u=f,s=p;break}C=C.sibling}if(!S){for(C=p.child;C;){if(C===s){S=!0,s=p,u=f;break}if(C===u){S=!0,u=p,s=f;break}C=C.sibling}if(!S)throw Error(o(189))}}if(s.alternate!==u)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?e:t}function E(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=E(e),t!==null)return t;e=e.sibling}return null}var x=Object.assign,O=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),q=Symbol.for("react.context"),te=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),le=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),fe=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function be(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var He=Symbol.for("react.client.reference");function De(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===He?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case P:return"Profiler";case B:return"StrictMode";case de:return"Suspense";case he:return"SuspenseList";case fe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case q:return e.displayName||"Context";case U:return(e._context.displayName||"Context")+".Consumer";case te:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case le:return t=e.displayName||null,t!==null?t:De(e.type)||"Memo";case je:t=e._payload,e=e._init;try{return De(e(t))}catch{}}return null}var at=Array.isArray,I=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Le=[],re=-1;function R(e){return{current:e}}function Y(e){0>re||(e.current=Le[re],Le[re]=null,re--)}function J(e,t){re++,Le[re]=e.current,e.current=t}var ie=R(null),se=R(null),oe=R(null),Ne=R(null);function Ee(e,t){switch(J(oe,t),J(se,e),J(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wp(t),e=eg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ie),J(ie,e)}function ge(){Y(ie),Y(se),Y(oe)}function Fe(e){e.memoizedState!==null&&J(Ne,e);var t=ie.current,s=eg(t,e.type);t!==s&&(J(se,e),J(ie,s))}function gt(e){se.current===e&&(Y(ie),Y(se)),Ne.current===e&&(Y(Ne),gl._currentValue=ae)}var sn,Aa;function Ln(e){if(sn===void 0)try{throw Error()}catch(s){var t=s.stack.trim().match(/\n( *(at )?)/);sn=t&&t[1]||"",Aa=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sn+e+Aa}var Ra=!1;function Fi(e,t){if(!e||Ra)return"";Ra=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(t){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(F){var K=F}Reflect.construct(e,[],ee)}else{try{ee.call()}catch(F){K=F}e.call(ee.prototype)}}else{try{throw Error()}catch(F){K=F}(ee=e())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(F){if(F&&K&&typeof F.stack=="string")return[F.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],C=p[1];if(S&&C){var M=S.split(`
`),V=C.split(`
`);for(f=u=0;u<M.length&&!M[u].includes("DetermineComponentFrameRoot");)u++;for(;f<V.length&&!V[f].includes("DetermineComponentFrameRoot");)f++;if(u===M.length||f===V.length)for(u=M.length-1,f=V.length-1;1<=u&&0<=f&&M[u]!==V[f];)f--;for(;1<=u&&0<=f;u--,f--)if(M[u]!==V[f]){if(u!==1||f!==1)do if(u--,f--,0>f||M[u]!==V[f]){var X=`
`+M[u].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=u&&0<=f);break}}}finally{Ra=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ln(s):""}function ui(e,t){switch(e.tag){case 26:case 27:case 5:return Ln(e.type);case 16:return Ln("Lazy");case 13:return e.child!==t&&t!==null?Ln("Suspense Fallback"):Ln("Suspense");case 19:return Ln("SuspenseList");case 0:case 15:return Fi(e.type,!1);case 11:return Fi(e.type.render,!1);case 1:return Fi(e.type,!0);case 31:return Ln("Activity");default:return""}}function Ti(e){try{var t="",s=null;do t+=ui(e,s),s=e,e=e.return;while(e);return t}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var dn=Object.prototype.hasOwnProperty,ja=r.unstable_scheduleCallback,Ji=r.unstable_cancelCallback,$t=r.unstable_shouldYield,ci=r.unstable_requestPaint,Jt=r.unstable_now,_o=r.unstable_getCurrentPriorityLevel,hi=r.unstable_ImmediatePriority,vs=r.unstable_UserBlockingPriority,Oi=r.unstable_NormalPriority,ys=r.unstable_LowPriority,Kn=r.unstable_IdlePriority,_s=r.log,Ci=r.unstable_setDisableYieldValue,Ni=null,Ut=null;function vn(e){if(typeof _s=="function"&&Ci(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(Ni,e)}catch{}}var Zt=Math.clz32?Math.clz32:Yn,Xi=Math.log,bs=Math.LN2;function Yn(e){return e>>>=0,e===0?32:31-(Xi(e)/bs|0)|0}var Qi=256,Wi=262144,Ai=4194304;function Fn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Re(e,t,s){var u=e.pendingLanes;if(u===0)return 0;var f=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var C=u&134217727;return C!==0?(u=C&~p,u!==0?f=Fn(u):(S&=C,S!==0?f=Fn(S):s||(s=C&~e,s!==0&&(f=Fn(s))))):(C=u&~p,C!==0?f=Fn(C):S!==0?f=Fn(S):s||(s=u&~e,s!==0&&(f=Fn(s)))),f===0?0:t!==0&&t!==f&&(t&p)===0&&(p=f&-f,s=t&-t,p>=s||p===32&&(s&4194048)!==0)?t:f}function dt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function At(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vt(){var e=Ai;return Ai<<=1,(Ai&62914560)===0&&(Ai=4194304),e}function Ri(e){for(var t=[],s=0;31>s;s++)t.push(e);return t}function ut(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function rn(e,t,s,u,f,p){var S=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var C=e.entanglements,M=e.expirationTimes,V=e.hiddenUpdates;for(s=S&~s;0<s;){var X=31-Zt(s),ee=1<<X;C[X]=0,M[X]=-1;var K=V[X];if(K!==null)for(V[X]=null,X=0;X<K.length;X++){var F=K[X];F!==null&&(F.lane&=-536870913)}s&=~ee}u!==0&&ea(e,u,0),p!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~t))}function ea(e,t,s){e.pendingLanes|=t,e.suspendedLanes&=~t;var u=31-Zt(t);e.entangledLanes|=t,e.entanglements[u]=e.entanglements[u]|1073741824|s&261930}function on(e,t){var s=e.entangledLanes|=t;for(e=e.entanglements;s;){var u=31-Zt(s),f=1<<u;f&t|e[u]&t&&(e[u]|=t),s&=~f}}function ln(e,t){var s=t&-t;return s=(s&42)!==0?1:Xt(s),(s&(e.suspendedLanes|t))!==0?0:s}function Xt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function me(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fr(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:Sg(e.type))}function bo(e,t){var s=ne.p;try{return ne.p=e,t()}finally{ne.p=s}}var di=Math.random().toString(36).slice(2),Rt="__reactFiber$"+di,Gt="__reactProps$"+di,ta="__reactContainer$"+di,ji="__reactEvents$"+di,$l="__reactListeners$"+di,Pc="__reactHandles$"+di,Zl="__reactResources$"+di,xs="__reactMarker$"+di;function xo(e){delete e[Rt],delete e[Gt],delete e[ji],delete e[$l],delete e[Pc]}function na(e){var t=e[Rt];if(t)return t;for(var s=e.parentNode;s;){if(t=s[ta]||s[Rt]){if(s=t.alternate,t.child!==null||s!==null&&s.child!==null)for(e=og(e);e!==null;){if(s=e[Rt])return s;e=og(e)}return t}e=s,s=e.parentNode}return null}function La(e){if(e=e[Rt]||e[ta]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Li(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function ka(e){var t=e[Zl];return t||(t=e[Zl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function jt(e){e[xs]=!0}var Vl=new Set,Gl={};function ia(e,t){ki(e,t),ki(e+"Capture",t)}function ki(e,t){for(Gl[e]=t,e=0;e<t.length;e++)Vl.add(t[e])}var ws=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},So={};function Ss(e){return dn.call(So,e)?!0:dn.call(wo,e)?!1:ws.test(e)?So[e]=!0:(wo[e]=!0,!1)}function qe(e,t,s){if(Ss(t))if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var u=t.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+s)}}function st(e,t,s){if(s===null)e.removeAttribute(t);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+s)}}function yn(e,t,s,u){if(u===null)e.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(t,s,""+u)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aa(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Eo(e,t,s){var u=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,p=u.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(S){s=""+S,p.call(this,S)}}),Object.defineProperty(e,t,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(S){s=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Me(e){if(!e._valueTracker){var t=aa(e)?"checked":"value";e._valueTracker=Eo(e,t,""+e[t])}}function vt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var s=t.getValue(),u="";return e&&(u=aa(e)?e.checked?"true":"false":e.value),e=u,e!==s?(t.setValue(e),!0):!1}function Ma(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mr=/[\n"\\]/g;function mt(e){return e.replace(mr,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function To(e,t,s,u,f,p,S,C){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?fi(e,S,Bt(t)):s!=null?fi(e,S,Bt(s)):u!=null&&e.removeAttribute("value"),f==null&&p!=null&&(e.defaultChecked=!!p),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Bt(C):e.removeAttribute("name")}function Es(e,t,s,u,f,p,S,C){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){Me(e);return}s=s!=null?""+Bt(s):"",t=t!=null?""+Bt(t):s,C||t===e.value||(e.value=t),e.defaultValue=t}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,e.checked=C?e.checked:!!u,e.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Me(e)}function fi(e,t,s){t==="number"&&Ma(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ct(e,t,s,u){if(e=e.options,t){t={};for(var f=0;f<s.length;f++)t["$"+s[f]]=!0;for(s=0;s<e.length;s++)f=t.hasOwnProperty("$"+e[s].value),e[s].selected!==f&&(e[s].selected=f),f&&u&&(e[s].defaultSelected=!0)}else{for(s=""+Bt(s),t=null,f=0;f<e.length;f++){if(e[f].value===s){e[f].selected=!0,u&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Mi(e,t,s){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),s==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=s!=null?""+Bt(s):""}function za(e,t,s,u){if(t==null){if(u!=null){if(s!=null)throw Error(o(92));if(at(u)){if(1<u.length)throw Error(o(93));u=u[0]}s=u}s==null&&(s=""),t=s}s=Bt(t),e.defaultValue=s,u=e.textContent,u===s&&u!==""&&u!==null&&(e.value=u),Me(e)}function Jn(e,t){if(t){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=t;return}}e.textContent=t}var Oo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pa(e,t,s){var u=t.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":u?e.setProperty(t,s):typeof s!="number"||s===0||Oo.has(t)?t==="float"?e.cssFloat=s:e[t]=(""+s).trim():e[t]=s+"px"}function pr(e,t,s){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||t!=null&&t.hasOwnProperty(u)||(u.indexOf("--")===0?e.setProperty(u,""):u==="float"?e.cssFloat="":e[u]="");for(var f in t)u=t[f],t.hasOwnProperty(f)&&s[f]!==u&&Pa(e,f,u)}else for(var p in t)t.hasOwnProperty(p)&&Pa(e,p,t[p])}function Ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gr=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Co=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Da(e){return Co.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function _n(){}var vr=null;function Os(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,Ae=null;function kn(e){var t=La(e);if(t&&(e=t.stateNode)){var s=e[Gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(To(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),t=s.name,s.type==="radio"&&t!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<s.length;t++){var u=s[t];if(u!==e&&u.form===e.form){var f=u[Gt]||null;if(!f)throw Error(o(90));To(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<s.length;t++)u=s[t],u.form===e.form&&vt(u)}break e;case"textarea":Mi(e,s.value,s.defaultValue);break e;case"select":t=s.value,t!=null&&ct(e,!!s.multiple,t,!1)}}}var tt=!1;function No(e,t,s){if(tt)return e(t,s);tt=!0;try{var u=e(t);return u}finally{if(tt=!1,(Ua!==null||Ae!==null)&&(qu(),Ua&&(t=Ua,e=Ae,Ae=Ua=null,kn(t),e)))for(t=0;t<e.length;t++)kn(e[t])}}function sa(e,t){var s=e.stateNode;if(s===null)return null;var u=s[Gt]||null;if(u===null)return null;s=u[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(e=e.type,u=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!u;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(o(231,t,typeof s));return s}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(Mn)try{var zn={};Object.defineProperty(zn,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",zn,zn),window.removeEventListener("test",zn,zn)}catch{Cs=!1}var Xn=null,ra=null,wt=null;function zi(){if(wt)return wt;var e,t=ra,s=t.length,u,f="value"in Xn?Xn.value:Xn.textContent,p=f.length;for(e=0;e<s&&t[e]===f[e];e++);var S=s-e;for(u=1;u<=S&&t[s-u]===f[p-u];u++);return wt=f.slice(e,1<u?1-u:void 0)}function Ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function Kl(){return!1}function Qt(e){function t(s,u,f,p,S){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(s=e[C],this[C]=s?s(p):p[C]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?As:Kl,this.isPropagationStopped=Kl,this}return x(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yr=Qt(mi),Ba=x({},mi,{view:0,detail:0}),Ge=Qt(Ba),Ao,fn,pi,Rs=x({},Ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(Ao=e.screenX-pi.screenX,fn=e.screenY-pi.screenY):fn=Ao=0,pi=e),Ao)},movementY:function(e){return"movementY"in e?e.movementY:fn}}),Yl=Qt(Rs),Ro=x({},Rs,{dataTransfer:0}),Dc=Qt(Ro),Fl=x({},Ba,{relatedTarget:0}),jo=Qt(Fl),Uc=x({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lo=Qt(Uc),Bc=x({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qn=Qt(Bc),Hc=x({},mi,{data:0}),ko=Qt(Hc),Pi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mo(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Xl[e])?!!t[e]:!1}function zo(){return Mo}var Ql=x({},Ba,{key:function(e){if(e.key){var t=Pi[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zo,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wl=Qt(Ql),Ic=x({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eu=Qt(Ic),Po=x({},Ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zo}),qc=Qt(Po),tu=x({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),nu=Qt(tu),_r=x({},Rs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=Qt(_r),$c=x({},mi,{newState:0,oldState:0}),js=Qt($c),bn=[9,13,27,32],br=Mn&&"CompositionEvent"in window,Ha=null;Mn&&"documentMode"in document&&(Ha=document.documentMode);var Zc=Mn&&"TextEvent"in window&&!Ha,xr=Mn&&(!br||Ha&&8<Ha&&11>=Ha),wr=" ",iu=!1;function au(e,t){switch(e){case"keyup":return bn.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Do(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function Pn(e,t){switch(e){case"compositionend":return Do(t);case"keypress":return t.which!==32?null:(iu=!0,wr);case"textInput":return e=t.data,e===wr&&iu?null:e;default:return null}}function qa(e,t){if(Ia)return e==="compositionend"||!br&&au(e,t)?(e=zi(),wt=ra=Xn=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xr&&t.locale!=="ko"?null:t.data;default:return null}}var Vc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vc[e.type]:t==="textarea"}function su(e,t,s,u){Ua?Ae?Ae.push(u):Ae=[u]:Ua=u,t=Fu(t,"onChange"),0<t.length&&(s=new yr("onChange","change",null,s,u),e.push({event:s,listeners:t}))}var ei=null,Ls=null;function ks(e){Kp(e,0)}function Ms(e){var t=Li(e);if(vt(t))return e}function zs(e,t){if(e==="change")return t}var ru=!1;if(Mn){var ti;if(Mn){var $a="oninput"in document;if(!$a){var ou=document.createElement("div");ou.setAttribute("oninput","return;"),$a=typeof ou.oninput=="function"}ti=$a}else ti=!1;ru=ti&&(!document.documentMode||9<document.documentMode)}function Sr(){ei&&(ei.detachEvent("onpropertychange",lu),Ls=ei=null)}function lu(e){if(e.propertyName==="value"&&Ms(Ls)){var t=[];su(t,Ls,e,Os(e)),No(ks,t)}}function gi(e,t,s){e==="focusin"?(Sr(),ei=t,Ls=s,ei.attachEvent("onpropertychange",lu)):e==="focusout"&&Sr()}function Gc(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ms(Ls)}function Za(e,t){if(e==="click")return Ms(t)}function Kc(e,t){if(e==="input"||e==="change")return Ms(t)}function vi(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:vi;function Va(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var s=Object.keys(e),u=Object.keys(t);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!dn.call(t,f)||!Kt(e[f],t[f]))return!1}return!0}function Er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ps(e,t){var s=Er(e);e=0;for(var u;s;){if(s.nodeType===3){if(u=e+s.textContent.length,e<=t&&u>=t)return{node:s,offset:t-e};e=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Er(s)}}function Tr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tr(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ds(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ma(e.document);t instanceof e.HTMLIFrameElement;){try{var s=typeof t.contentWindow.location.href=="string"}catch{s=!1}if(s)e=t.contentWindow;else break;t=Ma(e.document)}return t}function Di(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Or=Mn&&"documentMode"in document&&11>=document.documentMode,Ui=null,Cr=null,Us=null,Ga=!1;function uu(e,t,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ga||Ui==null||Ui!==Ma(u)||(u=Ui,"selectionStart"in u&&Di(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Us&&Va(Us,u)||(Us=u,u=Fu(Cr,"onSelect"),0<u.length&&(t=new yr("onSelect","select",null,t,s),e.push({event:t,listeners:u}),t.target=Ui)))}function Bi(e,t){var s={};return s[e.toLowerCase()]=t.toLowerCase(),s["Webkit"+e]="webkit"+t,s["Moz"+e]="moz"+t,s}var Ka={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},Nr={},cu={};Mn&&(cu=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function Yt(e){if(Nr[e])return Nr[e];if(!Ka[e])return e;var t=Ka[e],s;for(s in t)if(t.hasOwnProperty(s)&&s in cu)return Nr[e]=t[s];return e}var Bs=Yt("animationend"),hu=Yt("animationiteration"),Hs=Yt("animationstart"),Yc=Yt("transitionrun"),du=Yt("transitionstart"),Fc=Yt("transitioncancel"),Ya=Yt("transitionend"),fu=new Map,Hi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hi.push("scrollEnd");function xn(e,t){fu.set(e,t),ia(t,[e])}var Is=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},wn=[],un=0,Ar=0;function qs(){for(var e=un,t=Ar=un=0;t<e;){var s=wn[t];wn[t++]=null;var u=wn[t];wn[t++]=null;var f=wn[t];wn[t++]=null;var p=wn[t];if(wn[t++]=null,u!==null&&f!==null){var S=u.pending;S===null?f.next=f:(f.next=S.next,S.next=f),u.pending=f}p!==0&&Fa(s,f,p)}}function Ii(e,t,s,u){wn[un++]=e,wn[un++]=t,wn[un++]=s,wn[un++]=u,Ar|=u,e.lanes|=u,e=e.alternate,e!==null&&(e.lanes|=u)}function Uo(e,t,s,u){return Ii(e,t,s,u),$s(e)}function ni(e,t){return Ii(e,null,null,t),$s(e)}function Fa(e,t,s){e.lanes|=s;var u=e.alternate;u!==null&&(u.lanes|=s);for(var f=!1,p=e.return;p!==null;)p.childLanes|=s,u=p.alternate,u!==null&&(u.childLanes|=s),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(f=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,f&&t!==null&&(f=31-Zt(s),e=p.hiddenUpdates,u=e[f],u===null?e[f]=[t]:u.push(t),t.lane=s|536870912),p):null}function $s(e){if(50<ul)throw ul=0,Xh=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var la={};function Jc(e,t,s,u){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,s,u){return new Jc(e,t,s,u)}function Rr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ii(e,t){var s=e.alternate;return s===null?(s=cn(e.tag,t,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=t,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,t=e.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Bo(e,t){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,t=s.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zs(e,t,s,u,f,p){var S=0;if(u=e,typeof e=="function")Rr(e)&&(S=1);else if(typeof e=="string")S=e0(e,s,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case fe:return e=cn(31,s,t,f),e.elementType=fe,e.lanes=p,e;case z:return ua(s.children,f,p,t);case B:S=8,f|=24;break;case P:return e=cn(12,s,t,f|2),e.elementType=P,e.lanes=p,e;case de:return e=cn(13,s,t,f),e.elementType=de,e.lanes=p,e;case he:return e=cn(19,s,t,f),e.elementType=he,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:S=10;break e;case U:S=9;break e;case te:S=11;break e;case le:S=14;break e;case je:S=16,u=null;break e}S=29,s=Error(o(130,e===null?"null":typeof e,"")),u=null}return t=cn(S,s,t,f),t.elementType=e,t.type=u,t.lanes=p,t}function ua(e,t,s,u){return e=cn(7,e,u,t),e.lanes=s,e}function jr(e,t,s){return e=cn(6,e,null,t),e.lanes=s,e}function Ho(e){var t=cn(18,null,null,0);return t.stateNode=e,t}function Io(e,t,s){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=s,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var i=new WeakMap;function l(e,t){if(typeof e=="object"&&e!==null){var s=i.get(e);return s!==void 0?s:(t={value:e,source:t,stack:Ti(t)},i.set(e,t),t)}return{value:e,source:t,stack:Ti(t)}}var d=[],g=0,w=null,T=0,k=[],$=0,G=null,W=1,ce="";function xe(e,t){d[g++]=T,d[g++]=w,w=e,T=t}function Ue(e,t,s){k[$++]=W,k[$++]=ce,k[$++]=G,G=e;var u=W;e=ce;var f=32-Zt(u)-1;u&=~(1<<f),s+=1;var p=32-Zt(t)+f;if(30<p){var S=f-f%5;p=(u&(1<<S)-1).toString(32),u>>=S,f-=S,W=1<<32-Zt(t)+f|s<<f|u,ce=p+e}else W=1<<p|s<<f|u,ce=e}function Ht(e){e.return!==null&&(xe(e,1),Ue(e,1,0))}function St(e){for(;e===w;)w=d[--g],d[g]=null,T=d[--g],d[g]=null;for(;e===G;)G=k[--$],k[$]=null,ce=k[--$],k[$]=null,W=k[--$],k[$]=null}function mn(e,t){k[$++]=W,k[$++]=ce,k[$++]=G,W=t.id,ce=t.overflow,G=e}var Je=null,Xe=null,$e=!1,qi=null,Sn=!1,Lr=Error(o(519));function $i(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vs(l(t,e)),Lr}function qo(e){var t=e.stateNode,s=e.type,u=e.memoizedProps;switch(t[Rt]=e,t[Gt]=u,s){case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":case"embed":Ve("load",t);break;case"video":case"audio":for(s=0;s<hl.length;s++)Ve(hl[s],t);break;case"source":Ve("error",t);break;case"img":case"image":case"link":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"input":Ve("invalid",t),Es(t,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",t);break;case"textarea":Ve("invalid",t),za(t,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||t.textContent===""+s||u.suppressHydrationWarning===!0||Xp(t.textContent,s)?(u.popover!=null&&(Ve("beforetoggle",t),Ve("toggle",t)),u.onScroll!=null&&Ve("scroll",t),u.onScrollEnd!=null&&Ve("scrollend",t),u.onClick!=null&&(t.onclick=_n),t=!0):t=!1,t||$i(e,!0)}function bt(e){for(Je=e.return;Je;)switch(Je.tag){case 5:case 31:case 13:Sn=!1;return;case 27:case 3:Sn=!0;return;default:Je=Je.return}}function yi(e){if(e!==Je)return!1;if(!$e)return bt(e),$e=!0,!1;var t=e.tag,s;if((s=t!==3&&t!==27)&&((s=t===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&Xe&&$i(e),bt(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Xe=rg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Xe=rg(e)}else t===27?(t=Xe,us(e.type)?(e=vd,vd=null,Xe=e):Xe=t):Xe=Je?si(e.stateNode.nextSibling):null;return!0}function ca(){Xe=Je=null,$e=!1}function $o(){var e=qi;return e!==null&&(Cn===null?Cn=e:Cn.push.apply(Cn,e),qi=null),e}function Vs(e){qi===null?qi=[e]:qi.push(e)}var Gs=R(null),Zi=null,_i=null;function Ja(e,t,s){J(Gs,t._currentValue),t._currentValue=s}function ha(e){e._currentValue=Gs.current,Y(Gs)}function Xc(e,t,s){for(;e!==null;){var u=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,u!==null&&(u.childLanes|=t)):u!==null&&(u.childLanes&t)!==t&&(u.childLanes|=t),e===s)break;e=e.return}}function Qc(e,t,s,u){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var p=f.dependencies;if(p!==null){var S=f.child;p=p.firstContext;e:for(;p!==null;){var C=p;p=f;for(var M=0;M<t.length;M++)if(C.context===t[M]){p.lanes|=s,C=p.alternate,C!==null&&(C.lanes|=s),Xc(p.return,s,e),u||(S=null);break e}p=C.next}}else if(f.tag===18){if(S=f.return,S===null)throw Error(o(341));S.lanes|=s,p=S.alternate,p!==null&&(p.lanes|=s),Xc(S,s,e),S=null}else S=f.child;if(S!==null)S.return=f;else for(S=f;S!==null;){if(S===e){S=null;break}if(f=S.sibling,f!==null){f.return=S.return,S=f;break}S=S.return}f=S}}function kr(e,t,s,u){e=null;for(var f=t,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var S=f.alternate;if(S===null)throw Error(o(387));if(S=S.memoizedProps,S!==null){var C=f.type;Kt(f.pendingProps.value,S.value)||(e!==null?e.push(C):e=[C])}}else if(f===Ne.current){if(S=f.alternate,S===null)throw Error(o(387));S.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}f=f.return}e!==null&&Qc(t,e,s,u),t.flags|=262144}function mu(e){for(e=e.firstContext;e!==null;){if(!Kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ks(e){Zi=e,_i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Wt(e){return Pf(Zi,e)}function pu(e,t){return Zi===null&&Ks(e),Pf(e,t)}function Pf(e,t){var s=t._currentValue;if(t={context:t,memoizedValue:s,next:null},_i===null){if(e===null)throw Error(o(308));_i=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _i=_i.next=t;return s}var Jy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(s,u){e.push(u)}};this.abort=function(){t.aborted=!0,e.forEach(function(s){return s()})}},Xy=r.unstable_scheduleCallback,Qy=r.unstable_NormalPriority,Lt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new Jy,data:new Map,refCount:0}}function Zo(e){e.refCount--,e.refCount===0&&Xy(Qy,function(){e.controller.abort()})}var Vo=null,eh=0,Mr=0,zr=null;function Wy(e,t){if(Vo===null){var s=Vo=[];eh=0,Mr=id(),zr={status:"pending",value:void 0,then:function(u){s.push(u)}}}return eh++,t.then(Df,Df),t}function Df(){if(--eh===0&&Vo!==null){zr!==null&&(zr.status="fulfilled");var e=Vo;Vo=null,Mr=0,zr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function e_(e,t){var s=[],u={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return e.then(function(){u.status="fulfilled",u.value=t;for(var f=0;f<s.length;f++)(0,s[f])(t)},function(f){for(u.status="rejected",u.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),u}var Uf=I.S;I.S=function(e,t){xp=Jt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Wy(e,t),Uf!==null&&Uf(e,t)};var Ys=R(null);function th(){var e=Ys.current;return e!==null?e:ht.pooledCache}function gu(e,t){t===null?J(Ys,Ys.current):J(Ys,t.pool)}function Bf(){var e=th();return e===null?null:{parent:Lt._currentValue,pool:e}}var Pr=Error(o(460)),nh=Error(o(474)),vu=Error(o(542)),yu={then:function(){}};function Hf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function If(e,t,s){switch(s=e[s],s===void 0?e.push(t):s!==t&&(t.then(_n,_n),t=s),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$f(e),e;default:if(typeof t.status=="string")t.then(_n,_n);else{if(e=ht,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(u){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=u}},function(u){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=u}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,$f(e),e}throw Js=t,Pr}}function Fs(e){try{var t=e._init;return t(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Js=s,Pr):s}}var Js=null;function qf(){if(Js===null)throw Error(o(459));var e=Js;return Js=null,e}function $f(e){if(e===Pr||e===vu)throw Error(o(483))}var Dr=null,Go=0;function _u(e){var t=Go;return Go+=1,Dr===null&&(Dr=[]),If(Dr,e,t)}function Ko(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bu(e,t){throw t.$$typeof===O?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Zf(e){function t(H,D){if(e){var Z=H.deletions;Z===null?(H.deletions=[D],H.flags|=16):Z.push(D)}}function s(H,D){if(!e)return null;for(;D!==null;)t(H,D),D=D.sibling;return null}function u(H){for(var D=new Map;H!==null;)H.key!==null?D.set(H.key,H):D.set(H.index,H),H=H.sibling;return D}function f(H,D){return H=ii(H,D),H.index=0,H.sibling=null,H}function p(H,D,Z){return H.index=Z,e?(Z=H.alternate,Z!==null?(Z=Z.index,Z<D?(H.flags|=67108866,D):Z):(H.flags|=67108866,D)):(H.flags|=1048576,D)}function S(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function C(H,D,Z,Q){return D===null||D.tag!==6?(D=jr(Z,H.mode,Q),D.return=H,D):(D=f(D,Z),D.return=H,D)}function M(H,D,Z,Q){var Se=Z.type;return Se===z?X(H,D,Z.props.children,Q,Z.key):D!==null&&(D.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===je&&Fs(Se)===D.type)?(D=f(D,Z.props),Ko(D,Z),D.return=H,D):(D=Zs(Z.type,Z.key,Z.props,null,H.mode,Q),Ko(D,Z),D.return=H,D)}function V(H,D,Z,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==Z.containerInfo||D.stateNode.implementation!==Z.implementation?(D=Io(Z,H.mode,Q),D.return=H,D):(D=f(D,Z.children||[]),D.return=H,D)}function X(H,D,Z,Q,Se){return D===null||D.tag!==7?(D=ua(Z,H.mode,Q,Se),D.return=H,D):(D=f(D,Z),D.return=H,D)}function ee(H,D,Z){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=jr(""+D,H.mode,Z),D.return=H,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case N:return Z=Zs(D.type,D.key,D.props,null,H.mode,Z),Ko(Z,D),Z.return=H,Z;case A:return D=Io(D,H.mode,Z),D.return=H,D;case je:return D=Fs(D),ee(H,D,Z)}if(at(D)||be(D))return D=ua(D,H.mode,Z,null),D.return=H,D;if(typeof D.then=="function")return ee(H,_u(D),Z);if(D.$$typeof===q)return ee(H,pu(H,D),Z);bu(H,D)}return null}function K(H,D,Z,Q){var Se=D!==null?D.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Se!==null?null:C(H,D,""+Z,Q);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:return Z.key===Se?M(H,D,Z,Q):null;case A:return Z.key===Se?V(H,D,Z,Q):null;case je:return Z=Fs(Z),K(H,D,Z,Q)}if(at(Z)||be(Z))return Se!==null?null:X(H,D,Z,Q,null);if(typeof Z.then=="function")return K(H,D,_u(Z),Q);if(Z.$$typeof===q)return K(H,D,pu(H,Z),Q);bu(H,Z)}return null}function F(H,D,Z,Q,Se){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return H=H.get(Z)||null,C(D,H,""+Q,Se);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case N:return H=H.get(Q.key===null?Z:Q.key)||null,M(D,H,Q,Se);case A:return H=H.get(Q.key===null?Z:Q.key)||null,V(D,H,Q,Se);case je:return Q=Fs(Q),F(H,D,Z,Q,Se)}if(at(Q)||be(Q))return H=H.get(Z)||null,X(D,H,Q,Se,null);if(typeof Q.then=="function")return F(H,D,Z,_u(Q),Se);if(Q.$$typeof===q)return F(H,D,Z,pu(D,Q),Se);bu(D,Q)}return null}function pe(H,D,Z,Q){for(var Se=null,Qe=null,ve=D,Be=D=0,Ye=null;ve!==null&&Be<Z.length;Be++){ve.index>Be?(Ye=ve,ve=null):Ye=ve.sibling;var We=K(H,ve,Z[Be],Q);if(We===null){ve===null&&(ve=Ye);break}e&&ve&&We.alternate===null&&t(H,ve),D=p(We,D,Be),Qe===null?Se=We:Qe.sibling=We,Qe=We,ve=Ye}if(Be===Z.length)return s(H,ve),$e&&xe(H,Be),Se;if(ve===null){for(;Be<Z.length;Be++)ve=ee(H,Z[Be],Q),ve!==null&&(D=p(ve,D,Be),Qe===null?Se=ve:Qe.sibling=ve,Qe=ve);return $e&&xe(H,Be),Se}for(ve=u(ve);Be<Z.length;Be++)Ye=F(ve,H,Be,Z[Be],Q),Ye!==null&&(e&&Ye.alternate!==null&&ve.delete(Ye.key===null?Be:Ye.key),D=p(Ye,D,Be),Qe===null?Se=Ye:Qe.sibling=Ye,Qe=Ye);return e&&ve.forEach(function(ms){return t(H,ms)}),$e&&xe(H,Be),Se}function Te(H,D,Z,Q){if(Z==null)throw Error(o(151));for(var Se=null,Qe=null,ve=D,Be=D=0,Ye=null,We=Z.next();ve!==null&&!We.done;Be++,We=Z.next()){ve.index>Be?(Ye=ve,ve=null):Ye=ve.sibling;var ms=K(H,ve,We.value,Q);if(ms===null){ve===null&&(ve=Ye);break}e&&ve&&ms.alternate===null&&t(H,ve),D=p(ms,D,Be),Qe===null?Se=ms:Qe.sibling=ms,Qe=ms,ve=Ye}if(We.done)return s(H,ve),$e&&xe(H,Be),Se;if(ve===null){for(;!We.done;Be++,We=Z.next())We=ee(H,We.value,Q),We!==null&&(D=p(We,D,Be),Qe===null?Se=We:Qe.sibling=We,Qe=We);return $e&&xe(H,Be),Se}for(ve=u(ve);!We.done;Be++,We=Z.next())We=F(ve,H,Be,We.value,Q),We!==null&&(e&&We.alternate!==null&&ve.delete(We.key===null?Be:We.key),D=p(We,D,Be),Qe===null?Se=We:Qe.sibling=We,Qe=We);return e&&ve.forEach(function(h0){return t(H,h0)}),$e&&xe(H,Be),Se}function lt(H,D,Z,Q){if(typeof Z=="object"&&Z!==null&&Z.type===z&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case N:e:{for(var Se=Z.key;D!==null;){if(D.key===Se){if(Se=Z.type,Se===z){if(D.tag===7){s(H,D.sibling),Q=f(D,Z.props.children),Q.return=H,H=Q;break e}}else if(D.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===je&&Fs(Se)===D.type){s(H,D.sibling),Q=f(D,Z.props),Ko(Q,Z),Q.return=H,H=Q;break e}s(H,D);break}else t(H,D);D=D.sibling}Z.type===z?(Q=ua(Z.props.children,H.mode,Q,Z.key),Q.return=H,H=Q):(Q=Zs(Z.type,Z.key,Z.props,null,H.mode,Q),Ko(Q,Z),Q.return=H,H=Q)}return S(H);case A:e:{for(Se=Z.key;D!==null;){if(D.key===Se)if(D.tag===4&&D.stateNode.containerInfo===Z.containerInfo&&D.stateNode.implementation===Z.implementation){s(H,D.sibling),Q=f(D,Z.children||[]),Q.return=H,H=Q;break e}else{s(H,D);break}else t(H,D);D=D.sibling}Q=Io(Z,H.mode,Q),Q.return=H,H=Q}return S(H);case je:return Z=Fs(Z),lt(H,D,Z,Q)}if(at(Z))return pe(H,D,Z,Q);if(be(Z)){if(Se=be(Z),typeof Se!="function")throw Error(o(150));return Z=Se.call(Z),Te(H,D,Z,Q)}if(typeof Z.then=="function")return lt(H,D,_u(Z),Q);if(Z.$$typeof===q)return lt(H,D,pu(H,Z),Q);bu(H,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,D!==null&&D.tag===6?(s(H,D.sibling),Q=f(D,Z),Q.return=H,H=Q):(s(H,D),Q=jr(Z,H.mode,Q),Q.return=H,H=Q),S(H)):s(H,D)}return function(H,D,Z,Q){try{Go=0;var Se=lt(H,D,Z,Q);return Dr=null,Se}catch(ve){if(ve===Pr||ve===vu)throw ve;var Qe=cn(29,ve,null,H.mode);return Qe.lanes=Q,Qe.return=H,Qe}}}var Xs=Zf(!0),Vf=Zf(!1),Xa=!1;function ih(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wa(e,t,s){var u=e.updateQueue;if(u===null)return null;if(u=u.shared,(et&2)!==0){var f=u.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),u.pending=t,t=$s(e),Fa(e,null,s),t}return Ii(e,u,t,s),$s(e)}function Yo(e,t,s){if(t=t.updateQueue,t!==null&&(t=t.shared,(s&4194048)!==0)){var u=t.lanes;u&=e.pendingLanes,s|=u,t.lanes=s,on(e,s)}}function sh(e,t){var s=e.updateQueue,u=e.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=S:p=p.next=S,s=s.next}while(s!==null);p===null?f=p=t:p=p.next=t}else f=p=t;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=t:e.next=t,s.lastBaseUpdate=t}var rh=!1;function Fo(){if(rh){var e=zr;if(e!==null)throw e}}function Jo(e,t,s,u){rh=!1;var f=e.updateQueue;Xa=!1;var p=f.firstBaseUpdate,S=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var M=C,V=M.next;M.next=null,S===null?p=V:S.next=V,S=M;var X=e.alternate;X!==null&&(X=X.updateQueue,C=X.lastBaseUpdate,C!==S&&(C===null?X.firstBaseUpdate=V:C.next=V,X.lastBaseUpdate=M))}if(p!==null){var ee=f.baseState;S=0,X=V=M=null,C=p;do{var K=C.lane&-536870913,F=K!==C.lane;if(F?(Ke&K)===K:(u&K)===K){K!==0&&K===Mr&&(rh=!0),X!==null&&(X=X.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var pe=e,Te=C;K=t;var lt=s;switch(Te.tag){case 1:if(pe=Te.payload,typeof pe=="function"){ee=pe.call(lt,ee,K);break e}ee=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=Te.payload,K=typeof pe=="function"?pe.call(lt,ee,K):pe,K==null)break e;ee=x({},ee,K);break e;case 2:Xa=!0}}K=C.callback,K!==null&&(e.flags|=64,F&&(e.flags|=8192),F=f.callbacks,F===null?f.callbacks=[K]:F.push(K))}else F={lane:K,tag:C.tag,payload:C.payload,callback:C.callback,next:null},X===null?(V=X=F,M=ee):X=X.next=F,S|=K;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;F=C,C=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);X===null&&(M=ee),f.baseState=M,f.firstBaseUpdate=V,f.lastBaseUpdate=X,p===null&&(f.shared.lanes=0),as|=S,e.lanes=S,e.memoizedState=ee}}function Gf(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Kf(e,t){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Gf(s[e],t)}var Ur=R(null),xu=R(0);function Yf(e,t){e=ba,J(xu,e),J(Ur,t),ba=e|t.baseLanes}function oh(){J(xu,ba),J(Ur,Ur.current)}function lh(){ba=xu.current,Y(Ur),Y(xu)}var Dn=R(null),ai=null;function es(e){var t=e.alternate;J(Ct,Ct.current&1),J(Dn,e),ai===null&&(t===null||Ur.current!==null||t.memoizedState!==null)&&(ai=e)}function uh(e){J(Ct,Ct.current),J(Dn,e),ai===null&&(ai=e)}function Ff(e){e.tag===22?(J(Ct,Ct.current),J(Dn,e),ai===null&&(ai=e)):ts()}function ts(){J(Ct,Ct.current),J(Dn,Dn.current)}function Un(e){Y(Dn),ai===e&&(ai=null),Y(Ct)}var Ct=R(0);function wu(e){for(var t=e;t!==null;){if(t.tag===13){var s=t.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||gd(s)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var da=0,Pe=null,rt=null,kt=null,Su=!1,Br=!1,Qs=!1,Eu=0,Xo=0,Hr=null,t_=0;function Et(){throw Error(o(321))}function ch(e,t){if(t===null)return!1;for(var s=0;s<t.length&&s<e.length;s++)if(!Kt(e[s],t[s]))return!1;return!0}function hh(e,t,s,u,f,p){return da=p,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,I.H=e===null||e.memoizedState===null?Lm:Oh,Qs=!1,p=s(u,f),Qs=!1,Br&&(p=Xf(t,s,u,f)),Jf(e),p}function Jf(e){I.H=el;var t=rt!==null&&rt.next!==null;if(da=0,kt=rt=Pe=null,Su=!1,Xo=0,Hr=null,t)throw Error(o(300));e===null||Mt||(e=e.dependencies,e!==null&&mu(e)&&(Mt=!0))}function Xf(e,t,s,u){Pe=e;var f=0;do{if(Br&&(Hr=null),Xo=0,Br=!1,25<=f)throw Error(o(301));if(f+=1,kt=rt=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}I.H=km,p=t(s,u)}while(Br);return p}function n_(){var e=I.H,t=e.useState()[0];return t=typeof t.then=="function"?Qo(t):t,e=e.useState()[0],(rt!==null?rt.memoizedState:null)!==e&&(Pe.flags|=1024),t}function dh(){var e=Eu!==0;return Eu=0,e}function fh(e,t,s){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s}function mh(e){if(Su){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Su=!1}da=0,kt=rt=Pe=null,Br=!1,Xo=Eu=0,Hr=null}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Pe.memoizedState=kt=e:kt=kt.next=e,kt}function Nt(){if(rt===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=rt.next;var t=kt===null?Pe.memoizedState:kt.next;if(t!==null)kt=t,rt=e;else{if(e===null)throw Pe.alternate===null?Error(o(467)):Error(o(310));rt=e,e={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},kt===null?Pe.memoizedState=kt=e:kt=kt.next=e}return kt}function Tu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(e){var t=Xo;return Xo+=1,Hr===null&&(Hr=[]),e=If(Hr,e,t),t=Pe,(kt===null?t.memoizedState:kt.next)===null&&(t=t.alternate,I.H=t===null||t.memoizedState===null?Lm:Oh),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qo(e);if(e.$$typeof===q)return Wt(e)}throw Error(o(438,String(e)))}function ph(e){var t=null,s=Pe.updateQueue;if(s!==null&&(t=s.memoCache),t==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(t={data:u.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),s===null&&(s=Tu(),Pe.updateQueue=s),s.memoCache=t,s=t.data[t.index],s===void 0)for(s=t.data[t.index]=Array(e),u=0;u<e;u++)s[u]=ye;return t.index++,s}function fa(e,t){return typeof t=="function"?t(e):t}function Cu(e){var t=Nt();return gh(t,rt,e)}function gh(e,t,s){var u=e.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=s;var f=e.baseQueue,p=u.pending;if(p!==null){if(f!==null){var S=f.next;f.next=p.next,p.next=S}t.baseQueue=f=p,u.pending=null}if(p=e.baseState,f===null)e.memoizedState=p;else{t=f.next;var C=S=null,M=null,V=t,X=!1;do{var ee=V.lane&-536870913;if(ee!==V.lane?(Ke&ee)===ee:(da&ee)===ee){var K=V.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),ee===Mr&&(X=!0);else if((da&K)===K){V=V.next,K===Mr&&(X=!0);continue}else ee={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},M===null?(C=M=ee,S=p):M=M.next=ee,Pe.lanes|=K,as|=K;ee=V.action,Qs&&s(p,ee),p=V.hasEagerState?V.eagerState:s(p,ee)}else K={lane:ee,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},M===null?(C=M=K,S=p):M=M.next=K,Pe.lanes|=ee,as|=ee;V=V.next}while(V!==null&&V!==t);if(M===null?S=p:M.next=C,!Kt(p,e.memoizedState)&&(Mt=!0,X&&(s=zr,s!==null)))throw s;e.memoizedState=p,e.baseState=S,e.baseQueue=M,u.lastRenderedState=p}return f===null&&(u.lanes=0),[e.memoizedState,u.dispatch]}function vh(e){var t=Nt(),s=t.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=e;var u=s.dispatch,f=s.pending,p=t.memoizedState;if(f!==null){s.pending=null;var S=f=f.next;do p=e(p,S.action),S=S.next;while(S!==f);Kt(p,t.memoizedState)||(Mt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),s.lastRenderedState=p}return[p,u]}function Qf(e,t,s){var u=Pe,f=Nt(),p=$e;if(p){if(s===void 0)throw Error(o(407));s=s()}else s=t();var S=!Kt((rt||f).memoizedState,s);if(S&&(f.memoizedState=s,Mt=!0),f=f.queue,bh(tm.bind(null,u,f,e),[e]),f.getSnapshot!==t||S||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,Ir(9,{destroy:void 0},em.bind(null,u,f,s,t),null),ht===null)throw Error(o(349));p||(da&127)!==0||Wf(u,t,s)}return s}function Wf(e,t,s){e.flags|=16384,e={getSnapshot:t,value:s},t=Pe.updateQueue,t===null?(t=Tu(),Pe.updateQueue=t,t.stores=[e]):(s=t.stores,s===null?t.stores=[e]:s.push(e))}function em(e,t,s,u){t.value=s,t.getSnapshot=u,nm(t)&&im(e)}function tm(e,t,s){return s(function(){nm(t)&&im(e)})}function nm(e){var t=e.getSnapshot;e=e.value;try{var s=t();return!Kt(e,s)}catch{return!0}}function im(e){var t=ni(e,2);t!==null&&Nn(t,e,2)}function yh(e){var t=pn();if(typeof e=="function"){var s=e;if(e=s(),Qs){vn(!0);try{s()}finally{vn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function am(e,t,s,u){return e.baseState=s,gh(e,rt,typeof u=="function"?u:fa)}function i_(e,t,s,u,f){if(Ru(e))throw Error(o(485));if(e=t.action,e!==null){var p={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};I.T!==null?s(!0):p.isTransition=!1,u(p),s=t.pending,s===null?(p.next=t.pending=p,sm(t,p)):(p.next=s.next,t.pending=s.next=p)}}function sm(e,t){var s=t.action,u=t.payload,f=e.state;if(t.isTransition){var p=I.T,S={};I.T=S;try{var C=s(f,u),M=I.S;M!==null&&M(S,C),rm(e,t,C)}catch(V){_h(e,t,V)}finally{p!==null&&S.types!==null&&(p.types=S.types),I.T=p}}else try{p=s(f,u),rm(e,t,p)}catch(V){_h(e,t,V)}}function rm(e,t,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){om(e,t,u)},function(u){return _h(e,t,u)}):om(e,t,s)}function om(e,t,s){t.status="fulfilled",t.value=s,lm(t),e.state=s,t=e.pending,t!==null&&(s=t.next,s===t?e.pending=null:(s=s.next,t.next=s,sm(e,s)))}function _h(e,t,s){var u=e.pending;if(e.pending=null,u!==null){u=u.next;do t.status="rejected",t.reason=s,lm(t),t=t.next;while(t!==u)}e.action=null}function lm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function um(e,t){return t}function cm(e,t){if($e){var s=ht.formState;if(s!==null){e:{var u=Pe;if($e){if(Xe){t:{for(var f=Xe,p=Sn;f.nodeType!==8;){if(!p){f=null;break t}if(f=si(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Xe=si(f.nextSibling),u=f.data==="F!";break e}}$i(u)}u=!1}u&&(t=s[0])}}return s=pn(),s.memoizedState=s.baseState=t,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:um,lastRenderedState:t},s.queue=u,s=Am.bind(null,Pe,u),u.dispatch=s,u=yh(!1),p=Th.bind(null,Pe,!1,u.queue),u=pn(),f={state:t,dispatch:null,action:e,pending:null},u.queue=f,s=i_.bind(null,Pe,f,p,s),f.dispatch=s,u.memoizedState=e,[t,s,!1]}function hm(e){var t=Nt();return dm(t,rt,e)}function dm(e,t,s){if(t=gh(e,t,um)[0],e=Cu(fa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var u=Qo(t)}catch(S){throw S===Pr?vu:S}else u=t;t=Nt();var f=t.queue,p=f.dispatch;return s!==t.memoizedState&&(Pe.flags|=2048,Ir(9,{destroy:void 0},a_.bind(null,f,s),null)),[u,p,e]}function a_(e,t){e.action=t}function fm(e){var t=Nt(),s=rt;if(s!==null)return dm(t,s,e);Nt(),t=t.memoizedState,s=Nt();var u=s.queue.dispatch;return s.memoizedState=e,[t,u,!1]}function Ir(e,t,s,u){return e={tag:e,create:s,deps:u,inst:t,next:null},t=Pe.updateQueue,t===null&&(t=Tu(),Pe.updateQueue=t),s=t.lastEffect,s===null?t.lastEffect=e.next=e:(u=s.next,s.next=e,e.next=u,t.lastEffect=e),e}function mm(){return Nt().memoizedState}function Nu(e,t,s,u){var f=pn();Pe.flags|=e,f.memoizedState=Ir(1|t,{destroy:void 0},s,u===void 0?null:u)}function Au(e,t,s,u){var f=Nt();u=u===void 0?null:u;var p=f.memoizedState.inst;rt!==null&&u!==null&&ch(u,rt.memoizedState.deps)?f.memoizedState=Ir(t,p,s,u):(Pe.flags|=e,f.memoizedState=Ir(1|t,p,s,u))}function pm(e,t){Nu(8390656,8,e,t)}function bh(e,t){Au(2048,8,e,t)}function s_(e){Pe.flags|=4;var t=Pe.updateQueue;if(t===null)t=Tu(),Pe.updateQueue=t,t.events=[e];else{var s=t.events;s===null?t.events=[e]:s.push(e)}}function gm(e){var t=Nt().memoizedState;return s_({ref:t,nextImpl:e}),function(){if((et&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function vm(e,t){return Au(4,2,e,t)}function ym(e,t){return Au(4,4,e,t)}function _m(e,t){if(typeof t=="function"){e=e();var s=t(e);return function(){typeof s=="function"?s():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bm(e,t,s){s=s!=null?s.concat([e]):null,Au(4,4,_m.bind(null,t,e),s)}function xh(){}function xm(e,t){var s=Nt();t=t===void 0?null:t;var u=s.memoizedState;return t!==null&&ch(t,u[1])?u[0]:(s.memoizedState=[e,t],e)}function wm(e,t){var s=Nt();t=t===void 0?null:t;var u=s.memoizedState;if(t!==null&&ch(t,u[1]))return u[0];if(u=e(),Qs){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[u,t],u}function wh(e,t,s){return s===void 0||(da&1073741824)!==0&&(Ke&261930)===0?e.memoizedState=t:(e.memoizedState=s,e=Sp(),Pe.lanes|=e,as|=e,s)}function Sm(e,t,s,u){return Kt(s,t)?s:Ur.current!==null?(e=wh(e,s,u),Kt(e,t)||(Mt=!0),e):(da&42)===0||(da&1073741824)!==0&&(Ke&261930)===0?(Mt=!0,e.memoizedState=s):(e=Sp(),Pe.lanes|=e,as|=e,t)}function Em(e,t,s,u,f){var p=ne.p;ne.p=p!==0&&8>p?p:8;var S=I.T,C={};I.T=C,Th(e,!1,t,s);try{var M=f(),V=I.S;if(V!==null&&V(C,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var X=e_(M,u);Wo(e,t,X,In(e))}else Wo(e,t,u,In(e))}catch(ee){Wo(e,t,{then:function(){},status:"rejected",reason:ee},In())}finally{ne.p=p,S!==null&&C.types!==null&&(S.types=C.types),I.T=S}}function r_(){}function Sh(e,t,s,u){if(e.tag!==5)throw Error(o(476));var f=Tm(e).queue;Em(e,f,t,ae,s===null?r_:function(){return Om(e),s(u)})}function Tm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:ae},next:null};var s={};return t.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:s},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Om(e){var t=Tm(e);t.next===null&&(t=e.alternate.memoizedState),Wo(e,t.next.queue,{},In())}function Eh(){return Wt(gl)}function Cm(){return Nt().memoizedState}function Nm(){return Nt().memoizedState}function o_(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var s=In();e=Qa(s);var u=Wa(t,e,s);u!==null&&(Nn(u,t,s),Yo(u,t,s)),t={cache:Wc()},e.payload=t;return}t=t.return}}function l_(e,t,s){var u=In();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ru(e)?Rm(t,s):(s=Uo(e,t,s,u),s!==null&&(Nn(s,e,u),jm(s,t,u)))}function Am(e,t,s){var u=In();Wo(e,t,s,u)}function Wo(e,t,s,u){var f={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ru(e))Rm(t,f);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var S=t.lastRenderedState,C=p(S,s);if(f.hasEagerState=!0,f.eagerState=C,Kt(C,S))return Ii(e,t,f,0),ht===null&&qs(),!1}catch{}if(s=Uo(e,t,f,u),s!==null)return Nn(s,e,u),jm(s,t,u),!0}return!1}function Th(e,t,s,u){if(u={lane:2,revertLane:id(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ru(e)){if(t)throw Error(o(479))}else t=Uo(e,s,u,2),t!==null&&Nn(t,e,2)}function Ru(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function Rm(e,t){Br=Su=!0;var s=e.pending;s===null?t.next=t:(t.next=s.next,s.next=t),e.pending=t}function jm(e,t,s){if((s&4194048)!==0){var u=t.lanes;u&=e.pendingLanes,s|=u,t.lanes=s,on(e,s)}}var el={readContext:Wt,use:Ou,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};el.useEffectEvent=Et;var Lm={readContext:Wt,use:Ou,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:Wt,useEffect:pm,useImperativeHandle:function(e,t,s){s=s!=null?s.concat([e]):null,Nu(4194308,4,_m.bind(null,t,e),s)},useLayoutEffect:function(e,t){return Nu(4194308,4,e,t)},useInsertionEffect:function(e,t){Nu(4,2,e,t)},useMemo:function(e,t){var s=pn();t=t===void 0?null:t;var u=e();if(Qs){vn(!0);try{e()}finally{vn(!1)}}return s.memoizedState=[u,t],u},useReducer:function(e,t,s){var u=pn();if(s!==void 0){var f=s(t);if(Qs){vn(!0);try{s(t)}finally{vn(!1)}}}else f=t;return u.memoizedState=u.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},u.queue=e,e=e.dispatch=l_.bind(null,Pe,e),[u.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:function(e){e=yh(e);var t=e.queue,s=Am.bind(null,Pe,t);return t.dispatch=s,[e.memoizedState,s]},useDebugValue:xh,useDeferredValue:function(e,t){var s=pn();return wh(s,e,t)},useTransition:function(){var e=yh(!1);return e=Em.bind(null,Pe,e.queue,!0,!1),pn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,s){var u=Pe,f=pn();if($e){if(s===void 0)throw Error(o(407));s=s()}else{if(s=t(),ht===null)throw Error(o(349));(Ke&127)!==0||Wf(u,t,s)}f.memoizedState=s;var p={value:s,getSnapshot:t};return f.queue=p,pm(tm.bind(null,u,p,e),[e]),u.flags|=2048,Ir(9,{destroy:void 0},em.bind(null,u,p,s,t),null),s},useId:function(){var e=pn(),t=ht.identifierPrefix;if($e){var s=ce,u=W;s=(u&~(1<<32-Zt(u)-1)).toString(32)+s,t="_"+t+"R_"+s,s=Eu++,0<s&&(t+="H"+s.toString(32)),t+="_"}else s=t_++,t="_"+t+"r_"+s.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Eh,useFormState:cm,useActionState:cm,useOptimistic:function(e){var t=pn();t.memoizedState=t.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=s,t=Th.bind(null,Pe,!0,s),s.dispatch=t,[e,t]},useMemoCache:ph,useCacheRefresh:function(){return pn().memoizedState=o_.bind(null,Pe)},useEffectEvent:function(e){var t=pn(),s={impl:e};return t.memoizedState=s,function(){if((et&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},Oh={readContext:Wt,use:Ou,useCallback:xm,useContext:Wt,useEffect:bh,useImperativeHandle:bm,useInsertionEffect:vm,useLayoutEffect:ym,useMemo:wm,useReducer:Cu,useRef:mm,useState:function(){return Cu(fa)},useDebugValue:xh,useDeferredValue:function(e,t){var s=Nt();return Sm(s,rt.memoizedState,e,t)},useTransition:function(){var e=Cu(fa)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:Qo(e),t]},useSyncExternalStore:Qf,useId:Cm,useHostTransitionStatus:Eh,useFormState:hm,useActionState:hm,useOptimistic:function(e,t){var s=Nt();return am(s,rt,e,t)},useMemoCache:ph,useCacheRefresh:Nm};Oh.useEffectEvent=gm;var km={readContext:Wt,use:Ou,useCallback:xm,useContext:Wt,useEffect:bh,useImperativeHandle:bm,useInsertionEffect:vm,useLayoutEffect:ym,useMemo:wm,useReducer:vh,useRef:mm,useState:function(){return vh(fa)},useDebugValue:xh,useDeferredValue:function(e,t){var s=Nt();return rt===null?wh(s,e,t):Sm(s,rt.memoizedState,e,t)},useTransition:function(){var e=vh(fa)[0],t=Nt().memoizedState;return[typeof e=="boolean"?e:Qo(e),t]},useSyncExternalStore:Qf,useId:Cm,useHostTransitionStatus:Eh,useFormState:fm,useActionState:fm,useOptimistic:function(e,t){var s=Nt();return rt!==null?am(s,rt,e,t):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:ph,useCacheRefresh:Nm};km.useEffectEvent=gm;function Ch(e,t,s,u){t=e.memoizedState,s=s(u,t),s=s==null?t:x({},t,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Nh={enqueueSetState:function(e,t,s){e=e._reactInternals;var u=In(),f=Qa(u);f.payload=t,s!=null&&(f.callback=s),t=Wa(e,f,u),t!==null&&(Nn(t,e,u),Yo(t,e,u))},enqueueReplaceState:function(e,t,s){e=e._reactInternals;var u=In(),f=Qa(u);f.tag=1,f.payload=t,s!=null&&(f.callback=s),t=Wa(e,f,u),t!==null&&(Nn(t,e,u),Yo(t,e,u))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var s=In(),u=Qa(s);u.tag=2,t!=null&&(u.callback=t),t=Wa(e,u,s),t!==null&&(Nn(t,e,s),Yo(t,e,s))}};function Mm(e,t,s,u,f,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(u,p,S):t.prototype&&t.prototype.isPureReactComponent?!Va(s,u)||!Va(f,p):!0}function zm(e,t,s,u){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(s,u),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(s,u),t.state!==e&&Nh.enqueueReplaceState(t,t.state,null)}function Ws(e,t){var s=t;if("ref"in t){s={};for(var u in t)u!=="ref"&&(s[u]=t[u])}if(e=e.defaultProps){s===t&&(s=x({},s));for(var f in e)s[f]===void 0&&(s[f]=e[f])}return s}function Pm(e){Is(e)}function Dm(e){console.error(e)}function Um(e){Is(e)}function ju(e,t){try{var s=e.onUncaughtError;s(t.value,{componentStack:t.stack})}catch(u){setTimeout(function(){throw u})}}function Bm(e,t,s){try{var u=e.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ah(e,t,s){return s=Qa(s),s.tag=3,s.payload={element:null},s.callback=function(){ju(e,t)},s}function Hm(e){return e=Qa(e),e.tag=3,e}function Im(e,t,s,u){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;e.payload=function(){return f(p)},e.callback=function(){Bm(t,s,u)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Bm(t,s,u),typeof f!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function u_(e,t,s,u,f){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(t=s.alternate,t!==null&&kr(t,s,f,!0),s=Dn.current,s!==null){switch(s.tag){case 31:case 13:return ai===null?$u():s.alternate===null&&Tt===0&&(Tt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,u===yu?s.flags|=16384:(t=s.updateQueue,t===null?s.updateQueue=new Set([u]):t.add(u),ed(e,u,f)),!1;case 22:return s.flags|=65536,u===yu?s.flags|=16384:(t=s.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=t):(s=t.retryQueue,s===null?t.retryQueue=new Set([u]):s.add(u)),ed(e,u,f)),!1}throw Error(o(435,s.tag))}return ed(e,u,f),$u(),!1}if($e)return t=Dn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,u!==Lr&&(e=Error(o(422),{cause:u}),Vs(l(e,s)))):(u!==Lr&&(t=Error(o(423),{cause:u}),Vs(l(t,s))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,u=l(u,s),f=Ah(e.stateNode,u,f),sh(e,f),Tt!==4&&(Tt=2)),!1;var p=Error(o(520),{cause:u});if(p=l(p,s),ll===null?ll=[p]:ll.push(p),Tt!==4&&(Tt=2),t===null)return!0;u=l(u,s),s=t;do{switch(s.tag){case 3:return s.flags|=65536,e=f&-f,s.lanes|=e,e=Ah(s.stateNode,u,e),sh(s,e),!1;case 1:if(t=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ss===null||!ss.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Hm(f),Im(f,e,s,u),sh(s,f),!1}s=s.return}while(s!==null);return!1}var Rh=Error(o(461)),Mt=!1;function en(e,t,s,u){t.child=e===null?Vf(t,null,s,u):Xs(t,e.child,s,u)}function qm(e,t,s,u,f){s=s.render;var p=t.ref;if("ref"in u){var S={};for(var C in u)C!=="ref"&&(S[C]=u[C])}else S=u;return Ks(t),u=hh(e,t,s,S,p,f),C=dh(),e!==null&&!Mt?(fh(e,t,f),ma(e,t,f)):($e&&C&&Ht(t),t.flags|=1,en(e,t,u,f),t.child)}function $m(e,t,s,u,f){if(e===null){var p=s.type;return typeof p=="function"&&!Rr(p)&&p.defaultProps===void 0&&s.compare===null?(t.tag=15,t.type=p,Zm(e,t,p,u,f)):(e=Zs(s.type,null,u,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!Uh(e,f)){var S=p.memoizedProps;if(s=s.compare,s=s!==null?s:Va,s(S,u)&&e.ref===t.ref)return ma(e,t,f)}return t.flags|=1,e=ii(p,u),e.ref=t.ref,e.return=t,t.child=e}function Zm(e,t,s,u,f){if(e!==null){var p=e.memoizedProps;if(Va(p,u)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=u=p,Uh(e,f))(e.flags&131072)!==0&&(Mt=!0);else return t.lanes=e.lanes,ma(e,t,f)}return jh(e,t,s,u,f)}function Vm(e,t,s,u){var f=u.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|s:s,e!==null){for(u=t.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~p}else u=0,t.child=null;return Gm(e,t,p,s,u)}if((s&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gu(t,p!==null?p.cachePool:null),p!==null?Yf(t,p):oh(),Ff(t);else return u=t.lanes=536870912,Gm(e,t,p!==null?p.baseLanes|s:s,s,u)}else p!==null?(gu(t,p.cachePool),Yf(t,p),ts(),t.memoizedState=null):(e!==null&&gu(t,null),oh(),ts());return en(e,t,f,s),t.child}function tl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Gm(e,t,s,u,f){var p=th();return p=p===null?null:{parent:Lt._currentValue,pool:p},t.memoizedState={baseLanes:s,cachePool:p},e!==null&&gu(t,null),oh(),Ff(t),e!==null&&kr(e,t,u,!0),t.childLanes=f,null}function Lu(e,t){return t=Mu({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Km(e,t,s){return Xs(t,e.child,null,s),e=Lu(t,t.pendingProps),e.flags|=2,Un(t),t.memoizedState=null,e}function c_(e,t,s){var u=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if($e){if(u.mode==="hidden")return e=Lu(t,u),t.lanes=536870912,tl(null,e);if(uh(t),(e=Xe)?(e=sg(e,Sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:G!==null?{id:W,overflow:ce}:null,retryLane:536870912,hydrationErrors:null},s=Ho(e),s.return=t,t.child=s,Je=t,Xe=null)):e=null,e===null)throw $i(t);return t.lanes=536870912,null}return Lu(t,u)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(uh(t),f)if(t.flags&256)t.flags&=-257,t=Km(e,t,s);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(Mt||kr(e,t,s,!1),f=(s&e.childLanes)!==0,Mt||f){if(u=ht,u!==null&&(S=ln(u,s),S!==0&&S!==p.retryLane))throw p.retryLane=S,ni(e,S),Nn(u,e,S),Rh;$u(),t=Km(e,t,s)}else e=p.treeContext,Xe=si(S.nextSibling),Je=t,$e=!0,qi=null,Sn=!1,e!==null&&mn(t,e),t=Lu(t,u),t.flags|=4096;return t}return e=ii(e.child,{mode:u.mode,children:u.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ku(e,t){var s=t.ref;if(s===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(e===null||e.ref!==s)&&(t.flags|=4194816)}}function jh(e,t,s,u,f){return Ks(t),s=hh(e,t,s,u,void 0,f),u=dh(),e!==null&&!Mt?(fh(e,t,f),ma(e,t,f)):($e&&u&&Ht(t),t.flags|=1,en(e,t,s,f),t.child)}function Ym(e,t,s,u,f,p){return Ks(t),t.updateQueue=null,s=Xf(t,u,s,f),Jf(e),u=dh(),e!==null&&!Mt?(fh(e,t,p),ma(e,t,p)):($e&&u&&Ht(t),t.flags|=1,en(e,t,s,p),t.child)}function Fm(e,t,s,u,f){if(Ks(t),t.stateNode===null){var p=la,S=s.contextType;typeof S=="object"&&S!==null&&(p=Wt(S)),p=new s(u,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Nh,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=u,p.state=t.memoizedState,p.refs={},ih(t),S=s.contextType,p.context=typeof S=="object"&&S!==null?Wt(S):la,p.state=t.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Ch(t,s,S,u),p.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Nh.enqueueReplaceState(p,p.state,null),Jo(t,u,p,f),Fo(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),u=!0}else if(e===null){p=t.stateNode;var C=t.memoizedProps,M=Ws(s,C);p.props=M;var V=p.context,X=s.contextType;S=la,typeof X=="object"&&X!==null&&(S=Wt(X));var ee=s.getDerivedStateFromProps;X=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(C||V!==S)&&zm(t,p,u,S),Xa=!1;var K=t.memoizedState;p.state=K,Jo(t,u,p,f),Fo(),V=t.memoizedState,C||K!==V||Xa?(typeof ee=="function"&&(Ch(t,s,ee,u),V=t.memoizedState),(M=Xa||Mm(t,s,M,u,K,V,S))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=u,t.memoizedState=V),p.props=u,p.state=V,p.context=S,u=M):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),u=!1)}else{p=t.stateNode,ah(e,t),S=t.memoizedProps,X=Ws(s,S),p.props=X,ee=t.pendingProps,K=p.context,V=s.contextType,M=la,typeof V=="object"&&V!==null&&(M=Wt(V)),C=s.getDerivedStateFromProps,(V=typeof C=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==ee||K!==M)&&zm(t,p,u,M),Xa=!1,K=t.memoizedState,p.state=K,Jo(t,u,p,f),Fo();var F=t.memoizedState;S!==ee||K!==F||Xa||e!==null&&e.dependencies!==null&&mu(e.dependencies)?(typeof C=="function"&&(Ch(t,s,C,u),F=t.memoizedState),(X=Xa||Mm(t,s,X,u,K,F,M)||e!==null&&e.dependencies!==null&&mu(e.dependencies))?(V||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,F,M),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,F,M)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),t.memoizedProps=u,t.memoizedState=F),p.props=u,p.state=F,p.context=M,u=X):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&K===e.memoizedState||(t.flags|=1024),u=!1)}return p=u,ku(e,t),u=(t.flags&128)!==0,p||u?(p=t.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&u?(t.child=Xs(t,e.child,null,f),t.child=Xs(t,null,s,f)):en(e,t,s,f),t.memoizedState=p.state,e=t.child):e=ma(e,t,f),e}function Jm(e,t,s,u){return ca(),t.flags|=256,en(e,t,s,u),t.child}var Lh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kh(e){return{baseLanes:e,cachePool:Bf()}}function Mh(e,t,s){return e=e!==null?e.childLanes&~s:0,t&&(e|=Hn),e}function Xm(e,t,s){var u=t.pendingProps,f=!1,p=(t.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(Ct.current&2)!==0),S&&(f=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if($e){if(f?es(t):ts(),(e=Xe)?(e=sg(e,Sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:G!==null?{id:W,overflow:ce}:null,retryLane:536870912,hydrationErrors:null},s=Ho(e),s.return=t,t.child=s,Je=t,Xe=null)):e=null,e===null)throw $i(t);return gd(e)?t.lanes=32:t.lanes=536870912,null}var C=u.children;return u=u.fallback,f?(ts(),f=t.mode,C=Mu({mode:"hidden",children:C},f),u=ua(u,f,s,null),C.return=t,u.return=t,C.sibling=u,t.child=C,u=t.child,u.memoizedState=kh(s),u.childLanes=Mh(e,S,s),t.memoizedState=Lh,tl(null,u)):(es(t),zh(t,C))}var M=e.memoizedState;if(M!==null&&(C=M.dehydrated,C!==null)){if(p)t.flags&256?(es(t),t.flags&=-257,t=Ph(e,t,s)):t.memoizedState!==null?(ts(),t.child=e.child,t.flags|=128,t=null):(ts(),C=u.fallback,f=t.mode,u=Mu({mode:"visible",children:u.children},f),C=ua(C,f,s,null),C.flags|=2,u.return=t,C.return=t,u.sibling=C,t.child=u,Xs(t,e.child,null,s),u=t.child,u.memoizedState=kh(s),u.childLanes=Mh(e,S,s),t.memoizedState=Lh,t=tl(null,u));else if(es(t),gd(C)){if(S=C.nextSibling&&C.nextSibling.dataset,S)var V=S.dgst;S=V,u=Error(o(419)),u.stack="",u.digest=S,Vs({value:u,source:null,stack:null}),t=Ph(e,t,s)}else if(Mt||kr(e,t,s,!1),S=(s&e.childLanes)!==0,Mt||S){if(S=ht,S!==null&&(u=ln(S,s),u!==0&&u!==M.retryLane))throw M.retryLane=u,ni(e,u),Nn(S,e,u),Rh;pd(C)||$u(),t=Ph(e,t,s)}else pd(C)?(t.flags|=192,t.child=e.child,t=null):(e=M.treeContext,Xe=si(C.nextSibling),Je=t,$e=!0,qi=null,Sn=!1,e!==null&&mn(t,e),t=zh(t,u.children),t.flags|=4096);return t}return f?(ts(),C=u.fallback,f=t.mode,M=e.child,V=M.sibling,u=ii(M,{mode:"hidden",children:u.children}),u.subtreeFlags=M.subtreeFlags&65011712,V!==null?C=ii(V,C):(C=ua(C,f,s,null),C.flags|=2),C.return=t,u.return=t,u.sibling=C,t.child=u,tl(null,u),u=t.child,C=e.child.memoizedState,C===null?C=kh(s):(f=C.cachePool,f!==null?(M=Lt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Bf(),C={baseLanes:C.baseLanes|s,cachePool:f}),u.memoizedState=C,u.childLanes=Mh(e,S,s),t.memoizedState=Lh,tl(e.child,u)):(es(t),s=e.child,e=s.sibling,s=ii(s,{mode:"visible",children:u.children}),s.return=t,s.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=s,t.memoizedState=null,s)}function zh(e,t){return t=Mu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Mu(e,t){return e=cn(22,e,null,t),e.lanes=0,e}function Ph(e,t,s){return Xs(t,e.child,null,s),e=zh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qm(e,t,s){e.lanes|=t;var u=e.alternate;u!==null&&(u.lanes|=t),Xc(e.return,t,s)}function Dh(e,t,s,u,f,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f,treeForkCount:p}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=s,S.tailMode=f,S.treeForkCount=p)}function Wm(e,t,s){var u=t.pendingProps,f=u.revealOrder,p=u.tail;u=u.children;var S=Ct.current,C=(S&2)!==0;if(C?(S=S&1|2,t.flags|=128):S&=1,J(Ct,S),en(e,t,u,s),u=$e?T:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Qm(e,s,t);else if(e.tag===19)Qm(e,s,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(s=t.child,f=null;s!==null;)e=s.alternate,e!==null&&wu(e)===null&&(f=s),s=s.sibling;s=f,s===null?(f=t.child,t.child=null):(f=s.sibling,s.sibling=null),Dh(t,!1,f,s,p,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&wu(e)===null){t.child=f;break}e=f.sibling,f.sibling=s,s=f,f=e}Dh(t,!0,s,null,p,u);break;case"together":Dh(t,!1,null,null,void 0,u);break;default:t.memoizedState=null}return t.child}function ma(e,t,s){if(e!==null&&(t.dependencies=e.dependencies),as|=t.lanes,(s&t.childLanes)===0)if(e!==null){if(kr(e,t,s,!1),(s&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,s=ii(e,e.pendingProps),t.child=s,s.return=t;e.sibling!==null;)e=e.sibling,s=s.sibling=ii(e,e.pendingProps),s.return=t;s.sibling=null}return t.child}function Uh(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&mu(e)))}function h_(e,t,s){switch(t.tag){case 3:Ee(t,t.stateNode.containerInfo),Ja(t,Lt,e.memoizedState.cache),ca();break;case 27:case 5:Fe(t);break;case 4:Ee(t,t.stateNode.containerInfo);break;case 10:Ja(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uh(t),null;break;case 13:var u=t.memoizedState;if(u!==null)return u.dehydrated!==null?(es(t),t.flags|=128,null):(s&t.child.childLanes)!==0?Xm(e,t,s):(es(t),e=ma(e,t,s),e!==null?e.sibling:null);es(t);break;case 19:var f=(e.flags&128)!==0;if(u=(s&t.childLanes)!==0,u||(kr(e,t,s,!1),u=(s&t.childLanes)!==0),f){if(u)return Wm(e,t,s);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(Ct,Ct.current),u)break;return null;case 22:return t.lanes=0,Vm(e,t,s,t.pendingProps);case 24:Ja(t,Lt,e.memoizedState.cache)}return ma(e,t,s)}function ep(e,t,s){if(e!==null)if(e.memoizedProps!==t.pendingProps)Mt=!0;else{if(!Uh(e,s)&&(t.flags&128)===0)return Mt=!1,h_(e,t,s);Mt=(e.flags&131072)!==0}else Mt=!1,$e&&(t.flags&1048576)!==0&&Ue(t,T,t.index);switch(t.lanes=0,t.tag){case 16:e:{var u=t.pendingProps;if(e=Fs(t.elementType),t.type=e,typeof e=="function")Rr(e)?(u=Ws(e,u),t.tag=1,t=Fm(null,t,e,u,s)):(t.tag=0,t=jh(null,t,e,u,s));else{if(e!=null){var f=e.$$typeof;if(f===te){t.tag=11,t=qm(null,t,e,u,s);break e}else if(f===le){t.tag=14,t=$m(null,t,e,u,s);break e}}throw t=De(e)||e,Error(o(306,t,""))}}return t;case 0:return jh(e,t,t.type,t.pendingProps,s);case 1:return u=t.type,f=Ws(u,t.pendingProps),Fm(e,t,u,f,s);case 3:e:{if(Ee(t,t.stateNode.containerInfo),e===null)throw Error(o(387));u=t.pendingProps;var p=t.memoizedState;f=p.element,ah(e,t),Jo(t,u,null,s);var S=t.memoizedState;if(u=S.cache,Ja(t,Lt,u),u!==p.cache&&Qc(t,[Lt],s,!0),Fo(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=Jm(e,t,u,s);break e}else if(u!==f){f=l(Error(o(424)),t),Vs(f),t=Jm(e,t,u,s);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Xe=si(e.firstChild),Je=t,$e=!0,qi=null,Sn=!0,s=Vf(t,null,u,s),t.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(ca(),u===f){t=ma(e,t,s);break e}en(e,t,u,s)}t=t.child}return t;case 26:return ku(e,t),e===null?(s=hg(t.type,null,t.pendingProps,null))?t.memoizedState=s:$e||(s=t.type,e=t.pendingProps,u=Ju(oe.current).createElement(s),u[Rt]=t,u[Gt]=e,tn(u,s,e),jt(u),t.stateNode=u):t.memoizedState=hg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Fe(t),e===null&&$e&&(u=t.stateNode=lg(t.type,t.pendingProps,oe.current),Je=t,Sn=!0,f=Xe,us(t.type)?(vd=f,Xe=si(u.firstChild)):Xe=f),en(e,t,t.pendingProps.children,s),ku(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&$e&&((f=u=Xe)&&(u=I_(u,t.type,t.pendingProps,Sn),u!==null?(t.stateNode=u,Je=t,Xe=si(u.firstChild),Sn=!1,f=!0):f=!1),f||$i(t)),Fe(t),f=t.type,p=t.pendingProps,S=e!==null?e.memoizedProps:null,u=p.children,dd(f,p)?u=null:S!==null&&dd(f,S)&&(t.flags|=32),t.memoizedState!==null&&(f=hh(e,t,n_,null,null,s),gl._currentValue=f),ku(e,t),en(e,t,u,s),t.child;case 6:return e===null&&$e&&((e=s=Xe)&&(s=q_(s,t.pendingProps,Sn),s!==null?(t.stateNode=s,Je=t,Xe=null,e=!0):e=!1),e||$i(t)),null;case 13:return Xm(e,t,s);case 4:return Ee(t,t.stateNode.containerInfo),u=t.pendingProps,e===null?t.child=Xs(t,null,u,s):en(e,t,u,s),t.child;case 11:return qm(e,t,t.type,t.pendingProps,s);case 7:return en(e,t,t.pendingProps,s),t.child;case 8:return en(e,t,t.pendingProps.children,s),t.child;case 12:return en(e,t,t.pendingProps.children,s),t.child;case 10:return u=t.pendingProps,Ja(t,t.type,u.value),en(e,t,u.children,s),t.child;case 9:return f=t.type._context,u=t.pendingProps.children,Ks(t),f=Wt(f),u=u(f),t.flags|=1,en(e,t,u,s),t.child;case 14:return $m(e,t,t.type,t.pendingProps,s);case 15:return Zm(e,t,t.type,t.pendingProps,s);case 19:return Wm(e,t,s);case 31:return c_(e,t,s);case 22:return Vm(e,t,s,t.pendingProps);case 24:return Ks(t),u=Wt(Lt),e===null?(f=th(),f===null&&(f=ht,p=Wc(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),t.memoizedState={parent:u,cache:f},ih(t),Ja(t,Lt,f)):((e.lanes&s)!==0&&(ah(e,t),Jo(t,null,null,s),Fo()),f=e.memoizedState,p=t.memoizedState,f.parent!==u?(f={parent:u,cache:u},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),Ja(t,Lt,u)):(u=p.cache,Ja(t,Lt,u),u!==f.cache&&Qc(t,[Lt],s,!0))),en(e,t,t.pendingProps.children,s),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function pa(e){e.flags|=4}function Bh(e,t,s,u,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Cp())e.flags|=8192;else throw Js=yu,nh}else e.flags&=-16777217}function tp(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gg(t))if(Cp())e.flags|=8192;else throw Js=yu,nh}function zu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Vt():536870912,e.lanes|=t,Vr|=t)}function nl(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var s=null;t!==null;)t.alternate!==null&&(s=t),t=t.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:u.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,s=0,u=0;if(t)for(var f=e.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=u,e.childLanes=s,t}function d_(e,t,s){var u=t.pendingProps;switch(St(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return pt(t),null;case 3:return s=t.stateNode,u=null,e!==null&&(u=e.memoizedState.cache),t.memoizedState.cache!==u&&(t.flags|=2048),ha(Lt),ge(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(yi(t)?pa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,$o())),pt(t),null;case 26:var f=t.type,p=t.memoizedState;return e===null?(pa(t),p!==null?(pt(t),tp(t,p)):(pt(t),Bh(t,f,null,u,s))):p?p!==e.memoizedState?(pa(t),pt(t),tp(t,p)):(pt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==u&&pa(t),pt(t),Bh(t,f,e,u,s)),null;case 27:if(gt(t),s=oe.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==u&&pa(t);else{if(!u){if(t.stateNode===null)throw Error(o(166));return pt(t),null}e=ie.current,yi(t)?qo(t):(e=lg(f,u,s),t.stateNode=e,pa(t))}return pt(t),null;case 5:if(gt(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==u&&pa(t);else{if(!u){if(t.stateNode===null)throw Error(o(166));return pt(t),null}if(p=ie.current,yi(t))qo(t);else{var S=Ju(oe.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?S.createElement(f,{is:u.is}):S.createElement(f)}}p[Rt]=t,p[Gt]=u;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=p;e:switch(tn(p,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&pa(t)}}return pt(t),Bh(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,s),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==u&&pa(t);else{if(typeof u!="string"&&t.stateNode===null)throw Error(o(166));if(e=oe.current,yi(t)){if(e=t.stateNode,s=t.memoizedProps,u=null,f=Je,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}e[Rt]=t,e=!!(e.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Xp(e.nodeValue,s)),e||$i(t,!0)}else e=Ju(e).createTextNode(u),e[Rt]=t,t.stateNode=e}return pt(t),null;case 31:if(s=t.memoizedState,e===null||e.memoizedState!==null){if(u=yi(t),s!==null){if(e===null){if(!u)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Rt]=t}else ca(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;pt(t),e=!1}else s=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return t.flags&256?(Un(t),t):(Un(t),null);if((t.flags&128)!==0)throw Error(o(558))}return pt(t),null;case 13:if(u=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=yi(t),u!==null&&u.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[Rt]=t}else ca(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;pt(t),f=!1}else f=$o(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(Un(t),t):(Un(t),null)}return Un(t),(t.flags&128)!==0?(t.lanes=s,t):(s=u!==null,e=e!==null&&e.memoizedState!==null,s&&(u=t.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)),s!==e&&s&&(t.child.flags|=8192),zu(t,t.updateQueue),pt(t),null);case 4:return ge(),e===null&&od(t.stateNode.containerInfo),pt(t),null;case 10:return ha(t.type),pt(t),null;case 19:if(Y(Ct),u=t.memoizedState,u===null)return pt(t),null;if(f=(t.flags&128)!==0,p=u.rendering,p===null)if(f)nl(u,!1);else{if(Tt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=wu(e),p!==null){for(t.flags|=128,nl(u,!1),e=p.updateQueue,t.updateQueue=e,zu(t,e),t.subtreeFlags=0,e=s,s=t.child;s!==null;)Bo(s,e),s=s.sibling;return J(Ct,Ct.current&1|2),$e&&xe(t,u.treeForkCount),t.child}e=e.sibling}u.tail!==null&&Jt()>Hu&&(t.flags|=128,f=!0,nl(u,!1),t.lanes=4194304)}else{if(!f)if(e=wu(p),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,zu(t,e),nl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!$e)return pt(t),null}else 2*Jt()-u.renderingStartTime>Hu&&s!==536870912&&(t.flags|=128,f=!0,nl(u,!1),t.lanes=4194304);u.isBackwards?(p.sibling=t.child,t.child=p):(e=u.last,e!==null?e.sibling=p:t.child=p,u.last=p)}return u.tail!==null?(e=u.tail,u.rendering=e,u.tail=e.sibling,u.renderingStartTime=Jt(),e.sibling=null,s=Ct.current,J(Ct,f?s&1|2:s&1),$e&&xe(t,u.treeForkCount),e):(pt(t),null);case 22:case 23:return Un(t),lh(),u=t.memoizedState!==null,e!==null?e.memoizedState!==null!==u&&(t.flags|=8192):u&&(t.flags|=8192),u?(s&536870912)!==0&&(t.flags&128)===0&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),s=t.updateQueue,s!==null&&zu(t,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),u=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(u=t.memoizedState.cachePool.pool),u!==s&&(t.flags|=2048),e!==null&&Y(Ys),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ha(Lt),pt(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function f_(e,t){switch(St(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ha(Lt),ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return gt(t),null;case 31:if(t.memoizedState!==null){if(Un(t),t.alternate===null)throw Error(o(340));ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Un(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));ca()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(Ct),null;case 4:return ge(),null;case 10:return ha(t.type),null;case 22:case 23:return Un(t),lh(),e!==null&&Y(Ys),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ha(Lt),null;case 25:return null;default:return null}}function np(e,t){switch(St(t),t.tag){case 3:ha(Lt),ge();break;case 26:case 27:case 5:gt(t);break;case 4:ge();break;case 31:t.memoizedState!==null&&Un(t);break;case 13:Un(t);break;case 19:Y(Ct);break;case 10:ha(t.type);break;case 22:case 23:Un(t),lh(),e!==null&&Y(Ys);break;case 24:ha(Lt)}}function il(e,t){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&e)===e){u=void 0;var p=s.create,S=s.inst;u=p(),S.destroy=u}s=s.next}while(s!==f)}}catch(C){it(t,t.return,C)}}function ns(e,t,s){try{var u=t.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&e)===e){var S=u.inst,C=S.destroy;if(C!==void 0){S.destroy=void 0,f=t;var M=s,V=C;try{V()}catch(X){it(f,M,X)}}}u=u.next}while(u!==p)}}catch(X){it(t,t.return,X)}}function ip(e){var t=e.updateQueue;if(t!==null){var s=e.stateNode;try{Kf(t,s)}catch(u){it(e,e.return,u)}}}function ap(e,t,s){s.props=Ws(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(u){it(e,t,u)}}function al(e,t){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var u=e.stateNode;break;case 30:u=e.stateNode;break;default:u=e.stateNode}typeof s=="function"?e.refCleanup=s(u):s.current=u}}catch(f){it(e,t,f)}}function Vi(e,t){var s=e.ref,u=e.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(f){it(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){it(e,t,f)}else s.current=null}function sp(e){var t=e.type,s=e.memoizedProps,u=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(f){it(e,e.return,f)}}function Hh(e,t,s){try{var u=e.stateNode;z_(u,e.type,s,t),u[Gt]=t}catch(f){it(e,e.return,f)}}function rp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&us(e.type)||e.tag===4}function Ih(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&us(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qh(e,t,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,t):(t=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,t.appendChild(e),s=s._reactRootContainer,s!=null||t.onclick!==null||(t.onclick=_n));else if(u!==4&&(u===27&&us(e.type)&&(s=e.stateNode,t=null),e=e.child,e!==null))for(qh(e,t,s),e=e.sibling;e!==null;)qh(e,t,s),e=e.sibling}function Pu(e,t,s){var u=e.tag;if(u===5||u===6)e=e.stateNode,t?s.insertBefore(e,t):s.appendChild(e);else if(u!==4&&(u===27&&us(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Pu(e,t,s),e=e.sibling;e!==null;)Pu(e,t,s),e=e.sibling}function op(e){var t=e.stateNode,s=e.memoizedProps;try{for(var u=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);tn(t,u,s),t[Rt]=e,t[Gt]=s}catch(p){it(e,e.return,p)}}var ga=!1,zt=!1,$h=!1,lp=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function m_(e,t){if(e=e.containerInfo,cd=ic,e=Ds(e),Di(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var S=0,C=-1,M=-1,V=0,X=0,ee=e,K=null;t:for(;;){for(var F;ee!==s||f!==0&&ee.nodeType!==3||(C=S+f),ee!==p||u!==0&&ee.nodeType!==3||(M=S+u),ee.nodeType===3&&(S+=ee.nodeValue.length),(F=ee.firstChild)!==null;)K=ee,ee=F;for(;;){if(ee===e)break t;if(K===s&&++V===f&&(C=S),K===p&&++X===u&&(M=S),(F=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=F}s=C===-1||M===-1?null:{start:C,end:M}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},ic=!1,Ft=t;Ft!==null;)if(t=Ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ft=e;else for(;Ft!==null;){switch(t=Ft,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)f=e[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,s=t,f=p.memoizedProps,p=p.memoizedState,u=s.stateNode;try{var pe=Ws(s.type,f);e=u.getSnapshotBeforeUpdate(pe,p),u.__reactInternalSnapshotBeforeUpdate=e}catch(Te){it(s,s.return,Te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,Ft=e;break}Ft=t.return}}function up(e,t,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:ya(e,s),u&4&&il(5,s);break;case 1:if(ya(e,s),u&4)if(e=s.stateNode,t===null)try{e.componentDidMount()}catch(S){it(s,s.return,S)}else{var f=Ws(s.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){it(s,s.return,S)}}u&64&&ip(s),u&512&&al(s,s.return);break;case 3:if(ya(e,s),u&64&&(e=s.updateQueue,e!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{Kf(e,t)}catch(S){it(s,s.return,S)}}break;case 27:t===null&&u&4&&op(s);case 26:case 5:ya(e,s),t===null&&u&4&&sp(s),u&512&&al(s,s.return);break;case 12:ya(e,s);break;case 31:ya(e,s),u&4&&dp(e,s);break;case 13:ya(e,s),u&4&&fp(e,s),u&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=S_.bind(null,s),$_(e,s))));break;case 22:if(u=s.memoizedState!==null||ga,!u){t=t!==null&&t.memoizedState!==null||zt,f=ga;var p=zt;ga=u,(zt=t)&&!p?_a(e,s,(s.subtreeFlags&8772)!==0):ya(e,s),ga=f,zt=p}break;case 30:break;default:ya(e,s)}}function cp(e){var t=e.alternate;t!==null&&(e.alternate=null,cp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&xo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var yt=null,En=!1;function va(e,t,s){for(s=s.child;s!==null;)hp(e,t,s),s=s.sibling}function hp(e,t,s){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Ni,s)}catch{}switch(s.tag){case 26:zt||Vi(s,t),va(e,t,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:zt||Vi(s,t);var u=yt,f=En;us(s.type)&&(yt=s.stateNode,En=!1),va(e,t,s),fl(s.stateNode),yt=u,En=f;break;case 5:zt||Vi(s,t);case 6:if(u=yt,f=En,yt=null,va(e,t,s),yt=u,En=f,yt!==null)if(En)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(s.stateNode)}catch(p){it(s,t,p)}else try{yt.removeChild(s.stateNode)}catch(p){it(s,t,p)}break;case 18:yt!==null&&(En?(e=yt,ig(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Wr(e)):ig(yt,s.stateNode));break;case 4:u=yt,f=En,yt=s.stateNode.containerInfo,En=!0,va(e,t,s),yt=u,En=f;break;case 0:case 11:case 14:case 15:ns(2,s,t),zt||ns(4,s,t),va(e,t,s);break;case 1:zt||(Vi(s,t),u=s.stateNode,typeof u.componentWillUnmount=="function"&&ap(s,t,u)),va(e,t,s);break;case 21:va(e,t,s);break;case 22:zt=(u=zt)||s.memoizedState!==null,va(e,t,s),zt=u;break;default:va(e,t,s)}}function dp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wr(e)}catch(s){it(t,t.return,s)}}}function fp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wr(e)}catch(s){it(t,t.return,s)}}function p_(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new lp),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new lp),t;default:throw Error(o(435,e.tag))}}function Du(e,t){var s=p_(e);t.forEach(function(u){if(!s.has(u)){s.add(u);var f=E_.bind(null,e,u);u.then(f,f)}})}function Tn(e,t){var s=t.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u],p=e,S=t,C=S;e:for(;C!==null;){switch(C.tag){case 27:if(us(C.type)){yt=C.stateNode,En=!1;break e}break;case 5:yt=C.stateNode,En=!1;break e;case 3:case 4:yt=C.stateNode.containerInfo,En=!0;break e}C=C.return}if(yt===null)throw Error(o(160));hp(p,S,f),yt=null,En=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mp(t,e),t=t.sibling}var bi=null;function mp(e,t){var s=e.alternate,u=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(t,e),On(e),u&4&&(ns(3,e,e.return),il(3,e),ns(5,e,e.return));break;case 1:Tn(t,e),On(e),u&512&&(zt||s===null||Vi(s,s.return)),u&64&&ga&&(e=e.updateQueue,e!==null&&(u=e.callbacks,u!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var f=bi;if(Tn(t,e),On(e),u&512&&(zt||s===null||Vi(s,s.return)),u&4){var p=s!==null?s.memoizedState:null;if(u=e.memoizedState,s===null)if(u===null)if(e.stateNode===null){e:{u=e.type,s=e.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[xs]||p[Rt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),tn(p,u,s),p[Rt]=e,jt(p),u=p;break e;case"link":var S=mg("link","href",f).get(u+(s.href||""));if(S){for(var C=0;C<S.length;C++)if(p=S[C],p.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(C,1);break t}}p=f.createElement(u),tn(p,u,s),f.head.appendChild(p);break;case"meta":if(S=mg("meta","content",f).get(u+(s.content||""))){for(C=0;C<S.length;C++)if(p=S[C],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(C,1);break t}}p=f.createElement(u),tn(p,u,s),f.head.appendChild(p);break;default:throw Error(o(468,u))}p[Rt]=e,jt(p),u=p}e.stateNode=u}else pg(f,e.type,e.stateNode);else e.stateNode=fg(f,u,e.memoizedProps);else p!==u?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,u===null?pg(f,e.type,e.stateNode):fg(f,u,e.memoizedProps)):u===null&&e.stateNode!==null&&Hh(e,e.memoizedProps,s.memoizedProps)}break;case 27:Tn(t,e),On(e),u&512&&(zt||s===null||Vi(s,s.return)),s!==null&&u&4&&Hh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(Tn(t,e),On(e),u&512&&(zt||s===null||Vi(s,s.return)),e.flags&32){f=e.stateNode;try{Jn(f,"")}catch(pe){it(e,e.return,pe)}}u&4&&e.stateNode!=null&&(f=e.memoizedProps,Hh(e,f,s!==null?s.memoizedProps:f)),u&1024&&($h=!0);break;case 6:if(Tn(t,e),On(e),u&4){if(e.stateNode===null)throw Error(o(162));u=e.memoizedProps,s=e.stateNode;try{s.nodeValue=u}catch(pe){it(e,e.return,pe)}}break;case 3:if(Wu=null,f=bi,bi=Xu(t.containerInfo),Tn(t,e),bi=f,On(e),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Wr(t.containerInfo)}catch(pe){it(e,e.return,pe)}$h&&($h=!1,pp(e));break;case 4:u=bi,bi=Xu(e.stateNode.containerInfo),Tn(t,e),On(e),bi=u;break;case 12:Tn(t,e),On(e);break;case 31:Tn(t,e),On(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Du(e,u)));break;case 13:Tn(t,e),On(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Bu=Jt()),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Du(e,u)));break;case 22:f=e.memoizedState!==null;var M=s!==null&&s.memoizedState!==null,V=ga,X=zt;if(ga=V||f,zt=X||M,Tn(t,e),zt=X,ga=V,On(e),u&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(s===null||M||ga||zt||er(e)),s=null,t=e;;){if(t.tag===5||t.tag===26){if(s===null){M=s=t;try{if(p=M.stateNode,f)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{C=M.stateNode;var ee=M.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;C.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(pe){it(M,M.return,pe)}}}else if(t.tag===6){if(s===null){M=t;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(pe){it(M,M.return,pe)}}}else if(t.tag===18){if(s===null){M=t;try{var F=M.stateNode;f?ag(F,!0):ag(M.stateNode,!1)}catch(pe){it(M,M.return,pe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;s===t&&(s=null),t=t.return}s===t&&(s=null),t.sibling.return=t.return,t=t.sibling}u&4&&(u=e.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Du(e,s))));break;case 19:Tn(t,e),On(e),u&4&&(u=e.updateQueue,u!==null&&(e.updateQueue=null,Du(e,u)));break;case 30:break;case 21:break;default:Tn(t,e),On(e)}}function On(e){var t=e.flags;if(t&2){try{for(var s,u=e.return;u!==null;){if(rp(u)){s=u;break}u=u.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var f=s.stateNode,p=Ih(e);Pu(e,p,f);break;case 5:var S=s.stateNode;s.flags&32&&(Jn(S,""),s.flags&=-33);var C=Ih(e);Pu(e,C,S);break;case 3:case 4:var M=s.stateNode.containerInfo,V=Ih(e);qh(e,V,M);break;default:throw Error(o(161))}}catch(X){it(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ya(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)up(e,t.alternate,t),t=t.sibling}function er(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ns(4,t,t.return),er(t);break;case 1:Vi(t,t.return);var s=t.stateNode;typeof s.componentWillUnmount=="function"&&ap(t,t.return,s),er(t);break;case 27:fl(t.stateNode);case 26:case 5:Vi(t,t.return),er(t);break;case 22:t.memoizedState===null&&er(t);break;case 30:er(t);break;default:er(t)}e=e.sibling}}function _a(e,t,s){for(s=s&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var u=t.alternate,f=e,p=t,S=p.flags;switch(p.tag){case 0:case 11:case 15:_a(f,p,s),il(4,p);break;case 1:if(_a(f,p,s),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(V){it(u,u.return,V)}if(u=p,f=u.updateQueue,f!==null){var C=u.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Gf(M[f],C)}catch(V){it(u,u.return,V)}}s&&S&64&&ip(p),al(p,p.return);break;case 27:op(p);case 26:case 5:_a(f,p,s),s&&u===null&&S&4&&sp(p),al(p,p.return);break;case 12:_a(f,p,s);break;case 31:_a(f,p,s),s&&S&4&&dp(f,p);break;case 13:_a(f,p,s),s&&S&4&&fp(f,p);break;case 22:p.memoizedState===null&&_a(f,p,s),al(p,p.return);break;case 30:break;default:_a(f,p,s)}t=t.sibling}}function Zh(e,t){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Zo(s))}function Vh(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zo(e))}function xi(e,t,s,u){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gp(e,t,s,u),t=t.sibling}function gp(e,t,s,u){var f=t.flags;switch(t.tag){case 0:case 11:case 15:xi(e,t,s,u),f&2048&&il(9,t);break;case 1:xi(e,t,s,u);break;case 3:xi(e,t,s,u),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Zo(e)));break;case 12:if(f&2048){xi(e,t,s,u),e=t.stateNode;try{var p=t.memoizedProps,S=p.id,C=p.onPostCommit;typeof C=="function"&&C(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(M){it(t,t.return,M)}}else xi(e,t,s,u);break;case 31:xi(e,t,s,u);break;case 13:xi(e,t,s,u);break;case 23:break;case 22:p=t.stateNode,S=t.alternate,t.memoizedState!==null?p._visibility&2?xi(e,t,s,u):sl(e,t):p._visibility&2?xi(e,t,s,u):(p._visibility|=2,qr(e,t,s,u,(t.subtreeFlags&10256)!==0||!1)),f&2048&&Zh(S,t);break;case 24:xi(e,t,s,u),f&2048&&Vh(t.alternate,t);break;default:xi(e,t,s,u)}}function qr(e,t,s,u,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,S=t,C=s,M=u,V=S.flags;switch(S.tag){case 0:case 11:case 15:qr(p,S,C,M,f),il(8,S);break;case 23:break;case 22:var X=S.stateNode;S.memoizedState!==null?X._visibility&2?qr(p,S,C,M,f):sl(p,S):(X._visibility|=2,qr(p,S,C,M,f)),f&&V&2048&&Zh(S.alternate,S);break;case 24:qr(p,S,C,M,f),f&&V&2048&&Vh(S.alternate,S);break;default:qr(p,S,C,M,f)}t=t.sibling}}function sl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var s=e,u=t,f=u.flags;switch(u.tag){case 22:sl(s,u),f&2048&&Zh(u.alternate,u);break;case 24:sl(s,u),f&2048&&Vh(u.alternate,u);break;default:sl(s,u)}t=t.sibling}}var rl=8192;function $r(e,t,s){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)vp(e,t,s),e=e.sibling}function vp(e,t,s){switch(e.tag){case 26:$r(e,t,s),e.flags&rl&&e.memoizedState!==null&&t0(s,bi,e.memoizedState,e.memoizedProps);break;case 5:$r(e,t,s);break;case 3:case 4:var u=bi;bi=Xu(e.stateNode.containerInfo),$r(e,t,s),bi=u;break;case 22:e.memoizedState===null&&(u=e.alternate,u!==null&&u.memoizedState!==null?(u=rl,rl=16777216,$r(e,t,s),rl=u):$r(e,t,s));break;default:$r(e,t,s)}}function yp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ol(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var u=t[s];Ft=u,bp(u,e)}yp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_p(e),e=e.sibling}function _p(e){switch(e.tag){case 0:case 11:case 15:ol(e),e.flags&2048&&ns(9,e,e.return);break;case 3:ol(e);break;case 12:ol(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Uu(e)):ol(e);break;default:ol(e)}}function Uu(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var s=0;s<t.length;s++){var u=t[s];Ft=u,bp(u,e)}yp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ns(8,t,t.return),Uu(t);break;case 22:s=t.stateNode,s._visibility&2&&(s._visibility&=-3,Uu(t));break;default:Uu(t)}e=e.sibling}}function bp(e,t){for(;Ft!==null;){var s=Ft;switch(s.tag){case 0:case 11:case 15:ns(8,s,t);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Zo(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Ft=u;else e:for(s=e;Ft!==null;){u=Ft;var f=u.sibling,p=u.return;if(cp(u),u===s){Ft=null;break e}if(f!==null){f.return=p,Ft=f;break e}Ft=p}}}var g_={getCacheForType:function(e){var t=Wt(Lt),s=t.data.get(e);return s===void 0&&(s=e(),t.data.set(e,s)),s},cacheSignal:function(){return Wt(Lt).controller.signal}},v_=typeof WeakMap=="function"?WeakMap:Map,et=0,ht=null,Ze=null,Ke=0,nt=0,Bn=null,is=!1,Zr=!1,Gh=!1,ba=0,Tt=0,as=0,tr=0,Kh=0,Hn=0,Vr=0,ll=null,Cn=null,Yh=!1,Bu=0,xp=0,Hu=1/0,Iu=null,ss=null,It=0,rs=null,Gr=null,xa=0,Fh=0,Jh=null,wp=null,ul=0,Xh=null;function In(){return(et&2)!==0&&Ke!==0?Ke&-Ke:I.T!==null?id():fr()}function Sp(){if(Hn===0)if((Ke&536870912)===0||$e){var e=Wi;Wi<<=1,(Wi&3932160)===0&&(Wi=262144),Hn=e}else Hn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),Hn}function Nn(e,t,s){(e===ht&&(nt===2||nt===9)||e.cancelPendingCommit!==null)&&(Kr(e,0),os(e,Ke,Hn,!1)),ut(e,s),((et&2)===0||e!==ht)&&(e===ht&&((et&2)===0&&(tr|=s),Tt===4&&os(e,Ke,Hn,!1)),Gi(e))}function Ep(e,t,s){if((et&6)!==0)throw Error(o(327));var u=!s&&(t&127)===0&&(t&e.expiredLanes)===0||dt(e,t),f=u?b_(e,t):Wh(e,t,!0),p=u;do{if(f===0){Zr&&!u&&os(e,t,0,!1);break}else{if(s=e.current.alternate,p&&!y_(s)){f=Wh(e,t,!1),p=!1;continue}if(f===2){if(p=t,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var C=e;f=ll;var M=C.current.memoizedState.isDehydrated;if(M&&(Kr(C,S).flags|=256),S=Wh(C,S,!1),S!==2){if(Gh&&!M){C.errorRecoveryDisabledLanes|=p,tr|=p,f=4;break e}p=Cn,Cn=f,p!==null&&(Cn===null?Cn=p:Cn.push.apply(Cn,p))}f=S}if(p=!1,f!==2)continue}}if(f===1){Kr(e,0),os(e,t,0,!0);break}e:{switch(u=e,p=f,p){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:os(u,t,Hn,!is);break e;case 2:Cn=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(f=Bu+300-Jt(),10<f)){if(os(u,t,Hn,!is),Re(u,0,!0)!==0)break e;xa=t,u.timeoutHandle=tg(Tp.bind(null,u,s,Cn,Iu,Yh,t,Hn,tr,Vr,is,p,"Throttled",-0,0),f);break e}Tp(u,s,Cn,Iu,Yh,t,Hn,tr,Vr,is,p,null,-0,0)}}break}while(!0);Gi(e)}function Tp(e,t,s,u,f,p,S,C,M,V,X,ee,K,F){if(e.timeoutHandle=-1,ee=t.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_n},vp(t,p,ee);var pe=(p&62914560)===p?Bu-Jt():(p&4194048)===p?xp-Jt():0;if(pe=n0(ee,pe),pe!==null){xa=p,e.cancelPendingCommit=pe(kp.bind(null,e,t,p,s,u,f,S,C,M,X,ee,null,K,F)),os(e,p,S,!V);return}}kp(e,t,p,s,u,f,S,C,M)}function y_(e){for(var t=e;;){var s=t.tag;if((s===0||s===11||s===15)&&t.flags&16384&&(s=t.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var f=s[u],p=f.getSnapshot;f=f.value;try{if(!Kt(p(),f))return!1}catch{return!1}}if(s=t.child,t.subtreeFlags&16384&&s!==null)s.return=t,t=s;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function os(e,t,s,u){t&=~Kh,t&=~tr,e.suspendedLanes|=t,e.pingedLanes&=~t,u&&(e.warmLanes|=t),u=e.expirationTimes;for(var f=t;0<f;){var p=31-Zt(f),S=1<<p;u[p]=-1,f&=~S}s!==0&&ea(e,s,t)}function qu(){return(et&6)===0?(cl(0),!1):!0}function Qh(){if(Ze!==null){if(nt===0)var e=Ze.return;else e=Ze,_i=Zi=null,mh(e),Dr=null,Go=0,e=Ze;for(;e!==null;)np(e.alternate,e),e=e.return;Ze=null}}function Kr(e,t){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,U_(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),xa=0,Qh(),ht=e,Ze=s=ii(e.current,null),Ke=t,nt=0,Bn=null,is=!1,Zr=dt(e,t),Gh=!1,Vr=Hn=Kh=tr=as=Tt=0,Cn=ll=null,Yh=!1,(t&8)!==0&&(t|=t&32);var u=e.entangledLanes;if(u!==0)for(e=e.entanglements,u&=t;0<u;){var f=31-Zt(u),p=1<<f;t|=e[f],u&=~p}return ba=t,qs(),s}function Op(e,t){Pe=null,I.H=el,t===Pr||t===vu?(t=qf(),nt=3):t===nh?(t=qf(),nt=4):nt=t===Rh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bn=t,Ze===null&&(Tt=1,ju(e,l(t,e.current)))}function Cp(){var e=Dn.current;return e===null?!0:(Ke&4194048)===Ke?ai===null:(Ke&62914560)===Ke||(Ke&536870912)!==0?e===ai:!1}function Np(){var e=I.H;return I.H=el,e===null?el:e}function Ap(){var e=I.A;return I.A=g_,e}function $u(){Tt=4,is||(Ke&4194048)!==Ke&&Dn.current!==null||(Zr=!0),(as&134217727)===0&&(tr&134217727)===0||ht===null||os(ht,Ke,Hn,!1)}function Wh(e,t,s){var u=et;et|=2;var f=Np(),p=Ap();(ht!==e||Ke!==t)&&(Iu=null,Kr(e,t)),t=!1;var S=Tt;e:do try{if(nt!==0&&Ze!==null){var C=Ze,M=Bn;switch(nt){case 8:Qh(),S=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(t=!0);var V=nt;if(nt=0,Bn=null,Yr(e,C,M,V),s&&Zr){S=0;break e}break;default:V=nt,nt=0,Bn=null,Yr(e,C,M,V)}}__(),S=Tt;break}catch(X){Op(e,X)}while(!0);return t&&e.shellSuspendCounter++,_i=Zi=null,et=u,I.H=f,I.A=p,Ze===null&&(ht=null,Ke=0,qs()),S}function __(){for(;Ze!==null;)Rp(Ze)}function b_(e,t){var s=et;et|=2;var u=Np(),f=Ap();ht!==e||Ke!==t?(Iu=null,Hu=Jt()+500,Kr(e,t)):Zr=dt(e,t);e:do try{if(nt!==0&&Ze!==null){t=Ze;var p=Bn;t:switch(nt){case 1:nt=0,Bn=null,Yr(e,t,p,1);break;case 2:case 9:if(Hf(p)){nt=0,Bn=null,jp(t);break}t=function(){nt!==2&&nt!==9||ht!==e||(nt=7),Gi(e)},p.then(t,t);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:Hf(p)?(nt=0,Bn=null,jp(t)):(nt=0,Bn=null,Yr(e,t,p,7));break;case 5:var S=null;switch(Ze.tag){case 26:S=Ze.memoizedState;case 5:case 27:var C=Ze;if(S?gg(S):C.stateNode.complete){nt=0,Bn=null;var M=C.sibling;if(M!==null)Ze=M;else{var V=C.return;V!==null?(Ze=V,Zu(V)):Ze=null}break t}}nt=0,Bn=null,Yr(e,t,p,5);break;case 6:nt=0,Bn=null,Yr(e,t,p,6);break;case 8:Qh(),Tt=6;break e;default:throw Error(o(462))}}x_();break}catch(X){Op(e,X)}while(!0);return _i=Zi=null,I.H=u,I.A=f,et=s,Ze!==null?0:(ht=null,Ke=0,qs(),Tt)}function x_(){for(;Ze!==null&&!$t();)Rp(Ze)}function Rp(e){var t=ep(e.alternate,e,ba);e.memoizedProps=e.pendingProps,t===null?Zu(e):Ze=t}function jp(e){var t=e,s=t.alternate;switch(t.tag){case 15:case 0:t=Ym(s,t,t.pendingProps,t.type,void 0,Ke);break;case 11:t=Ym(s,t,t.pendingProps,t.type.render,t.ref,Ke);break;case 5:mh(t);default:np(s,t),t=Ze=Bo(t,ba),t=ep(s,t,ba)}e.memoizedProps=e.pendingProps,t===null?Zu(e):Ze=t}function Yr(e,t,s,u){_i=Zi=null,mh(t),Dr=null,Go=0;var f=t.return;try{if(u_(e,f,t,s,Ke)){Tt=1,ju(e,l(s,e.current)),Ze=null;return}}catch(p){if(f!==null)throw Ze=f,p;Tt=1,ju(e,l(s,e.current)),Ze=null;return}t.flags&32768?($e||u===1?e=!0:Zr||(Ke&536870912)!==0?e=!1:(is=e=!0,(u===2||u===9||u===3||u===6)&&(u=Dn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Lp(t,e)):Zu(t)}function Zu(e){var t=e;do{if((t.flags&32768)!==0){Lp(t,is);return}e=t.return;var s=d_(t.alternate,t,ba);if(s!==null){Ze=s;return}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);Tt===0&&(Tt=5)}function Lp(e,t){do{var s=f_(e.alternate,e);if(s!==null){s.flags&=32767,Ze=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!t&&(e=e.sibling,e!==null)){Ze=e;return}Ze=e=s}while(e!==null);Tt=6,Ze=null}function kp(e,t,s,u,f,p,S,C,M){e.cancelPendingCommit=null;do Vu();while(It!==0);if((et&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(p=t.lanes|t.childLanes,p|=Ar,rn(e,s,p,S,C,M),e===ht&&(Ze=ht=null,Ke=0),Gr=t,rs=e,xa=s,Fh=p,Jh=f,wp=u,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,T_(Oi,function(){return Up(),null})):(e.callbackNode=null,e.callbackPriority=0),u=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||u){u=I.T,I.T=null,f=ne.p,ne.p=2,S=et,et|=4;try{m_(e,t,s)}finally{et=S,ne.p=f,I.T=u}}It=1,Mp(),zp(),Pp()}}function Mp(){if(It===1){It=0;var e=rs,t=Gr,s=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||s){s=I.T,I.T=null;var u=ne.p;ne.p=2;var f=et;et|=4;try{mp(t,e);var p=hd,S=Ds(e.containerInfo),C=p.focusedElem,M=p.selectionRange;if(S!==C&&C&&C.ownerDocument&&Tr(C.ownerDocument.documentElement,C)){if(M!==null&&Di(C)){var V=M.start,X=M.end;if(X===void 0&&(X=V),"selectionStart"in C)C.selectionStart=V,C.selectionEnd=Math.min(X,C.value.length);else{var ee=C.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var F=K.getSelection(),pe=C.textContent.length,Te=Math.min(M.start,pe),lt=M.end===void 0?Te:Math.min(M.end,pe);!F.extend&&Te>lt&&(S=lt,lt=Te,Te=S);var H=Ps(C,Te),D=Ps(C,lt);if(H&&D&&(F.rangeCount!==1||F.anchorNode!==H.node||F.anchorOffset!==H.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var Z=ee.createRange();Z.setStart(H.node,H.offset),F.removeAllRanges(),Te>lt?(F.addRange(Z),F.extend(D.node,D.offset)):(Z.setEnd(D.node,D.offset),F.addRange(Z))}}}}for(ee=[],F=C;F=F.parentNode;)F.nodeType===1&&ee.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ee.length;C++){var Q=ee[C];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}ic=!!cd,hd=cd=null}finally{et=f,ne.p=u,I.T=s}}e.current=t,It=2}}function zp(){if(It===2){It=0;var e=rs,t=Gr,s=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||s){s=I.T,I.T=null;var u=ne.p;ne.p=2;var f=et;et|=4;try{up(e,t.alternate,t)}finally{et=f,ne.p=u,I.T=s}}It=3}}function Pp(){if(It===4||It===3){It=0,ci();var e=rs,t=Gr,s=xa,u=wp;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?It=5:(It=0,Gr=rs=null,Dp(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(ss=null),me(s),t=t.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Ni,t,void 0,(t.current.flags&128)===128)}catch{}if(u!==null){t=I.T,f=ne.p,ne.p=2,I.T=null;try{for(var p=e.onRecoverableError,S=0;S<u.length;S++){var C=u[S];p(C.value,{componentStack:C.stack})}}finally{I.T=t,ne.p=f}}(xa&3)!==0&&Vu(),Gi(e),f=e.pendingLanes,(s&261930)!==0&&(f&42)!==0?e===Xh?ul++:(ul=0,Xh=e):ul=0,cl(0)}}function Dp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Zo(t)))}function Vu(){return Mp(),zp(),Pp(),Up()}function Up(){if(It!==5)return!1;var e=rs,t=Fh;Fh=0;var s=me(xa),u=I.T,f=ne.p;try{ne.p=32>s?32:s,I.T=null,s=Jh,Jh=null;var p=rs,S=xa;if(It=0,Gr=rs=null,xa=0,(et&6)!==0)throw Error(o(331));var C=et;if(et|=4,_p(p.current),gp(p,p.current,S,s),et=C,cl(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Ni,p)}catch{}return!0}finally{ne.p=f,I.T=u,Dp(e,t)}}function Bp(e,t,s){t=l(s,t),t=Ah(e.stateNode,t,2),e=Wa(e,t,2),e!==null&&(ut(e,2),Gi(e))}function it(e,t,s){if(e.tag===3)Bp(e,e,s);else for(;t!==null;){if(t.tag===3){Bp(t,e,s);break}else if(t.tag===1){var u=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ss===null||!ss.has(u))){e=l(s,e),s=Hm(2),u=Wa(t,s,2),u!==null&&(Im(s,u,t,e),ut(u,2),Gi(u));break}}t=t.return}}function ed(e,t,s){var u=e.pingCache;if(u===null){u=e.pingCache=new v_;var f=new Set;u.set(t,f)}else f=u.get(t),f===void 0&&(f=new Set,u.set(t,f));f.has(s)||(Gh=!0,f.add(s),e=w_.bind(null,e,t,s),t.then(e,e))}function w_(e,t,s){var u=e.pingCache;u!==null&&u.delete(t),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ht===e&&(Ke&s)===s&&(Tt===4||Tt===3&&(Ke&62914560)===Ke&&300>Jt()-Bu?(et&2)===0&&Kr(e,0):Kh|=s,Vr===Ke&&(Vr=0)),Gi(e)}function Hp(e,t){t===0&&(t=Vt()),e=ni(e,t),e!==null&&(ut(e,t),Gi(e))}function S_(e){var t=e.memoizedState,s=0;t!==null&&(s=t.retryLane),Hp(e,s)}function E_(e,t){var s=0;switch(e.tag){case 31:case 13:var u=e.stateNode,f=e.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=e.stateNode;break;case 22:u=e.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(t),Hp(e,s)}function T_(e,t){return ja(e,t)}var Gu=null,Fr=null,td=!1,Ku=!1,nd=!1,ls=0;function Gi(e){e!==Fr&&e.next===null&&(Fr===null?Gu=Fr=e:Fr=Fr.next=e),Ku=!0,td||(td=!0,C_())}function cl(e,t){if(!nd&&Ku){nd=!0;do for(var s=!1,u=Gu;u!==null;){if(e!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var S=u.suspendedLanes,C=u.pingedLanes;p=(1<<31-Zt(42|e)+1)-1,p&=f&~(S&~C),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(s=!0,Zp(u,p))}else p=Ke,p=Re(u,u===ht?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||dt(u,p)||(s=!0,Zp(u,p));u=u.next}while(s);nd=!1}}function O_(){Ip()}function Ip(){Ku=td=!1;var e=0;ls!==0&&D_()&&(e=ls);for(var t=Jt(),s=null,u=Gu;u!==null;){var f=u.next,p=qp(u,t);p===0?(u.next=null,s===null?Gu=f:s.next=f,f===null&&(Fr=s)):(s=u,(e!==0||(p&3)!==0)&&(Ku=!0)),u=f}It!==0&&It!==5||cl(e),ls!==0&&(ls=0)}function qp(e,t){for(var s=e.suspendedLanes,u=e.pingedLanes,f=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-Zt(p),C=1<<S,M=f[S];M===-1?((C&s)===0||(C&u)!==0)&&(f[S]=At(C,t)):M<=t&&(e.expiredLanes|=C),p&=~C}if(t=ht,s=Ke,s=Re(e,e===t?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u=e.callbackNode,s===0||e===t&&(nt===2||nt===9)||e.cancelPendingCommit!==null)return u!==null&&u!==null&&Ji(u),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||dt(e,s)){if(t=s&-s,t===e.callbackPriority)return t;switch(u!==null&&Ji(u),me(s)){case 2:case 8:s=vs;break;case 32:s=Oi;break;case 268435456:s=Kn;break;default:s=Oi}return u=$p.bind(null,e),s=ja(s,u),e.callbackPriority=t,e.callbackNode=s,t}return u!==null&&u!==null&&Ji(u),e.callbackPriority=2,e.callbackNode=null,2}function $p(e,t){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Vu()&&e.callbackNode!==s)return null;var u=Ke;return u=Re(e,e===ht?u:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),u===0?null:(Ep(e,u,t),qp(e,Jt()),e.callbackNode!=null&&e.callbackNode===s?$p.bind(null,e):null)}function Zp(e,t){if(Vu())return null;Ep(e,t,!0)}function C_(){B_(function(){(et&6)!==0?ja(hi,O_):Ip()})}function id(){if(ls===0){var e=Mr;e===0&&(e=Qi,Qi<<=1,(Qi&261888)===0&&(Qi=256)),ls=e}return ls}function Vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Da(""+e)}function Gp(e,t){var s=t.ownerDocument.createElement("input");return s.name=t.name,s.value=t.value,e.id&&s.setAttribute("form",e.id),t.parentNode.insertBefore(s,t),e=new FormData(e),s.parentNode.removeChild(s),e}function N_(e,t,s,u,f){if(t==="submit"&&s&&s.stateNode===f){var p=Vp((f[Gt]||null).action),S=u.submitter;S&&(t=(t=S[Gt]||null)?Vp(t.formAction):S.getAttribute("formAction"),t!==null&&(p=t,S=null));var C=new yr("action","action",null,u,f);e.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ls!==0){var M=S?Gp(f,S):new FormData(f);Sh(s,{pending:!0,data:M,method:f.method,action:p},null,M)}}else typeof p=="function"&&(C.preventDefault(),M=S?Gp(f,S):new FormData(f),Sh(s,{pending:!0,data:M,method:f.method,action:p},p,M))},currentTarget:f}]})}}for(var ad=0;ad<Hi.length;ad++){var sd=Hi[ad],A_=sd.toLowerCase(),R_=sd[0].toUpperCase()+sd.slice(1);xn(A_,"on"+R_)}xn(Bs,"onAnimationEnd"),xn(hu,"onAnimationIteration"),xn(Hs,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(Yc,"onTransitionRun"),xn(du,"onTransitionStart"),xn(Fc,"onTransitionCancel"),xn(Ya,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ia("onBeforeInput",["compositionend","keypress","textInput","paste"]),ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function Kp(e,t){t=(t&4)!==0;for(var s=0;s<e.length;s++){var u=e[s],f=u.event;u=u.listeners;e:{var p=void 0;if(t)for(var S=u.length-1;0<=S;S--){var C=u[S],M=C.instance,V=C.currentTarget;if(C=C.listener,M!==p&&f.isPropagationStopped())break e;p=C,f.currentTarget=V;try{p(f)}catch(X){Is(X)}f.currentTarget=null,p=M}else for(S=0;S<u.length;S++){if(C=u[S],M=C.instance,V=C.currentTarget,C=C.listener,M!==p&&f.isPropagationStopped())break e;p=C,f.currentTarget=V;try{p(f)}catch(X){Is(X)}f.currentTarget=null,p=M}}}}function Ve(e,t){var s=t[ji];s===void 0&&(s=t[ji]=new Set);var u=e+"__bubble";s.has(u)||(Yp(t,e,2,!1),s.add(u))}function rd(e,t,s){var u=0;t&&(u|=4),Yp(s,e,u,t)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[Yu]){e[Yu]=!0,Vl.forEach(function(s){s!=="selectionchange"&&(j_.has(s)||rd(s,!1,e),rd(s,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yu]||(t[Yu]=!0,rd("selectionchange",!1,t))}}function Yp(e,t,s,u){switch(Sg(t)){case 2:var f=s0;break;case 8:f=r0;break;default:f=wd}s=f.bind(null,t,s,e),f=void 0,!Cs||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),u?f!==void 0?e.addEventListener(t,s,{capture:!0,passive:f}):e.addEventListener(t,s,!0):f!==void 0?e.addEventListener(t,s,{passive:f}):e.addEventListener(t,s,!1)}function ld(e,t,s,u,f){var p=u;if((t&1)===0&&(t&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var C=u.stateNode.containerInfo;if(C===f)break;if(S===4)for(S=u.return;S!==null;){var M=S.tag;if((M===3||M===4)&&S.stateNode.containerInfo===f)return;S=S.return}for(;C!==null;){if(S=na(C),S===null)return;if(M=S.tag,M===5||M===6||M===26||M===27){u=p=S;continue e}C=C.parentNode}}u=u.return}No(function(){var V=p,X=Os(s),ee=[];e:{var K=fu.get(e);if(K!==void 0){var F=yr,pe=e;switch(e){case"keypress":if(Ns(s)===0)break e;case"keydown":case"keyup":F=Wl;break;case"focusin":pe="focus",F=jo;break;case"focusout":pe="blur",F=jo;break;case"beforeblur":case"afterblur":F=jo;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=qc;break;case Bs:case hu:case Hs:F=Lo;break;case Ya:F=nu;break;case"scroll":case"scrollend":F=Ge;break;case"wheel":F=oa;break;case"copy":case"cut":case"paste":F=Qn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=eu;break;case"toggle":case"beforetoggle":F=js}var Te=(t&4)!==0,lt=!Te&&(e==="scroll"||e==="scrollend"),H=Te?K!==null?K+"Capture":null:K;Te=[];for(var D=V,Z;D!==null;){var Q=D;if(Z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||Z===null||H===null||(Q=sa(D,H),Q!=null&&Te.push(dl(D,Q,Z))),lt)break;D=D.return}0<Te.length&&(K=new F(K,pe,null,s,X),ee.push({event:K,listeners:Te}))}}if((t&7)===0){e:{if(K=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",K&&s!==vr&&(pe=s.relatedTarget||s.fromElement)&&(na(pe)||pe[ta]))break e;if((F||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,F?(pe=s.relatedTarget||s.toElement,F=V,pe=pe?na(pe):null,pe!==null&&(lt=h(pe),Te=pe.tag,pe!==lt||Te!==5&&Te!==27&&Te!==6)&&(pe=null)):(F=null,pe=V),F!==pe)){if(Te=Yl,Q="onMouseLeave",H="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(Te=eu,Q="onPointerLeave",H="onPointerEnter",D="pointer"),lt=F==null?K:Li(F),Z=pe==null?K:Li(pe),K=new Te(Q,D+"leave",F,s,X),K.target=lt,K.relatedTarget=Z,Q=null,na(X)===V&&(Te=new Te(H,D+"enter",pe,s,X),Te.target=Z,Te.relatedTarget=lt,Q=Te),lt=Q,F&&pe)t:{for(Te=L_,H=F,D=pe,Z=0,Q=H;Q;Q=Te(Q))Z++;Q=0;for(var Se=D;Se;Se=Te(Se))Q++;for(;0<Z-Q;)H=Te(H),Z--;for(;0<Q-Z;)D=Te(D),Q--;for(;Z--;){if(H===D||D!==null&&H===D.alternate){Te=H;break t}H=Te(H),D=Te(D)}Te=null}else Te=null;F!==null&&Fp(ee,K,F,Te,!1),pe!==null&&lt!==null&&Fp(ee,lt,pe,Te,!0)}}e:{if(K=V?Li(V):window,F=K.nodeName&&K.nodeName.toLowerCase(),F==="select"||F==="input"&&K.type==="file")var Qe=zs;else if(Wn(K))if(ru)Qe=Kc;else{Qe=Gc;var ve=gi}else F=K.nodeName,!F||F.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?V&&Ts(V.elementType)&&(Qe=zs):Qe=Za;if(Qe&&(Qe=Qe(e,V))){su(ee,Qe,s,X);break e}ve&&ve(e,K,V),e==="focusout"&&V&&K.type==="number"&&V.memoizedProps.value!=null&&fi(K,"number",K.value)}switch(ve=V?Li(V):window,e){case"focusin":(Wn(ve)||ve.contentEditable==="true")&&(Ui=ve,Cr=V,Us=null);break;case"focusout":Us=Cr=Ui=null;break;case"mousedown":Ga=!0;break;case"contextmenu":case"mouseup":case"dragend":Ga=!1,uu(ee,s,X);break;case"selectionchange":if(Or)break;case"keydown":case"keyup":uu(ee,s,X)}var Be;if(br)e:{switch(e){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else Ia?au(e,s)&&(Ye="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ye="onCompositionStart");Ye&&(xr&&s.locale!=="ko"&&(Ia||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&Ia&&(Be=zi()):(Xn=X,ra="value"in Xn?Xn.value:Xn.textContent,Ia=!0)),ve=Fu(V,Ye),0<ve.length&&(Ye=new ko(Ye,e,null,s,X),ee.push({event:Ye,listeners:ve}),Be?Ye.data=Be:(Be=Do(s),Be!==null&&(Ye.data=Be)))),(Be=Zc?Pn(e,s):qa(e,s))&&(Ye=Fu(V,"onBeforeInput"),0<Ye.length&&(ve=new ko("onBeforeInput","beforeinput",null,s,X),ee.push({event:ve,listeners:Ye}),ve.data=Be)),N_(ee,e,V,s,X)}Kp(ee,t)})}function dl(e,t,s){return{instance:e,listener:t,currentTarget:s}}function Fu(e,t){for(var s=t+"Capture",u=[];e!==null;){var f=e,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=sa(e,s),f!=null&&u.unshift(dl(e,f,p)),f=sa(e,t),f!=null&&u.push(dl(e,f,p))),e.tag===3)return u;e=e.return}return[]}function L_(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fp(e,t,s,u,f){for(var p=t._reactName,S=[];s!==null&&s!==u;){var C=s,M=C.alternate,V=C.stateNode;if(C=C.tag,M!==null&&M===u)break;C!==5&&C!==26&&C!==27||V===null||(M=V,f?(V=sa(s,p),V!=null&&S.unshift(dl(s,V,M))):f||(V=sa(s,p),V!=null&&S.push(dl(s,V,M)))),s=s.return}S.length!==0&&e.push({event:t,listeners:S})}var k_=/\r\n?/g,M_=/\u0000|\uFFFD/g;function Jp(e){return(typeof e=="string"?e:""+e).replace(k_,`
`).replace(M_,"")}function Xp(e,t){return t=Jp(t),Jp(e)===t}function ot(e,t,s,u,f,p){switch(s){case"children":typeof u=="string"?t==="body"||t==="textarea"&&u===""||Jn(e,u):(typeof u=="number"||typeof u=="bigint")&&t!=="body"&&Jn(e,""+u);break;case"className":st(e,"class",u);break;case"tabIndex":st(e,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":st(e,s,u);break;case"style":pr(e,u,p);break;case"data":if(t!=="object"){st(e,"data",u);break}case"src":case"href":if(u===""&&(t!=="a"||s!=="href")){e.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(s);break}u=Da(""+u),e.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(t!=="input"&&ot(e,t,"name",f.name,f,null),ot(e,t,"formEncType",f.formEncType,f,null),ot(e,t,"formMethod",f.formMethod,f,null),ot(e,t,"formTarget",f.formTarget,f,null)):(ot(e,t,"encType",f.encType,f,null),ot(e,t,"method",f.method,f,null),ot(e,t,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){e.removeAttribute(s);break}u=Da(""+u),e.setAttribute(s,u);break;case"onClick":u!=null&&(e.onclick=_n);break;case"onScroll":u!=null&&Ve("scroll",e);break;case"onScrollEnd":u!=null&&Ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"multiple":e.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":e.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){e.removeAttribute("xlink:href");break}s=Da(""+u),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,""+u):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":u===!0?e.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?e.setAttribute(s,u):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?e.setAttribute(s,u):e.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?e.removeAttribute(s):e.setAttribute(s,u);break;case"popover":Ve("beforetoggle",e),Ve("toggle",e),qe(e,"popover",u);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":qe(e,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=gr.get(s)||s,qe(e,s,u))}}function ud(e,t,s,u,f,p){switch(s){case"style":pr(e,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=s}}break;case"children":typeof u=="string"?Jn(e,u):(typeof u=="number"||typeof u=="bigint")&&Jn(e,""+u);break;case"onScroll":u!=null&&Ve("scroll",e);break;case"onScrollEnd":u!=null&&Ve("scrollend",e);break;case"onClick":u!=null&&(e.onclick=_n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gl.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),t=s.slice(2,f?s.length-7:void 0),p=e[Gt]||null,p=p!=null?p[s]:null,typeof p=="function"&&e.removeEventListener(t,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(t,u,f);break e}s in e?e[s]=u:u===!0?e.setAttribute(s,""):qe(e,s,u)}}}function tn(e,t,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",e),Ve("load",e);var u=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var S=s[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ot(e,t,p,S,s,null)}}f&&ot(e,t,"srcSet",s.srcSet,s,null),u&&ot(e,t,"src",s.src,s,null);return;case"input":Ve("invalid",e);var C=p=S=f=null,M=null,V=null;for(u in s)if(s.hasOwnProperty(u)){var X=s[u];if(X!=null)switch(u){case"name":f=X;break;case"type":S=X;break;case"checked":M=X;break;case"defaultChecked":V=X;break;case"value":p=X;break;case"defaultValue":C=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,t));break;default:ot(e,t,u,X,s,null)}}Es(e,p,C,M,V,S,f,!1);return;case"select":Ve("invalid",e),u=S=p=null;for(f in s)if(s.hasOwnProperty(f)&&(C=s[f],C!=null))switch(f){case"value":p=C;break;case"defaultValue":S=C;break;case"multiple":u=C;default:ot(e,t,f,C,s,null)}t=p,s=S,e.multiple=!!u,t!=null?ct(e,!!u,t,!1):s!=null&&ct(e,!!u,s,!0);return;case"textarea":Ve("invalid",e),p=f=u=null;for(S in s)if(s.hasOwnProperty(S)&&(C=s[S],C!=null))switch(S){case"value":u=C;break;case"defaultValue":f=C;break;case"children":p=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(o(91));break;default:ot(e,t,S,C,s,null)}za(e,u,f,p);return;case"option":for(M in s)s.hasOwnProperty(M)&&(u=s[M],u!=null)&&(M==="selected"?e.selected=u&&typeof u!="function"&&typeof u!="symbol":ot(e,t,M,u,s,null));return;case"dialog":Ve("beforetoggle",e),Ve("toggle",e),Ve("cancel",e),Ve("close",e);break;case"iframe":case"object":Ve("load",e);break;case"video":case"audio":for(u=0;u<hl.length;u++)Ve(hl[u],e);break;case"image":Ve("error",e),Ve("load",e);break;case"details":Ve("toggle",e);break;case"embed":case"source":case"link":Ve("error",e),Ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in s)if(s.hasOwnProperty(V)&&(u=s[V],u!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:ot(e,t,V,u,s,null)}return;default:if(Ts(t)){for(X in s)s.hasOwnProperty(X)&&(u=s[X],u!==void 0&&ud(e,t,X,u,s,void 0));return}}for(C in s)s.hasOwnProperty(C)&&(u=s[C],u!=null&&ot(e,t,C,u,s,null))}function z_(e,t,s,u){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,S=null,C=null,M=null,V=null,X=null;for(F in s){var ee=s[F];if(s.hasOwnProperty(F)&&ee!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":M=ee;default:u.hasOwnProperty(F)||ot(e,t,F,null,u,ee)}}for(var K in u){var F=u[K];if(ee=s[K],u.hasOwnProperty(K)&&(F!=null||ee!=null))switch(K){case"type":p=F;break;case"name":f=F;break;case"checked":V=F;break;case"defaultChecked":X=F;break;case"value":S=F;break;case"defaultValue":C=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,t));break;default:F!==ee&&ot(e,t,K,F,u,ee)}}To(e,S,C,M,V,X,p,f);return;case"select":F=S=C=K=null;for(p in s)if(M=s[p],s.hasOwnProperty(p)&&M!=null)switch(p){case"value":break;case"multiple":F=M;default:u.hasOwnProperty(p)||ot(e,t,p,null,u,M)}for(f in u)if(p=u[f],M=s[f],u.hasOwnProperty(f)&&(p!=null||M!=null))switch(f){case"value":K=p;break;case"defaultValue":C=p;break;case"multiple":S=p;default:p!==M&&ot(e,t,f,p,u,M)}t=C,s=S,u=F,K!=null?ct(e,!!s,K,!1):!!u!=!!s&&(t!=null?ct(e,!!s,t,!0):ct(e,!!s,s?[]:"",!1));return;case"textarea":F=K=null;for(C in s)if(f=s[C],s.hasOwnProperty(C)&&f!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ot(e,t,C,null,u,f)}for(S in u)if(f=u[S],p=s[S],u.hasOwnProperty(S)&&(f!=null||p!=null))switch(S){case"value":K=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==p&&ot(e,t,S,f,u,p)}Mi(e,K,F);return;case"option":for(var pe in s)K=s[pe],s.hasOwnProperty(pe)&&K!=null&&!u.hasOwnProperty(pe)&&(pe==="selected"?e.selected=!1:ot(e,t,pe,null,u,K));for(M in u)K=u[M],F=s[M],u.hasOwnProperty(M)&&K!==F&&(K!=null||F!=null)&&(M==="selected"?e.selected=K&&typeof K!="function"&&typeof K!="symbol":ot(e,t,M,K,u,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)K=s[Te],s.hasOwnProperty(Te)&&K!=null&&!u.hasOwnProperty(Te)&&ot(e,t,Te,null,u,K);for(V in u)if(K=u[V],F=s[V],u.hasOwnProperty(V)&&K!==F&&(K!=null||F!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,t));break;default:ot(e,t,V,K,u,F)}return;default:if(Ts(t)){for(var lt in s)K=s[lt],s.hasOwnProperty(lt)&&K!==void 0&&!u.hasOwnProperty(lt)&&ud(e,t,lt,void 0,u,K);for(X in u)K=u[X],F=s[X],!u.hasOwnProperty(X)||K===F||K===void 0&&F===void 0||ud(e,t,X,K,u,F);return}}for(var H in s)K=s[H],s.hasOwnProperty(H)&&K!=null&&!u.hasOwnProperty(H)&&ot(e,t,H,null,u,K);for(ee in u)K=u[ee],F=s[ee],!u.hasOwnProperty(ee)||K===F||K==null&&F==null||ot(e,t,ee,K,u,F)}function Qp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P_(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var f=s[u],p=f.transferSize,S=f.initiatorType,C=f.duration;if(p&&C&&Qp(S)){for(S=0,C=f.responseEnd,u+=1;u<s.length;u++){var M=s[u],V=M.startTime;if(V>C)break;var X=M.transferSize,ee=M.initiatorType;X&&Qp(ee)&&(M=M.responseEnd,S+=X*(M<C?1:(C-V)/(M-V)))}if(--u,t+=8*(p+S)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function Ju(e){return e.nodeType===9?e:e.ownerDocument}function Wp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function dd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fd=null;function D_(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var tg=typeof setTimeout=="function"?setTimeout:void 0,U_=typeof clearTimeout=="function"?clearTimeout:void 0,ng=typeof Promise=="function"?Promise:void 0,B_=typeof queueMicrotask=="function"?queueMicrotask:typeof ng<"u"?function(e){return ng.resolve(null).then(e).catch(H_)}:tg;function H_(e){setTimeout(function(){throw e})}function us(e){return e==="head"}function ig(e,t){var s=t,u=0;do{var f=s.nextSibling;if(e.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(u===0){e.removeChild(f),Wr(t);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")fl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,fl(s);for(var p=s.firstChild;p;){var S=p.nextSibling,C=p.nodeName;p[xs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&p.rel.toLowerCase()==="stylesheet"||s.removeChild(p),p=S}}else s==="body"&&fl(e.ownerDocument.body);s=f}while(s);Wr(t)}function ag(e,t){var s=e;e=0;do{var u=s.nextSibling;if(s.nodeType===1?t?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(t?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=u}while(s)}function md(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var s=t;switch(t=t.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),xo(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function I_(e,t,s,u){for(;e.nodeType===1;){var f=s;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!u&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(u){if(!e[xs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=si(e.nextSibling),e===null)break}return null}function q_(e,t,s){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=si(e.nextSibling),e===null))return null;return e}function sg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=si(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $_(e,t){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||s.readyState!=="loading")t();else{var u=function(){t(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),e._reactRetry=u}}function si(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var vd=null;function rg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(t===0)return si(e.nextSibling);t--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||t++}e=e.nextSibling}return null}function og(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(t===0)return e;t--}else s!=="/$"&&s!=="/&"||t++}e=e.previousSibling}return null}function lg(e,t,s){switch(t=Ju(s),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function fl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);xo(e)}var ri=new Map,ug=new Set;function Xu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wa=ne.d;ne.d={f:Z_,r:V_,D:G_,C:K_,L:Y_,m:F_,X:X_,S:J_,M:Q_};function Z_(){var e=wa.f(),t=qu();return e||t}function V_(e){var t=La(e);t!==null&&t.tag===5&&t.type==="form"?Om(t):wa.r(e)}var Jr=typeof document>"u"?null:document;function cg(e,t,s){var u=Jr;if(u&&typeof t=="string"&&t){var f=mt(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),ug.has(f)||(ug.add(f),e={rel:e,crossOrigin:s,href:t},u.querySelector(f)===null&&(t=u.createElement("link"),tn(t,"link",e),jt(t),u.head.appendChild(t)))}}function G_(e){wa.D(e),cg("dns-prefetch",e,null)}function K_(e,t){wa.C(e,t),cg("preconnect",e,t)}function Y_(e,t,s){wa.L(e,t,s);var u=Jr;if(u&&e&&t){var f='link[rel="preload"][as="'+mt(t)+'"]';t==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+mt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+mt(s.imageSizes)+'"]')):f+='[href="'+mt(e)+'"]';var p=f;switch(t){case"style":p=Xr(e);break;case"script":p=Qr(e)}ri.has(p)||(e=x({rel:"preload",href:t==="image"&&s&&s.imageSrcSet?void 0:e,as:t},s),ri.set(p,e),u.querySelector(f)!==null||t==="style"&&u.querySelector(ml(p))||t==="script"&&u.querySelector(pl(p))||(t=u.createElement("link"),tn(t,"link",e),jt(t),u.head.appendChild(t)))}}function F_(e,t){wa.m(e,t);var s=Jr;if(s&&e){var u=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+mt(u)+'"][href="'+mt(e)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Qr(e)}if(!ri.has(p)&&(e=x({rel:"modulepreload",href:e},t),ri.set(p,e),s.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(pl(p)))return}u=s.createElement("link"),tn(u,"link",e),jt(u),s.head.appendChild(u)}}}function J_(e,t,s){wa.S(e,t,s);var u=Jr;if(u&&e){var f=ka(u).hoistableStyles,p=Xr(e);t=t||"default";var S=f.get(p);if(!S){var C={loading:0,preload:null};if(S=u.querySelector(ml(p)))C.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":t},s),(s=ri.get(p))&&yd(e,s);var M=S=u.createElement("link");jt(M),tn(M,"link",e),M._p=new Promise(function(V,X){M.onload=V,M.onerror=X}),M.addEventListener("load",function(){C.loading|=1}),M.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Qu(S,t,u)}S={type:"stylesheet",instance:S,count:1,state:C},f.set(p,S)}}}function X_(e,t){wa.X(e,t);var s=Jr;if(s&&e){var u=ka(s).hoistableScripts,f=Qr(e),p=u.get(f);p||(p=s.querySelector(pl(f)),p||(e=x({src:e,async:!0},t),(t=ri.get(f))&&_d(e,t),p=s.createElement("script"),jt(p),tn(p,"link",e),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function Q_(e,t){wa.M(e,t);var s=Jr;if(s&&e){var u=ka(s).hoistableScripts,f=Qr(e),p=u.get(f);p||(p=s.querySelector(pl(f)),p||(e=x({src:e,async:!0,type:"module"},t),(t=ri.get(f))&&_d(e,t),p=s.createElement("script"),jt(p),tn(p,"link",e),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function hg(e,t,s,u){var f=(f=oe.current)?Xu(f):null;if(!f)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(t=Xr(s.href),s=ka(f).hoistableStyles,u=s.get(t),u||(u={type:"style",instance:null,count:0,state:null},s.set(t,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Xr(s.href);var p=ka(f).hoistableStyles,S=p.get(e);if(S||(f=f.ownerDocument||f,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=f.querySelector(ml(e)))&&!p._p&&(S.instance=p,S.state.loading=5),ri.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ri.set(e,s),p||W_(f,e,s,S.state))),t&&u===null)throw Error(o(528,""));return S}if(t&&u!==null)throw Error(o(529,""));return null;case"script":return t=s.async,s=s.src,typeof s=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Qr(s),s=ka(f).hoistableScripts,u=s.get(t),u||(u={type:"script",instance:null,count:0,state:null},s.set(t,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Xr(e){return'href="'+mt(e)+'"'}function ml(e){return'link[rel="stylesheet"]['+e+"]"}function dg(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function W_(e,t,s,u){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?u.loading=1:(t=e.createElement("link"),u.preload=t,t.addEventListener("load",function(){return u.loading|=1}),t.addEventListener("error",function(){return u.loading|=2}),tn(t,"link",s),jt(t),e.head.appendChild(t))}function Qr(e){return'[src="'+mt(e)+'"]'}function pl(e){return"script[async]"+e}function fg(e,t,s){if(t.count++,t.instance===null)switch(t.type){case"style":var u=e.querySelector('style[data-href~="'+mt(s.href)+'"]');if(u)return t.instance=u,jt(u),u;var f=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(e.ownerDocument||e).createElement("style"),jt(u),tn(u,"style",f),Qu(u,s.precedence,e),t.instance=u;case"stylesheet":f=Xr(s.href);var p=e.querySelector(ml(f));if(p)return t.state.loading|=4,t.instance=p,jt(p),p;u=dg(s),(f=ri.get(f))&&yd(u,f),p=(e.ownerDocument||e).createElement("link"),jt(p);var S=p;return S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),tn(p,"link",u),t.state.loading|=4,Qu(p,s.precedence,e),t.instance=p;case"script":return p=Qr(s.src),(f=e.querySelector(pl(p)))?(t.instance=f,jt(f),f):(u=s,(f=ri.get(p))&&(u=x({},s),_d(u,f)),e=e.ownerDocument||e,f=e.createElement("script"),jt(f),tn(f,"link",u),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(u=t.instance,t.state.loading|=4,Qu(u,s.precedence,e));return t.instance}function Qu(e,t,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,S=0;S<u.length;S++){var C=u[S];if(C.dataset.precedence===t)p=C;else if(p!==f)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=s.nodeType===9?s.head:s,t.insertBefore(e,t.firstChild))}function yd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function _d(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Wu=null;function mg(e,t,s){if(Wu===null){var u=new Map,f=Wu=new Map;f.set(s,u)}else f=Wu,u=f.get(s),u||(u=new Map,f.set(s,u));if(u.has(e))return u;for(u.set(e,null),s=s.getElementsByTagName(e),f=0;f<s.length;f++){var p=s[f];if(!(p[xs]||p[Rt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(t)||"";S=e+S;var C=u.get(S);C?C.push(p):u.set(S,[p])}}return u}function pg(e,t,s){e=e.ownerDocument||e,e.head.insertBefore(s,t==="title"?e.querySelector("head > title"):null)}function e0(e,t,s){if(s===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function t0(e,t,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Xr(u.href),p=t.querySelector(ml(f));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ec.bind(e),t.then(e,e)),s.state.loading|=4,s.instance=p,jt(p);return}p=t.ownerDocument||t,u=dg(u),(f=ri.get(f))&&yd(u,f),p=p.createElement("link"),jt(p);var S=p;S._p=new Promise(function(C,M){S.onload=C,S.onerror=M}),tn(p,"link",u),s.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=ec.bind(e),t.addEventListener("load",s),t.addEventListener("error",s))}}var bd=0;function n0(e,t){return e.stylesheets&&e.count===0&&nc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var u=setTimeout(function(){if(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&bd===0&&(bd=62500*P_());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nc(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>bd?50:800)+t);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tc=null;function nc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tc=new Map,t.forEach(i0,e),tc=null,ec.call(e))}function i0(e,t){if(!(t.state.loading&4)){var s=tc.get(e);if(s)var u=s.get(null);else{s=new Map,tc.set(e,s);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var S=f[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),u=S)}u&&s.set(null,u)}f=t.instance,S=f.getAttribute("data-precedence"),p=s.get(S)||u,p===u&&s.set(null,f),s.set(S,f),this.count++,u=ec.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var gl={$$typeof:q,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function a0(e,t,s,u,f,p,S,C,M){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function vg(e,t,s,u,f,p,S,C,M,V,X,ee){return e=new a0(e,t,s,S,M,V,X,ee,C),t=1,p===!0&&(t|=24),p=cn(3,null,null,t),e.current=p,p.stateNode=e,t=Wc(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:u,isDehydrated:s,cache:t},ih(p),e}function yg(e){return e?(e=la,e):la}function _g(e,t,s,u,f,p){f=yg(f),u.context===null?u.context=f:u.pendingContext=f,u=Qa(t),u.payload={element:s},p=p===void 0?null:p,p!==null&&(u.callback=p),s=Wa(e,u,t),s!==null&&(Nn(s,e,t),Yo(s,e,t))}function bg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<t?s:t}}function xd(e,t){bg(e,t),(e=e.alternate)&&bg(e,t)}function xg(e){if(e.tag===13||e.tag===31){var t=ni(e,67108864);t!==null&&Nn(t,e,67108864),xd(e,67108864)}}function wg(e){if(e.tag===13||e.tag===31){var t=In();t=Xt(t);var s=ni(e,t);s!==null&&Nn(s,e,t),xd(e,t)}}var ic=!0;function s0(e,t,s,u){var f=I.T;I.T=null;var p=ne.p;try{ne.p=2,wd(e,t,s,u)}finally{ne.p=p,I.T=f}}function r0(e,t,s,u){var f=I.T;I.T=null;var p=ne.p;try{ne.p=8,wd(e,t,s,u)}finally{ne.p=p,I.T=f}}function wd(e,t,s,u){if(ic){var f=Sd(u);if(f===null)ld(e,t,u,ac,s),Eg(e,u);else if(l0(f,e,t,s,u))u.stopPropagation();else if(Eg(e,u),t&4&&-1<o0.indexOf(e)){for(;f!==null;){var p=La(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Fn(p.pendingLanes);if(S!==0){var C=p;for(C.pendingLanes|=2,C.entangledLanes|=2;S;){var M=1<<31-Zt(S);C.entanglements[1]|=M,S&=~M}Gi(p),(et&6)===0&&(Hu=Jt()+500,cl(0))}}break;case 31:case 13:C=ni(p,2),C!==null&&Nn(C,p,2),qu(),xd(p,2)}if(p=Sd(u),p===null&&ld(e,t,u,ac,s),p===f)break;f=p}f!==null&&u.stopPropagation()}else ld(e,t,u,null,s)}}function Sd(e){return e=Os(e),Ed(e)}var ac=null;function Ed(e){if(ac=null,e=na(e),e!==null){var t=h(e);if(t===null)e=null;else{var s=t.tag;if(s===13){if(e=m(t),e!==null)return e;e=null}else if(s===31){if(e=v(t),e!==null)return e;e=null}else if(s===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ac=e,null}function Sg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_o()){case hi:return 2;case vs:return 8;case Oi:case ys:return 32;case Kn:return 268435456;default:return 32}default:return 32}}var Td=!1,cs=null,hs=null,ds=null,vl=new Map,yl=new Map,fs=[],o0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Eg(e,t){switch(e){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":vl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(t.pointerId)}}function _l(e,t,s,u,f,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},t!==null&&(t=La(t),t!==null&&xg(t)),e):(e.eventSystemFlags|=u,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function l0(e,t,s,u,f){switch(t){case"focusin":return cs=_l(cs,e,t,s,u,f),!0;case"dragenter":return hs=_l(hs,e,t,s,u,f),!0;case"mouseover":return ds=_l(ds,e,t,s,u,f),!0;case"pointerover":var p=f.pointerId;return vl.set(p,_l(vl.get(p)||null,e,t,s,u,f)),!0;case"gotpointercapture":return p=f.pointerId,yl.set(p,_l(yl.get(p)||null,e,t,s,u,f)),!0}return!1}function Tg(e){var t=na(e.target);if(t!==null){var s=h(t);if(s!==null){if(t=s.tag,t===13){if(t=m(s),t!==null){e.blockedOn=t,bo(e.priority,function(){wg(s)});return}}else if(t===31){if(t=v(s),t!==null){e.blockedOn=t,bo(e.priority,function(){wg(s)});return}}else if(t===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var u=new s.constructor(s.type,s);vr=u,s.target.dispatchEvent(u),vr=null}else return t=La(s),t!==null&&xg(t),e.blockedOn=s,!1;t.shift()}return!0}function Og(e,t,s){sc(e)&&s.delete(t)}function u0(){Td=!1,cs!==null&&sc(cs)&&(cs=null),hs!==null&&sc(hs)&&(hs=null),ds!==null&&sc(ds)&&(ds=null),vl.forEach(Og),yl.forEach(Og)}function rc(e,t){e.blockedOn===t&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,u0)))}var oc=null;function Cg(e){oc!==e&&(oc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oc===e&&(oc=null);for(var t=0;t<e.length;t+=3){var s=e[t],u=e[t+1],f=e[t+2];if(typeof u!="function"){if(Ed(u||s)===null)continue;break}var p=La(s);p!==null&&(e.splice(t,3),t-=3,Sh(p,{pending:!0,data:f,method:s.method,action:u},u,f))}}))}function Wr(e){function t(M){return rc(M,e)}cs!==null&&rc(cs,e),hs!==null&&rc(hs,e),ds!==null&&rc(ds,e),vl.forEach(t),yl.forEach(t);for(var s=0;s<fs.length;s++){var u=fs[s];u.blockedOn===e&&(u.blockedOn=null)}for(;0<fs.length&&(s=fs[0],s.blockedOn===null);)Tg(s),s.blockedOn===null&&fs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var f=s[u],p=s[u+1],S=f[Gt]||null;if(typeof p=="function")S||Cg(s);else if(S){var C=null;if(p&&p.hasAttribute("formAction")){if(f=p,S=p[Gt]||null)C=S.formAction;else if(Ed(f)!==null)continue}else C=S.action;typeof C=="function"?s[u+1]=C:(s.splice(u,3),u-=3),Cg(s)}}}function Ng(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return f=S})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function Od(e){this._internalRoot=e}lc.prototype.render=Od.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var s=t.current,u=In();_g(s,u,e,t,null,null)},lc.prototype.unmount=Od.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_g(e.current,2,null,e,null,null),qu(),t[ta]=null}};function lc(e){this._internalRoot=e}lc.prototype.unstable_scheduleHydration=function(e){if(e){var t=fr();e={blockedOn:null,target:e,priority:t};for(var s=0;s<fs.length&&t!==0&&t<fs[s].priority;s++);fs.splice(s,0,e),s===0&&Tg(e)}};var Ag=n.version;if(Ag!=="19.2.3")throw Error(o(527,Ag,"19.2.3"));ne.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=_(t),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var c0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{Ni=uc.inject(c0),Ut=uc}catch{}}return xl.createRoot=function(e,t){if(!c(e))throw Error(o(299));var s=!1,u="",f=Pm,p=Dm,S=Um;return t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(u=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError)),t=vg(e,1,!1,null,null,s,u,null,f,p,S,Ng),e[ta]=t.current,od(e),new Od(t)},xl.hydrateRoot=function(e,t,s){if(!c(e))throw Error(o(299));var u=!1,f="",p=Pm,S=Dm,C=Um,M=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.formState!==void 0&&(M=s.formState)),t=vg(e,1,!0,t,s??null,u,f,M,p,S,C,Ng),t.context=yg(null),s=t.current,u=In(),u=Xt(u),f=Qa(u),f.callback=null,Wa(s,f,u),s=u,t.current.lanes=s,ut(t,s),Gi(t),e[ta]=t.current,od(e),new lc(t)},xl.version="19.2.3",xl}var Bg;function _0(){if(Bg)return Ad.exports;Bg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(n){console.error(n)}}return r(),Ad.exports=y0(),Ad.exports}var b0=_0();const ke=r=>typeof r=="string",wl=()=>{let r,n;const a=new Promise((o,c)=>{r=o,n=c});return a.resolve=r,a.reject=n,a},Hg=r=>r==null?"":""+r,x0=(r,n,a)=>{r.forEach(o=>{n[o]&&(a[o]=n[o])})},w0=/###/g,Ig=r=>r&&r.indexOf("###")>-1?r.replace(w0,"."):r,qg=r=>!r||ke(r),Ol=(r,n,a)=>{const o=ke(n)?n.split("."):n;let c=0;for(;c<o.length-1;){if(qg(r))return{};const h=Ig(o[c]);!r[h]&&a&&(r[h]=new a),Object.prototype.hasOwnProperty.call(r,h)?r=r[h]:r={},++c}return qg(r)?{}:{obj:r,k:Ig(o[c])}},$g=(r,n,a)=>{const{obj:o,k:c}=Ol(r,n,Object);if(o!==void 0||n.length===1){o[c]=a;return}let h=n[n.length-1],m=n.slice(0,n.length-1),v=Ol(r,m,Object);for(;v.obj===void 0&&m.length;)h=`${m[m.length-1]}.${h}`,m=m.slice(0,m.length-1),v=Ol(r,m,Object),v?.obj&&typeof v.obj[`${v.k}.${h}`]<"u"&&(v.obj=void 0);v.obj[`${v.k}.${h}`]=a},S0=(r,n,a,o)=>{const{obj:c,k:h}=Ol(r,n,Object);c[h]=c[h]||[],c[h].push(a)},_c=(r,n)=>{const{obj:a,k:o}=Ol(r,n);if(a&&Object.prototype.hasOwnProperty.call(a,o))return a[o]},E0=(r,n,a)=>{const o=_c(r,a);return o!==void 0?o:_c(n,a)},Yv=(r,n,a)=>{for(const o in n)o!=="__proto__"&&o!=="constructor"&&(o in r?ke(r[o])||r[o]instanceof String||ke(n[o])||n[o]instanceof String?a&&(r[o]=n[o]):Yv(r[o],n[o],a):r[o]=n[o]);return r},eo=r=>r.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var T0={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const O0=r=>ke(r)?r.replace(/[&<>"'\/]/g,n=>T0[n]):r;class C0{constructor(n){this.capacity=n,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(n){const a=this.regExpMap.get(n);if(a!==void 0)return a;const o=new RegExp(n);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(n,o),this.regExpQueue.push(n),o}}const N0=[" ",",","?","!",";"],A0=new C0(20),R0=(r,n,a)=>{n=n||"",a=a||"";const o=N0.filter(m=>n.indexOf(m)<0&&a.indexOf(m)<0);if(o.length===0)return!0;const c=A0.getRegExp(`(${o.map(m=>m==="?"?"\\?":m).join("|")})`);let h=!c.test(r);if(!h){const m=r.indexOf(a);m>0&&!c.test(r.substring(0,m))&&(h=!0)}return h},Jd=(r,n,a=".")=>{if(!r)return;if(r[n])return Object.prototype.hasOwnProperty.call(r,n)?r[n]:void 0;const o=n.split(a);let c=r;for(let h=0;h<o.length;){if(!c||typeof c!="object")return;let m,v="";for(let y=h;y<o.length;++y)if(y!==h&&(v+=a),v+=o[y],m=c[v],m!==void 0){if(["string","number","boolean"].indexOf(typeof m)>-1&&y<o.length-1)continue;h+=y-h+1;break}c=m}return c},jl=r=>r?.replace("_","-"),j0={type:"logger",log(r){this.output("log",r)},warn(r){this.output("warn",r)},error(r){this.output("error",r)},output(r,n){console?.[r]?.apply?.(console,n)}};class bc{constructor(n,a={}){this.init(n,a)}init(n,a={}){this.prefix=a.prefix||"i18next:",this.logger=n||j0,this.options=a,this.debug=a.debug}log(...n){return this.forward(n,"log","",!0)}warn(...n){return this.forward(n,"warn","",!0)}error(...n){return this.forward(n,"error","")}deprecate(...n){return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(n,a,o,c){return c&&!this.debug?null:(ke(n[0])&&(n[0]=`${o}${this.prefix} ${n[0]}`),this.logger[a](n))}create(n){return new bc(this.logger,{prefix:`${this.prefix}:${n}:`,...this.options})}clone(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new bc(this.logger,n)}}var Yi=new bc;class Ac{constructor(){this.observers={}}on(n,a){return n.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const c=this.observers[o].get(a)||0;this.observers[o].set(a,c+1)}),this}off(n,a){if(this.observers[n]){if(!a){delete this.observers[n];return}this.observers[n].delete(a)}}emit(n,...a){this.observers[n]&&Array.from(this.observers[n].entries()).forEach(([c,h])=>{for(let m=0;m<h;m++)c(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([c,h])=>{for(let m=0;m<h;m++)c.apply(c,[n,...a])})}}class Zg extends Ac{constructor(n,a={ns:["translation"],defaultNS:"translation"}){super(),this.data=n||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}removeNamespaces(n){const a=this.options.ns.indexOf(n);a>-1&&this.options.ns.splice(a,1)}getResource(n,a,o,c={}){const h=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,m=c.ignoreJSONStructure!==void 0?c.ignoreJSONStructure:this.options.ignoreJSONStructure;let v;n.indexOf(".")>-1?v=n.split("."):(v=[n,a],o&&(Array.isArray(o)?v.push(...o):ke(o)&&h?v.push(...o.split(h)):v.push(o)));const y=_c(this.data,v);return!y&&!a&&!o&&n.indexOf(".")>-1&&(n=v[0],a=v[1],o=v.slice(2).join(".")),y||!m||!ke(o)?y:Jd(this.data?.[n]?.[a],o,h)}addResource(n,a,o,c,h={silent:!1}){const m=h.keySeparator!==void 0?h.keySeparator:this.options.keySeparator;let v=[n,a];o&&(v=v.concat(m?o.split(m):o)),n.indexOf(".")>-1&&(v=n.split("."),c=a,a=v[1]),this.addNamespaces(a),$g(this.data,v,c),h.silent||this.emit("added",n,a,o,c)}addResources(n,a,o,c={silent:!1}){for(const h in o)(ke(o[h])||Array.isArray(o[h]))&&this.addResource(n,a,h,o[h],{silent:!0});c.silent||this.emit("added",n,a,o)}addResourceBundle(n,a,o,c,h,m={silent:!1,skipCopy:!1}){let v=[n,a];n.indexOf(".")>-1&&(v=n.split("."),c=o,o=a,a=v[1]),this.addNamespaces(a);let y=_c(this.data,v)||{};m.skipCopy||(o=JSON.parse(JSON.stringify(o))),c?Yv(y,o,h):y={...y,...o},$g(this.data,v,y),m.silent||this.emit("added",n,a,o)}removeResourceBundle(n,a){this.hasResourceBundle(n,a)&&delete this.data[n][a],this.removeNamespaces(a),this.emit("removed",n,a)}hasResourceBundle(n,a){return this.getResource(n,a)!==void 0}getResourceBundle(n,a){return a||(a=this.options.defaultNS),this.getResource(n,a)}getDataByLanguage(n){return this.data[n]}hasLanguageSomeTranslations(n){const a=this.getDataByLanguage(n);return!!(a&&Object.keys(a)||[]).find(c=>a[c]&&Object.keys(a[c]).length>0)}toJSON(){return this.data}}var Fv={processors:{},addPostProcessor(r){this.processors[r.name]=r},handle(r,n,a,o,c){return r.forEach(h=>{n=this.processors[h]?.process(n,a,o,c)??n}),n}};const Jv=Symbol("i18next/PATH_KEY");function L0(){const r=[],n=Object.create(null);let a;return n.get=(o,c)=>(a?.revoke?.(),c===Jv?r:(r.push(c),a=Proxy.revocable(o,n),a.proxy)),Proxy.revocable(Object.create(null),n).proxy}function Xd(r,n){const{[Jv]:a}=r(L0());return a.join(n?.keySeparator??".")}const Vg={},kd=r=>!ke(r)&&typeof r!="boolean"&&typeof r!="number";class xc extends Ac{constructor(n,a={}){super(),x0(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Yi.create("translator")}changeLanguage(n){n&&(this.language=n)}exists(n,a={interpolation:{}}){const o={...a};if(n==null)return!1;const c=this.resolve(n,o);if(c?.res===void 0)return!1;const h=kd(c.res);return!(o.returnObjects===!1&&h)}extractFromKey(n,a){let o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let h=a.ns||this.options.defaultNS||[];const m=o&&n.indexOf(o)>-1,v=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!R0(n,o,c);if(m&&!v){const y=n.match(this.interpolator.nestingRegexp);if(y&&y.length>0)return{key:n,namespaces:ke(h)?[h]:h};const _=n.split(o);(o!==c||o===c&&this.options.ns.indexOf(_[0])>-1)&&(h=_.shift()),n=_.join(c)}return{key:n,namespaces:ke(h)?[h]:h}}translate(n,a,o){let c=typeof a=="object"?{...a}:a;if(typeof c!="object"&&this.options.overloadTranslationOptionHandler&&(c=this.options.overloadTranslationOptionHandler(arguments)),typeof c=="object"&&(c={...c}),c||(c={}),n==null)return"";typeof n=="function"&&(n=Xd(n,{...this.options,...c})),Array.isArray(n)||(n=[String(n)]);const h=c.returnDetails!==void 0?c.returnDetails:this.options.returnDetails,m=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator,{key:v,namespaces:y}=this.extractFromKey(n[n.length-1],c),_=y[y.length-1];let E=c.nsSeparator!==void 0?c.nsSeparator:this.options.nsSeparator;E===void 0&&(E=":");const x=c.lng||this.language,O=c.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(x?.toLowerCase()==="cimode")return O?h?{res:`${_}${E}${v}`,usedKey:v,exactUsedKey:v,usedLng:x,usedNS:_,usedParams:this.getUsedParamsDetails(c)}:`${_}${E}${v}`:h?{res:v,usedKey:v,exactUsedKey:v,usedLng:x,usedNS:_,usedParams:this.getUsedParamsDetails(c)}:v;const N=this.resolve(n,c);let A=N?.res;const z=N?.usedKey||v,B=N?.exactUsedKey||v,P=["[object Number]","[object Function]","[object RegExp]"],U=c.joinArrays!==void 0?c.joinArrays:this.options.joinArrays,q=!this.i18nFormat||this.i18nFormat.handleAsObject,te=c.count!==void 0&&!ke(c.count),de=xc.hasDefaultValue(c),he=te?this.pluralResolver.getSuffix(x,c.count,c):"",le=c.ordinal&&te?this.pluralResolver.getSuffix(x,c.count,{ordinal:!1}):"",je=te&&!c.ordinal&&c.count===0,fe=je&&c[`defaultValue${this.options.pluralSeparator}zero`]||c[`defaultValue${he}`]||c[`defaultValue${le}`]||c.defaultValue;let ye=A;q&&!A&&de&&(ye=fe);const _e=kd(ye),be=Object.prototype.toString.apply(ye);if(q&&ye&&_e&&P.indexOf(be)<0&&!(ke(U)&&Array.isArray(ye))){if(!c.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const He=this.options.returnedObjectHandler?this.options.returnedObjectHandler(z,ye,{...c,ns:y}):`key '${v} (${this.language})' returned an object instead of string.`;return h?(N.res=He,N.usedParams=this.getUsedParamsDetails(c),N):He}if(m){const He=Array.isArray(ye),De=He?[]:{},at=He?B:z;for(const I in ye)if(Object.prototype.hasOwnProperty.call(ye,I)){const ne=`${at}${m}${I}`;de&&!A?De[I]=this.translate(ne,{...c,defaultValue:kd(fe)?fe[I]:void 0,joinArrays:!1,ns:y}):De[I]=this.translate(ne,{...c,joinArrays:!1,ns:y}),De[I]===ne&&(De[I]=ye[I])}A=De}}else if(q&&ke(U)&&Array.isArray(A))A=A.join(U),A&&(A=this.extendTranslation(A,n,c,o));else{let He=!1,De=!1;!this.isValidLookup(A)&&de&&(He=!0,A=fe),this.isValidLookup(A)||(De=!0,A=v);const I=(c.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&De?void 0:A,ne=de&&fe!==A&&this.options.updateMissing;if(De||He||ne){if(this.logger.log(ne?"updateKey":"missingKey",x,_,v,ne?fe:A),m){const R=this.resolve(v,{...c,keySeparator:!1});R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ae=[];const Le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,c.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Le&&Le[0])for(let R=0;R<Le.length;R++)ae.push(Le[R]);else this.options.saveMissingTo==="all"?ae=this.languageUtils.toResolveHierarchy(c.lng||this.language):ae.push(c.lng||this.language);const re=(R,Y,J)=>{const ie=de&&J!==A?J:I;this.options.missingKeyHandler?this.options.missingKeyHandler(R,_,Y,ie,ne,c):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(R,_,Y,ie,ne,c),this.emit("missingKey",R,_,Y,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&te?ae.forEach(R=>{const Y=this.pluralResolver.getSuffixes(R,c);je&&c[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(J=>{re([R],v+J,c[`defaultValue${J}`]||fe)})}):re(ae,v,fe))}A=this.extendTranslation(A,n,c,N,o),De&&A===v&&this.options.appendNamespaceToMissingKey&&(A=`${_}${E}${v}`),(De||He)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${_}${E}${v}`:v,He?A:void 0,c))}return h?(N.res=A,N.usedParams=this.getUsedParamsDetails(c),N):A}extendTranslation(n,a,o,c,h){if(this.i18nFormat?.parse)n=this.i18nFormat.parse(n,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||c.usedLng,c.usedNS,c.usedKey,{resolved:c});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const y=ke(n)&&(o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let _;if(y){const x=n.match(this.interpolator.nestingRegexp);_=x&&x.length}let E=o.replace&&!ke(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(E={...this.options.interpolation.defaultVariables,...E}),n=this.interpolator.interpolate(n,E,o.lng||this.language||c.usedLng,o),y){const x=n.match(this.interpolator.nestingRegexp),O=x&&x.length;_<O&&(o.nest=!1)}!o.lng&&c&&c.res&&(o.lng=this.language||c.usedLng),o.nest!==!1&&(n=this.interpolator.nest(n,(...x)=>h?.[0]===x[0]&&!o.context?(this.logger.warn(`It seems you are nesting recursively key: ${x[0]} in key: ${a[0]}`),null):this.translate(...x,a),o)),o.interpolation&&this.interpolator.reset()}const m=o.postProcess||this.options.postProcess,v=ke(m)?[m]:m;return n!=null&&v?.length&&o.applyPostProcessor!==!1&&(n=Fv.handle(v,n,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...c,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),n}resolve(n,a={}){let o,c,h,m,v;return ke(n)&&(n=[n]),n.forEach(y=>{if(this.isValidLookup(o))return;const _=this.extractFromKey(y,a),E=_.key;c=E;let x=_.namespaces;this.options.fallbackNS&&(x=x.concat(this.options.fallbackNS));const O=a.count!==void 0&&!ke(a.count),N=O&&!a.ordinal&&a.count===0,A=a.context!==void 0&&(ke(a.context)||typeof a.context=="number")&&a.context!=="",z=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);x.forEach(B=>{this.isValidLookup(o)||(v=B,!Vg[`${z[0]}-${B}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(v)&&(Vg[`${z[0]}-${B}`]=!0,this.logger.warn(`key "${c}" for languages "${z.join(", ")}" won't get resolved as namespace "${v}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),z.forEach(P=>{if(this.isValidLookup(o))return;m=P;const U=[E];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(U,E,P,B,a);else{let te;O&&(te=this.pluralResolver.getSuffix(P,a.count,a));const de=`${this.options.pluralSeparator}zero`,he=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(O&&(a.ordinal&&te.indexOf(he)===0&&U.push(E+te.replace(he,this.options.pluralSeparator)),U.push(E+te),N&&U.push(E+de)),A){const le=`${E}${this.options.contextSeparator||"_"}${a.context}`;U.push(le),O&&(a.ordinal&&te.indexOf(he)===0&&U.push(le+te.replace(he,this.options.pluralSeparator)),U.push(le+te),N&&U.push(le+de))}}let q;for(;q=U.pop();)this.isValidLookup(o)||(h=q,o=this.getResource(P,B,q,a))}))})}),{res:o,usedKey:c,exactUsedKey:h,usedLng:m,usedNS:v}}isValidLookup(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}getResource(n,a,o,c={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(n,a,o,c):this.resourceStore.getResource(n,a,o,c)}getUsedParamsDetails(n={}){const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=n.replace&&!ke(n.replace);let c=o?n.replace:n;if(o&&typeof n.count<"u"&&(c.count=n.count),this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),!o){c={...c};for(const h of a)delete c[h]}return c}static hasDefaultValue(n){const a="defaultValue";for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&a===o.substring(0,a.length)&&n[o]!==void 0)return!0;return!1}}class Gg{constructor(n){this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Yi.create("languageUtils")}getScriptPartFromCode(n){if(n=jl(n),!n||n.indexOf("-")<0)return null;const a=n.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(n){if(n=jl(n),!n||n.indexOf("-")<0)return n;const a=n.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(n){if(ke(n)&&n.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(n)[0]}catch{}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?n.toLowerCase():n)}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}isSupportedCode(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}getBestMatchFromCodes(n){if(!n)return null;let a;return n.forEach(o=>{if(a)return;const c=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(c))&&(a=c)}),!a&&this.options.supportedLngs&&n.forEach(o=>{if(a)return;const c=this.getScriptPartFromCode(o);if(this.isSupportedCode(c))return a=c;const h=this.getLanguagePartFromCode(o);if(this.isSupportedCode(h))return a=h;a=this.options.supportedLngs.find(m=>{if(m===h)return m;if(!(m.indexOf("-")<0&&h.indexOf("-")<0)&&(m.indexOf("-")>0&&h.indexOf("-")<0&&m.substring(0,m.indexOf("-"))===h||m.indexOf(h)===0&&h.length>1))return m})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(n,a){if(!n)return[];if(typeof n=="function"&&(n=n(a)),ke(n)&&(n=[n]),Array.isArray(n))return n;if(!a)return n.default||[];let o=n[a];return o||(o=n[this.getScriptPartFromCode(a)]),o||(o=n[this.formatLanguageCode(a)]),o||(o=n[this.getLanguagePartFromCode(a)]),o||(o=n.default),o||[]}toResolveHierarchy(n,a){const o=this.getFallbackCodes((a===!1?[]:a)||this.options.fallbackLng||[],n),c=[],h=m=>{m&&(this.isSupportedCode(m)?c.push(m):this.logger.warn(`rejecting language code not found in supportedLngs: ${m}`))};return ke(n)&&(n.indexOf("-")>-1||n.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&h(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&h(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&h(this.getLanguagePartFromCode(n))):ke(n)&&h(this.formatLanguageCode(n)),o.forEach(m=>{c.indexOf(m)<0&&h(this.formatLanguageCode(m))}),c}}const Kg={zero:0,one:1,two:2,few:3,many:4,other:5},Yg={select:r=>r===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class k0{constructor(n,a={}){this.languageUtils=n,this.options=a,this.logger=Yi.create("pluralResolver"),this.pluralRulesCache={}}addRule(n,a){this.rules[n]=a}clearCache(){this.pluralRulesCache={}}getRule(n,a={}){const o=jl(n==="dev"?"en":n),c=a.ordinal?"ordinal":"cardinal",h=JSON.stringify({cleanedCode:o,type:c});if(h in this.pluralRulesCache)return this.pluralRulesCache[h];let m;try{m=new Intl.PluralRules(o,{type:c})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Yg;if(!n.match(/-|_/))return Yg;const y=this.languageUtils.getLanguagePartFromCode(n);m=this.getRule(y,a)}return this.pluralRulesCache[h]=m,m}needsPlural(n,a={}){let o=this.getRule(n,a);return o||(o=this.getRule("dev",a)),o?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(n,a,o={}){return this.getSuffixes(n,o).map(c=>`${a}${c}`)}getSuffixes(n,a={}){let o=this.getRule(n,a);return o||(o=this.getRule("dev",a)),o?o.resolvedOptions().pluralCategories.sort((c,h)=>Kg[c]-Kg[h]).map(c=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${c}`):[]}getSuffix(n,a,o={}){const c=this.getRule(n,o);return c?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${c.select(a)}`:(this.logger.warn(`no plural rule found for: ${n}`),this.getSuffix("dev",a,o))}}const Fg=(r,n,a,o=".",c=!0)=>{let h=E0(r,n,a);return!h&&c&&ke(a)&&(h=Jd(r,a,o),h===void 0&&(h=Jd(n,a,o))),h},Md=r=>r.replace(/\$/g,"$$$$");class Jg{constructor(n={}){this.logger=Yi.create("interpolator"),this.options=n,this.format=n?.interpolation?.format||(a=>a),this.init(n)}init(n={}){n.interpolation||(n.interpolation={escapeValue:!0});const{escape:a,escapeValue:o,useRawValueToEscape:c,prefix:h,prefixEscaped:m,suffix:v,suffixEscaped:y,formatSeparator:_,unescapeSuffix:E,unescapePrefix:x,nestingPrefix:O,nestingPrefixEscaped:N,nestingSuffix:A,nestingSuffixEscaped:z,nestingOptionsSeparator:B,maxReplaces:P,alwaysFormat:U}=n.interpolation;this.escape=a!==void 0?a:O0,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=c!==void 0?c:!1,this.prefix=h?eo(h):m||"{{",this.suffix=v?eo(v):y||"}}",this.formatSeparator=_||",",this.unescapePrefix=E?"":x||"-",this.unescapeSuffix=this.unescapePrefix?"":E||"",this.nestingPrefix=O?eo(O):N||eo("$t("),this.nestingSuffix=A?eo(A):z||eo(")"),this.nestingOptionsSeparator=B||",",this.maxReplaces=P||1e3,this.alwaysFormat=U!==void 0?U:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const n=(a,o)=>a?.source===o?(a.lastIndex=0,a):new RegExp(o,"g");this.regexp=n(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=n(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=n(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(n,a,o,c){let h,m,v;const y=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},_=N=>{if(N.indexOf(this.formatSeparator)<0){const P=Fg(a,y,N,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(P,void 0,o,{...c,...a,interpolationkey:N}):P}const A=N.split(this.formatSeparator),z=A.shift().trim(),B=A.join(this.formatSeparator).trim();return this.format(Fg(a,y,z,this.options.keySeparator,this.options.ignoreJSONStructure),B,o,{...c,...a,interpolationkey:z})};this.resetRegExp();const E=c?.missingInterpolationHandler||this.options.missingInterpolationHandler,x=c?.interpolation?.skipOnVariables!==void 0?c.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:N=>Md(N)},{regex:this.regexp,safeValue:N=>this.escapeValue?Md(this.escape(N)):Md(N)}].forEach(N=>{for(v=0;h=N.regex.exec(n);){const A=h[1].trim();if(m=_(A),m===void 0)if(typeof E=="function"){const B=E(n,h,c);m=ke(B)?B:""}else if(c&&Object.prototype.hasOwnProperty.call(c,A))m="";else if(x){m=h[0];continue}else this.logger.warn(`missed to pass in variable ${A} for interpolating ${n}`),m="";else!ke(m)&&!this.useRawValueToEscape&&(m=Hg(m));const z=N.safeValue(m);if(n=n.replace(h[0],z),x?(N.regex.lastIndex+=m.length,N.regex.lastIndex-=h[0].length):N.regex.lastIndex=0,v++,v>=this.maxReplaces)break}}),n}nest(n,a,o={}){let c,h,m;const v=(y,_)=>{const E=this.nestingOptionsSeparator;if(y.indexOf(E)<0)return y;const x=y.split(new RegExp(`${E}[ ]*{`));let O=`{${x[1]}`;y=x[0],O=this.interpolate(O,m);const N=O.match(/'/g),A=O.match(/"/g);((N?.length??0)%2===0&&!A||A.length%2!==0)&&(O=O.replace(/'/g,'"'));try{m=JSON.parse(O),_&&(m={..._,...m})}catch(z){return this.logger.warn(`failed parsing options string in nesting for key ${y}`,z),`${y}${E}${O}`}return m.defaultValue&&m.defaultValue.indexOf(this.prefix)>-1&&delete m.defaultValue,y};for(;c=this.nestingRegexp.exec(n);){let y=[];m={...o},m=m.replace&&!ke(m.replace)?m.replace:m,m.applyPostProcessor=!1,delete m.defaultValue;const _=/{.*}/.test(c[1])?c[1].lastIndexOf("}")+1:c[1].indexOf(this.formatSeparator);if(_!==-1&&(y=c[1].slice(_).split(this.formatSeparator).map(E=>E.trim()).filter(Boolean),c[1]=c[1].slice(0,_)),h=a(v.call(this,c[1].trim(),m),m),h&&c[0]===n&&!ke(h))return h;ke(h)||(h=Hg(h)),h||(this.logger.warn(`missed to resolve ${c[1]} for nesting ${n}`),h=""),y.length&&(h=y.reduce((E,x)=>this.format(E,x,o.lng,{...o,interpolationkey:c[1].trim()}),h.trim())),n=n.replace(c[0],h),this.regexp.lastIndex=0}return n}}const M0=r=>{let n=r.toLowerCase().trim();const a={};if(r.indexOf("(")>-1){const o=r.split("(");n=o[0].toLowerCase().trim();const c=o[1].substring(0,o[1].length-1);n==="currency"&&c.indexOf(":")<0?a.currency||(a.currency=c.trim()):n==="relativetime"&&c.indexOf(":")<0?a.range||(a.range=c.trim()):c.split(";").forEach(m=>{if(m){const[v,...y]=m.split(":"),_=y.join(":").trim().replace(/^'+|'+$/g,""),E=v.trim();a[E]||(a[E]=_),_==="false"&&(a[E]=!1),_==="true"&&(a[E]=!0),isNaN(_)||(a[E]=parseInt(_,10))}})}return{formatName:n,formatOptions:a}},Xg=r=>{const n={};return(a,o,c)=>{let h=c;c&&c.interpolationkey&&c.formatParams&&c.formatParams[c.interpolationkey]&&c[c.interpolationkey]&&(h={...h,[c.interpolationkey]:void 0});const m=o+JSON.stringify(h);let v=n[m];return v||(v=r(jl(o),c),n[m]=v),v(a)}},z0=r=>(n,a,o)=>r(jl(a),o)(n);class P0{constructor(n={}){this.logger=Yi.create("formatter"),this.options=n,this.init(n)}init(n,a={interpolation:{}}){this.formatSeparator=a.interpolation.formatSeparator||",";const o=a.cacheInBuiltFormats?Xg:z0;this.formats={number:o((c,h)=>{const m=new Intl.NumberFormat(c,{...h});return v=>m.format(v)}),currency:o((c,h)=>{const m=new Intl.NumberFormat(c,{...h,style:"currency"});return v=>m.format(v)}),datetime:o((c,h)=>{const m=new Intl.DateTimeFormat(c,{...h});return v=>m.format(v)}),relativetime:o((c,h)=>{const m=new Intl.RelativeTimeFormat(c,{...h});return v=>m.format(v,h.range||"day")}),list:o((c,h)=>{const m=new Intl.ListFormat(c,{...h});return v=>m.format(v)})}}add(n,a){this.formats[n.toLowerCase().trim()]=a}addCached(n,a){this.formats[n.toLowerCase().trim()]=Xg(a)}format(n,a,o,c={}){const h=a.split(this.formatSeparator);if(h.length>1&&h[0].indexOf("(")>1&&h[0].indexOf(")")<0&&h.find(v=>v.indexOf(")")>-1)){const v=h.findIndex(y=>y.indexOf(")")>-1);h[0]=[h[0],...h.splice(1,v)].join(this.formatSeparator)}return h.reduce((v,y)=>{const{formatName:_,formatOptions:E}=M0(y);if(this.formats[_]){let x=v;try{const O=c?.formatParams?.[c.interpolationkey]||{},N=O.locale||O.lng||c.locale||c.lng||o;x=this.formats[_](v,N,{...E,...c,...O})}catch(O){this.logger.warn(O)}return x}else this.logger.warn(`there was no format function for ${_}`);return v},n)}}const D0=(r,n)=>{r.pending[n]!==void 0&&(delete r.pending[n],r.pendingCount--)};class U0 extends Ac{constructor(n,a,o,c={}){super(),this.backend=n,this.store=a,this.services=o,this.languageUtils=o.languageUtils,this.options=c,this.logger=Yi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=c.maxParallelReads||10,this.readingCalls=0,this.maxRetries=c.maxRetries>=0?c.maxRetries:5,this.retryTimeout=c.retryTimeout>=1?c.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(o,c.backend,c)}queueLoad(n,a,o,c){const h={},m={},v={},y={};return n.forEach(_=>{let E=!0;a.forEach(x=>{const O=`${_}|${x}`;!o.reload&&this.store.hasResourceBundle(_,x)?this.state[O]=2:this.state[O]<0||(this.state[O]===1?m[O]===void 0&&(m[O]=!0):(this.state[O]=1,E=!1,m[O]===void 0&&(m[O]=!0),h[O]===void 0&&(h[O]=!0),y[x]===void 0&&(y[x]=!0)))}),E||(v[_]=!0)}),(Object.keys(h).length||Object.keys(m).length)&&this.queue.push({pending:m,pendingCount:Object.keys(m).length,loaded:{},errors:[],callback:c}),{toLoad:Object.keys(h),pending:Object.keys(m),toLoadLanguages:Object.keys(v),toLoadNamespaces:Object.keys(y)}}loaded(n,a,o){const c=n.split("|"),h=c[0],m=c[1];a&&this.emit("failedLoading",h,m,a),!a&&o&&this.store.addResourceBundle(h,m,o,void 0,void 0,{skipCopy:!0}),this.state[n]=a?-1:2,a&&o&&(this.state[n]=0);const v={};this.queue.forEach(y=>{S0(y.loaded,[h],m),D0(y,n),a&&y.errors.push(a),y.pendingCount===0&&!y.done&&(Object.keys(y.loaded).forEach(_=>{v[_]||(v[_]={});const E=y.loaded[_];E.length&&E.forEach(x=>{v[_][x]===void 0&&(v[_][x]=!0)})}),y.done=!0,y.errors.length?y.callback(y.errors):y.callback())}),this.emit("loaded",v),this.queue=this.queue.filter(y=>!y.done)}read(n,a,o,c=0,h=this.retryTimeout,m){if(!n.length)return m(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:n,ns:a,fcName:o,tried:c,wait:h,callback:m});return}this.readingCalls++;const v=(_,E)=>{if(this.readingCalls--,this.waitingReads.length>0){const x=this.waitingReads.shift();this.read(x.lng,x.ns,x.fcName,x.tried,x.wait,x.callback)}if(_&&E&&c<this.maxRetries){setTimeout(()=>{this.read.call(this,n,a,o,c+1,h*2,m)},h);return}m(_,E)},y=this.backend[o].bind(this.backend);if(y.length===2){try{const _=y(n,a);_&&typeof _.then=="function"?_.then(E=>v(null,E)).catch(v):v(null,_)}catch(_){v(_)}return}return y(n,a,v)}prepareLoading(n,a,o={},c){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();ke(n)&&(n=this.languageUtils.toResolveHierarchy(n)),ke(a)&&(a=[a]);const h=this.queueLoad(n,a,o,c);if(!h.toLoad.length)return h.pending.length||c(),null;h.toLoad.forEach(m=>{this.loadOne(m)})}load(n,a,o){this.prepareLoading(n,a,{},o)}reload(n,a,o){this.prepareLoading(n,a,{reload:!0},o)}loadOne(n,a=""){const o=n.split("|"),c=o[0],h=o[1];this.read(c,h,"read",void 0,void 0,(m,v)=>{m&&this.logger.warn(`${a}loading namespace ${h} for language ${c} failed`,m),!m&&v&&this.logger.log(`${a}loaded namespace ${h} for language ${c}`,v),this.loaded(n,m,v)})}saveMissing(n,a,o,c,h,m={},v=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${o}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend?.create){const y={...m,isUpdate:h},_=this.backend.create.bind(this.backend);if(_.length<6)try{let E;_.length===5?E=_(n,a,o,c,y):E=_(n,a,o,c),E&&typeof E.then=="function"?E.then(x=>v(null,x)).catch(v):v(null,E)}catch(E){v(E)}else _(n,a,o,c,v,y)}!n||!n[0]||this.store.addResource(n[0],a,o,c)}}}const Qg=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:r=>{let n={};if(typeof r[1]=="object"&&(n=r[1]),ke(r[1])&&(n.defaultValue=r[1]),ke(r[2])&&(n.tDescription=r[2]),typeof r[2]=="object"||typeof r[3]=="object"){const a=r[3]||r[2];Object.keys(a).forEach(o=>{n[o]=a[o]})}return n},interpolation:{escapeValue:!0,format:r=>r,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Wg=r=>(ke(r.ns)&&(r.ns=[r.ns]),ke(r.fallbackLng)&&(r.fallbackLng=[r.fallbackLng]),ke(r.fallbackNS)&&(r.fallbackNS=[r.fallbackNS]),r.supportedLngs?.indexOf?.("cimode")<0&&(r.supportedLngs=r.supportedLngs.concat(["cimode"])),typeof r.initImmediate=="boolean"&&(r.initAsync=r.initImmediate),r),cc=()=>{},B0=r=>{Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(a=>{typeof r[a]=="function"&&(r[a]=r[a].bind(r))})};class Cl extends Ac{constructor(n={},a){if(super(),this.options=Wg(n),this.services={},this.logger=Yi,this.modules={external:[]},B0(this),a&&!this.isInitialized&&!n.isClone){if(!this.options.initAsync)return this.init(n,a),this;setTimeout(()=>{this.init(n,a)},0)}}init(n={},a){this.isInitializing=!0,typeof n=="function"&&(a=n,n={}),n.defaultNS==null&&n.ns&&(ke(n.ns)?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const o=Qg();this.options={...o,...this.options,...Wg(n)},this.options.interpolation={...o.interpolation,...this.options.interpolation},n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=o.overloadTranslationOptionHandler);const c=_=>_?typeof _=="function"?new _:_:null;if(!this.options.isClone){this.modules.logger?Yi.init(c(this.modules.logger),this.options):Yi.init(null,this.options);let _;this.modules.formatter?_=this.modules.formatter:_=P0;const E=new Gg(this.options);this.store=new Zg(this.options.resources,this.options);const x=this.services;x.logger=Yi,x.resourceStore=this.store,x.languageUtils=E,x.pluralResolver=new k0(E,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),_&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(x.formatter=c(_),x.formatter.init&&x.formatter.init(x,this.options),this.options.interpolation.format=x.formatter.format.bind(x.formatter)),x.interpolator=new Jg(this.options),x.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},x.backendConnector=new U0(c(this.modules.backend),x.resourceStore,x,this.options),x.backendConnector.on("*",(N,...A)=>{this.emit(N,...A)}),this.modules.languageDetector&&(x.languageDetector=c(this.modules.languageDetector),x.languageDetector.init&&x.languageDetector.init(x,this.options.detection,this.options)),this.modules.i18nFormat&&(x.i18nFormat=c(this.modules.i18nFormat),x.i18nFormat.init&&x.i18nFormat.init(this)),this.translator=new xc(this.services,this.options),this.translator.on("*",(N,...A)=>{this.emit(N,...A)}),this.modules.external.forEach(N=>{N.init&&N.init(this)})}if(this.format=this.options.interpolation.format,a||(a=cc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const _=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);_.length>0&&_[0]!=="dev"&&(this.options.lng=_[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(_=>{this[_]=(...E)=>this.store[_](...E)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(_=>{this[_]=(...E)=>(this.store[_](...E),this)});const v=wl(),y=()=>{const _=(E,x)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),v.resolve(x),a(E,x)};if(this.languages&&!this.isInitialized)return _(null,this.t.bind(this));this.changeLanguage(this.options.lng,_)};return this.options.resources||!this.options.initAsync?y():setTimeout(y,0),v}loadResources(n,a=cc){let o=a;const c=ke(n)?n:this.language;if(typeof n=="function"&&(o=n),!this.options.resources||this.options.partialBundledLanguages){if(c?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const h=[],m=v=>{if(!v||v==="cimode")return;this.services.languageUtils.toResolveHierarchy(v).forEach(_=>{_!=="cimode"&&h.indexOf(_)<0&&h.push(_)})};c?m(c):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(y=>m(y)),this.options.preload?.forEach?.(v=>m(v)),this.services.backendConnector.load(h,this.options.ns,v=>{!v&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(v)})}else o(null)}reloadResources(n,a,o){const c=wl();return typeof n=="function"&&(o=n,n=void 0),typeof a=="function"&&(o=a,a=void 0),n||(n=this.languages),a||(a=this.options.ns),o||(o=cc),this.services.backendConnector.reload(n,a,h=>{c.resolve(),o(h)}),c}use(n){if(!n)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!n.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&Fv.addPostProcessor(n),n.type==="formatter"&&(this.modules.formatter=n),n.type==="3rdParty"&&this.modules.external.push(n),this}setResolvedLanguage(n){if(!(!n||!this.languages)&&!(["cimode","dev"].indexOf(n)>-1)){for(let a=0;a<this.languages.length;a++){const o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}!this.resolvedLanguage&&this.languages.indexOf(n)<0&&this.store.hasLanguageSomeTranslations(n)&&(this.resolvedLanguage=n,this.languages.unshift(n))}}changeLanguage(n,a){this.isLanguageChangingTo=n;const o=wl();this.emit("languageChanging",n);const c=v=>{this.language=v,this.languages=this.services.languageUtils.toResolveHierarchy(v),this.resolvedLanguage=void 0,this.setResolvedLanguage(v)},h=(v,y)=>{y?this.isLanguageChangingTo===n&&(c(y),this.translator.changeLanguage(y),this.isLanguageChangingTo=void 0,this.emit("languageChanged",y),this.logger.log("languageChanged",y)):this.isLanguageChangingTo=void 0,o.resolve((..._)=>this.t(..._)),a&&a(v,(..._)=>this.t(..._))},m=v=>{!n&&!v&&this.services.languageDetector&&(v=[]);const y=ke(v)?v:v&&v[0],_=this.store.hasLanguageSomeTranslations(y)?y:this.services.languageUtils.getBestMatchFromCodes(ke(v)?[v]:v);_&&(this.language||c(_),this.translator.language||this.translator.changeLanguage(_),this.services.languageDetector?.cacheUserLanguage?.(_)),this.loadResources(_,E=>{h(E,_)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?m(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(m):this.services.languageDetector.detect(m):m(n),o}getFixedT(n,a,o){const c=(h,m,...v)=>{let y;typeof m!="object"?y=this.options.overloadTranslationOptionHandler([h,m].concat(v)):y={...m},y.lng=y.lng||c.lng,y.lngs=y.lngs||c.lngs,y.ns=y.ns||c.ns,y.keyPrefix!==""&&(y.keyPrefix=y.keyPrefix||o||c.keyPrefix);const _=this.options.keySeparator||".";let E;return y.keyPrefix&&Array.isArray(h)?E=h.map(x=>(typeof x=="function"&&(x=Xd(x,{...this.options,...m})),`${y.keyPrefix}${_}${x}`)):(typeof h=="function"&&(h=Xd(h,{...this.options,...m})),E=y.keyPrefix?`${y.keyPrefix}${_}${h}`:h),this.t(E,y)};return ke(n)?c.lng=n:c.lngs=n,c.ns=a,c.keyPrefix=o,c}t(...n){return this.translator?.translate(...n)}exists(...n){return this.translator?.exists(...n)}setDefaultNamespace(n){this.options.defaultNS=n}hasLoadedNamespace(n,a={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=a.lng||this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,h=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const m=(v,y)=>{const _=this.services.backendConnector.state[`${v}|${y}`];return _===-1||_===0||_===2};if(a.precheck){const v=a.precheck(this,m);if(v!==void 0)return v}return!!(this.hasResourceBundle(o,n)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||m(o,n)&&(!c||m(h,n)))}loadNamespaces(n,a){const o=wl();return this.options.ns?(ke(n)&&(n=[n]),n.forEach(c=>{this.options.ns.indexOf(c)<0&&this.options.ns.push(c)}),this.loadResources(c=>{o.resolve(),a&&a(c)}),o):(a&&a(),Promise.resolve())}loadLanguages(n,a){const o=wl();ke(n)&&(n=[n]);const c=this.options.preload||[],h=n.filter(m=>c.indexOf(m)<0&&this.services.languageUtils.isSupportedCode(m));return h.length?(this.options.preload=c.concat(h),this.loadResources(m=>{o.resolve(),a&&a(m)}),o):(a&&a(),Promise.resolve())}dir(n){if(n||(n=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!n)return"rtl";try{const c=new Intl.Locale(n);if(c&&c.getTextInfo){const h=c.getTextInfo();if(h&&h.direction)return h.direction}}catch{}const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services?.languageUtils||new Gg(Qg());return n.toLowerCase().indexOf("-latn")>1?"ltr":a.indexOf(o.getLanguagePartFromCode(n))>-1||n.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(n={},a){const o=new Cl(n,a);return o.createInstance=Cl.createInstance,o}cloneInstance(n={},a=cc){const o=n.forkResourceStore;o&&delete n.forkResourceStore;const c={...this.options,...n,isClone:!0},h=new Cl(c);if((n.debug!==void 0||n.prefix!==void 0)&&(h.logger=h.logger.clone(n)),["store","services","language"].forEach(v=>{h[v]=this[v]}),h.services={...this.services},h.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},o){const v=Object.keys(this.store.data).reduce((y,_)=>(y[_]={...this.store.data[_]},y[_]=Object.keys(y[_]).reduce((E,x)=>(E[x]={...y[_][x]},E),y[_]),y),{});h.store=new Zg(v,c),h.services.resourceStore=h.store}return n.interpolation&&(h.services.interpolator=new Jg(c)),h.translator=new xc(h.services,c),h.translator.on("*",(v,...y)=>{h.emit(v,...y)}),h.init(c,a),h.translator.options=c,h.translator.backendConnector.services.utils={hasLoadedNamespace:h.hasLoadedNamespace.bind(h)},h}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gn=Cl.createInstance();gn.createInstance;gn.dir;gn.init;gn.loadResources;gn.reloadResources;gn.use;gn.changeLanguage;gn.getFixedT;gn.t;gn.exists;gn.setDefaultNamespace;gn.hasLoadedNamespace;gn.loadNamespaces;gn.loadLanguages;const H0=(r,n,a,o)=>{const c=[a,{code:n,...o||{}}];if(r?.services?.logger?.forward)return r.services.logger.forward(c,"warn","react-i18next::",!0);ur(c[0])&&(c[0]=`react-i18next:: ${c[0]}`),r?.services?.logger?.warn?r.services.logger.warn(...c):console?.warn&&console.warn(...c)},ev={},Xv=(r,n,a,o)=>{ur(a)&&ev[a]||(ur(a)&&(ev[a]=new Date),H0(r,n,a,o))},Qv=(r,n)=>()=>{if(r.isInitialized)n();else{const a=()=>{setTimeout(()=>{r.off("initialized",a)},0),n()};r.on("initialized",a)}},Qd=(r,n,a)=>{r.loadNamespaces(n,Qv(r,a))},tv=(r,n,a,o)=>{if(ur(a)&&(a=[a]),r.options.preload&&r.options.preload.indexOf(n)>-1)return Qd(r,a,o);a.forEach(c=>{r.options.ns.indexOf(c)<0&&r.options.ns.push(c)}),r.loadLanguages(n,Qv(r,o))},I0=(r,n,a={})=>!n.languages||!n.languages.length?(Xv(n,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:n.languages}),!0):n.hasLoadedNamespace(r,{lng:a.lng,precheck:(o,c)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!c(o.isLanguageChangingTo,r))return!1}}),ur=r=>typeof r=="string",q0=r=>typeof r=="object"&&r!==null,$0=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Z0={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},V0=r=>Z0[r],G0=r=>r.replace($0,V0);let Wd={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:G0,transDefaultProps:void 0};const K0=(r={})=>{Wd={...Wd,...r}},Y0=()=>Wd;let Wv;const F0=r=>{Wv=r},J0=()=>Wv,X0={type:"3rdParty",init(r){K0(r.options.react),F0(r)}},Q0=j.createContext();class W0{constructor(){this.usedNamespaces={}}addUsedNamespaces(n){n.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var zd={exports:{}},Pd={};var nv;function eb(){if(nv)return Pd;nv=1;var r=Nc();function n(x,O){return x===O&&(x!==0||1/x===1/O)||x!==x&&O!==O}var a=typeof Object.is=="function"?Object.is:n,o=r.useState,c=r.useEffect,h=r.useLayoutEffect,m=r.useDebugValue;function v(x,O){var N=O(),A=o({inst:{value:N,getSnapshot:O}}),z=A[0].inst,B=A[1];return h(function(){z.value=N,z.getSnapshot=O,y(z)&&B({inst:z})},[x,N,O]),c(function(){return y(z)&&B({inst:z}),x(function(){y(z)&&B({inst:z})})},[x]),m(N),N}function y(x){var O=x.getSnapshot;x=x.value;try{var N=O();return!a(x,N)}catch{return!0}}function _(x,O){return O()}var E=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_:v;return Pd.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:E,Pd}var iv;function tb(){return iv||(iv=1,zd.exports=eb()),zd.exports}var nb=tb();const ib=(r,n)=>ur(n)?n:q0(n)&&ur(n.defaultValue)?n.defaultValue:Array.isArray(r)?r[r.length-1]:r,ab={t:ib,ready:!1},sb=()=>()=>{},jn=(r,n={})=>{const{i18n:a}=n,{i18n:o,defaultNS:c}=j.useContext(Q0)||{},h=a||o||J0();h&&!h.reportNamespaces&&(h.reportNamespaces=new W0),h||Xv(h,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const m=j.useMemo(()=>({...Y0(),...h?.options?.react,...n}),[h,n]),{useSuspense:v,keyPrefix:y}=m,_=c||h?.options?.defaultNS,E=ur(_)?[_]:_||["translation"],x=j.useMemo(()=>E,E);h?.reportNamespaces?.addUsedNamespaces?.(x);const O=j.useRef(0),N=j.useCallback(fe=>{if(!h)return sb;const{bindI18n:ye,bindI18nStore:_e}=m,be=()=>{O.current+=1,fe()};return ye&&h.on(ye,be),_e&&h.store.on(_e,be),()=>{ye&&ye.split(" ").forEach(He=>h.off(He,be)),_e&&_e.split(" ").forEach(He=>h.store.off(He,be))}},[h,m]),A=j.useRef(),z=j.useCallback(()=>{if(!h)return ab;const fe=!!(h.isInitialized||h.initializedStoreOnce)&&x.every(at=>I0(at,h,m)),ye=n.lng||h.language,_e=O.current,be=A.current;if(be&&be.ready===fe&&be.lng===ye&&be.keyPrefix===y&&be.revision===_e)return be;const De={t:h.getFixedT(ye,m.nsMode==="fallback"?x:x[0],y),ready:fe,lng:ye,keyPrefix:y,revision:_e};return A.current=De,De},[h,x,y,m,n.lng]),[B,P]=j.useState(0),{t:U,ready:q}=nb.useSyncExternalStore(N,z,z);j.useEffect(()=>{if(h&&!q&&!v){const fe=()=>P(ye=>ye+1);n.lng?tv(h,n.lng,x,fe):Qd(h,x,fe)}},[h,n.lng,x,q,v,B]);const te=h||{},de=j.useRef(null),he=j.useRef(),le=fe=>{const ye=Object.getOwnPropertyDescriptors(fe);ye.__original&&delete ye.__original;const _e=Object.create(Object.getPrototypeOf(fe),ye);if(!Object.prototype.hasOwnProperty.call(_e,"__original"))try{Object.defineProperty(_e,"__original",{value:fe,writable:!1,enumerable:!1,configurable:!1})}catch{}return _e},je=j.useMemo(()=>{const fe=te,ye=fe?.language;let _e=fe;fe&&(de.current&&de.current.__original===fe?he.current!==ye?(_e=le(fe),de.current=_e,he.current=ye):_e=de.current:(_e=le(fe),de.current=_e,he.current=ye));const be=[U,_e,q];return be.t=U,be.i18n=_e,be.ready=q,be},[U,te,q,te.resolvedLanguage,te.language,te.languages]);if(h&&v&&!q)throw new Promise(fe=>{const ye=()=>fe();n.lng?tv(h,n.lng,x,ye):Qd(h,x,ye)});return je},{slice:rb,forEach:ob}=[];function lb(r){return ob.call(rb.call(arguments,1),n=>{if(n)for(const a in n)r[a]===void 0&&(r[a]=n[a])}),r}function ub(r){return typeof r!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(a=>a.test(r))}const av=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,cb=function(r,n){const o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},c=encodeURIComponent(n);let h=`${r}=${c}`;if(o.maxAge>0){const m=o.maxAge-0;if(Number.isNaN(m))throw new Error("maxAge should be a Number");h+=`; Max-Age=${Math.floor(m)}`}if(o.domain){if(!av.test(o.domain))throw new TypeError("option domain is invalid");h+=`; Domain=${o.domain}`}if(o.path){if(!av.test(o.path))throw new TypeError("option path is invalid");h+=`; Path=${o.path}`}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");h+=`; Expires=${o.expires.toUTCString()}`}if(o.httpOnly&&(h+="; HttpOnly"),o.secure&&(h+="; Secure"),o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:h+="; SameSite=Strict";break;case"lax":h+="; SameSite=Lax";break;case"strict":h+="; SameSite=Strict";break;case"none":h+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o.partitioned&&(h+="; Partitioned"),h},sv={create(r,n,a,o){let c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};a&&(c.expires=new Date,c.expires.setTime(c.expires.getTime()+a*60*1e3)),o&&(c.domain=o),document.cookie=cb(r,n,c)},read(r){const n=`${r}=`,a=document.cookie.split(";");for(let o=0;o<a.length;o++){let c=a[o];for(;c.charAt(0)===" ";)c=c.substring(1,c.length);if(c.indexOf(n)===0)return c.substring(n.length,c.length)}return null},remove(r,n){this.create(r,"",-1,n)}};var hb={name:"cookie",lookup(r){let{lookupCookie:n}=r;if(n&&typeof document<"u")return sv.read(n)||void 0},cacheUserLanguage(r,n){let{lookupCookie:a,cookieMinutes:o,cookieDomain:c,cookieOptions:h}=n;a&&typeof document<"u"&&sv.create(a,r,o,c,h)}},db={name:"querystring",lookup(r){let{lookupQuerystring:n}=r,a;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const h=o.substring(1).split("&");for(let m=0;m<h.length;m++){const v=h[m].indexOf("=");v>0&&h[m].substring(0,v)===n&&(a=h[m].substring(v+1))}}return a}},fb={name:"hash",lookup(r){let{lookupHash:n,lookupFromHashIndex:a}=r,o;if(typeof window<"u"){const{hash:c}=window.location;if(c&&c.length>2){const h=c.substring(1);if(n){const m=h.split("&");for(let v=0;v<m.length;v++){const y=m[v].indexOf("=");y>0&&m[v].substring(0,y)===n&&(o=m[v].substring(y+1))}}if(o)return o;if(!o&&a>-1){const m=c.match(/\/([a-zA-Z-]*)/g);return Array.isArray(m)?m[typeof a=="number"?a:0]?.replace("/",""):void 0}}}return o}};let to=null;const rv=()=>{if(to!==null)return to;try{if(to=typeof window<"u"&&window.localStorage!==null,!to)return!1;const r="i18next.translate.boo";window.localStorage.setItem(r,"foo"),window.localStorage.removeItem(r)}catch{to=!1}return to};var mb={name:"localStorage",lookup(r){let{lookupLocalStorage:n}=r;if(n&&rv())return window.localStorage.getItem(n)||void 0},cacheUserLanguage(r,n){let{lookupLocalStorage:a}=n;a&&rv()&&window.localStorage.setItem(a,r)}};let no=null;const ov=()=>{if(no!==null)return no;try{if(no=typeof window<"u"&&window.sessionStorage!==null,!no)return!1;const r="i18next.translate.boo";window.sessionStorage.setItem(r,"foo"),window.sessionStorage.removeItem(r)}catch{no=!1}return no};var pb={name:"sessionStorage",lookup(r){let{lookupSessionStorage:n}=r;if(n&&ov())return window.sessionStorage.getItem(n)||void 0},cacheUserLanguage(r,n){let{lookupSessionStorage:a}=n;a&&ov()&&window.sessionStorage.setItem(a,r)}},gb={name:"navigator",lookup(r){const n=[];if(typeof navigator<"u"){const{languages:a,userLanguage:o,language:c}=navigator;if(a)for(let h=0;h<a.length;h++)n.push(a[h]);o&&n.push(o),c&&n.push(c)}return n.length>0?n:void 0}},vb={name:"htmlTag",lookup(r){let{htmlTag:n}=r,a;const o=n||(typeof document<"u"?document.documentElement:null);return o&&typeof o.getAttribute=="function"&&(a=o.getAttribute("lang")),a}},yb={name:"path",lookup(r){let{lookupFromPathIndex:n}=r;if(typeof window>"u")return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof n=="number"?n:0]?.replace("/",""):void 0}},_b={name:"subdomain",lookup(r){let{lookupFromSubdomainIndex:n}=r;const a=typeof n=="number"?n+1:1,o=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(o)return o[a]}};let ey=!1;try{document.cookie,ey=!0}catch{}const ty=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ey||ty.splice(1,1);const bb=()=>({order:ty,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:r=>r});class ny{constructor(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(n,a)}init(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=n,this.options=lb(a,this.options||{},bb()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=c=>c.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(hb),this.addDetector(db),this.addDetector(mb),this.addDetector(pb),this.addDetector(gb),this.addDetector(vb),this.addDetector(yb),this.addDetector(_b),this.addDetector(fb)}addDetector(n){return this.detectors[n.name]=n,this}detect(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,a=[];return n.forEach(o=>{if(this.detectors[o]){let c=this.detectors[o].lookup(this.options);c&&typeof c=="string"&&(c=[c]),c&&(a=a.concat(c))}}),a=a.filter(o=>o!=null&&!ub(o)).map(o=>this.options.convertDetectedLanguage(o)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?a:a.length>0?a[0]:null}cacheUserLanguage(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;a&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(n)>-1||a.forEach(o=>{this.detectors[o]&&this.detectors[o].cacheUserLanguage(n,this.options)}))}}ny.type="languageDetector";const xb={appName:"",loading:"...",error:"",search:"",viewAll:"",learnMore:"",getDirections:"",submit:"",cancel:"",close:""},wb={home:"",explore:"",submit:""},Sb={badge:"",headline:"",headlineHighlight:"",subheadline:"",searchPlaceholder:"...",stats:{locations:"50+ ",allPets:""},featured:{title:"",subtitle:"",searchTitle:"",searchSubtitle:"{{query}}"},noResults:{title:"",searchHint:"",defaultHint:""},exploreButton:"",cta:{title:"",subtitle:"",button:" / "}},Eb={title:"",subtitle:"",filters:{all:"",petPolicy:"",cuisine:""},results:" {{count}} ",noResults:"",viewDetails:""},Tb={title:"",subtitle:"",form:{name:"",namePlaceholder:"",description:"",descriptionPlaceholder:"...",address:"",addressPlaceholder:"",petPolicy:"",cuisineType:"",cuisineTypePlaceholder:"",contactInfo:"",contactInfoPlaceholder:"+853 xxxx xxxx",imageUrl:"",imageUrlPlaceholder:"https://...",selectCuisine:"",uploadPhoto:"",clickToUpload:"",uploadHint:" JPG, PNG, GIF 5MB",selectFile:""},submitButton:"",successTitle:"",successMessage:"",errorMessage:"",backToHome:""},Ob={portuguese:"",cantonese:"",fusion:"",international:"",seafood:"",brunch:"",japanese:"",italian:"",thai:"",other:""},Cb={cuisine:"",address:"",contact:"",getDirections:"",callNow:"",backToList:"",location:"",openInMaps:" Google "},Nb={indoors_allowed:"",patio_only:"",small_pets_only:"",all_pets_welcome:"",dogs_only:"",cats_only:""},Ab={copyright:" 2024 "},Rb={zh:"",en:"English",pt:"Portugus"},jb={loadingRestaurants:"",missingSupabase:" Supabase  .env  VITE_SUPABASE_URL  VITE_SUPABASE_ANON_KEY"},Lb={login:"",logout:"",loginTitle:"",loginSubtitle:"",signupTitle:"",signupSubtitle:"",continueWithGoogle:" Google ",or:"",email:"",emailPlaceholder:"",password:"",passwordPlaceholder:" 6 ",loginButton:"",signupButton:"",noAccount:"",hasAccount:"",signupLink:"",loginLink:"",signOut:""},kb={title:"",writeReview:"",noReviews:"",yourRating:"",yourReview:"",reviewPlaceholder:"...",submitReview:"",loginToReview:"",deleteReview:"",reviewSubmitted:"",addPhoto:"",takePhoto:"",uploadPhoto:"",removePhoto:"",photoHint:""},Mb={sidebar:{dashboard:"",restaurants:"",signOut:""},dashboard:{title:"",totalRestaurants:"",activeListings:"",pendingApproval:"",totalReviews:""},restaurants:{title:"",subtitle:"",addRestaurant:"",searchPlaceholder:"...",filters:{all:"",pending:"",approved:""},table:{headers:{restaurant:"",status:"",petPolicy:"",submitted:"",actions:""},noRestaurants:""},status:{pending:"",approved:"",rejected:""},actions:{approve:"",reject:"",edit:"",delete:"",confirmDelete:"",deleteSuccess:"",approveSuccess:"",rejectSuccess:""}},modal:{addTitle:"",editTitle:"",labels:{name:"",nameEn:" ()",nameZh:" ()",namePt:" ()",cuisineType:"",petPolicy:"",status:"",description:"",descriptionEn:" ()",descriptionZh:" ()",descriptionPt:" ()",address:"",addressEn:" ()",addressZh:" ()",addressPt:" ()",latitude:"",longitude:"",imageUrl:""},placeholders:{selectCuisine:"",description:"...",address:"",imageUrl:"https://..."},buttons:{cancel:"",save:"",create:""},messages:{updateSuccess:"",createSuccess:"",error:""}}},zb={common:xb,nav:wb,home:Sb,explore:Eb,submit:Tb,cuisineTypes:Ob,restaurant:Cb,petPolicy:Nb,footer:Ab,language:Rb,errors:jb,auth:Lb,reviews:kb,admin:Mb},Pb={appName:"Macau Pet-Friendly Eats",loading:"Loading...",error:"Error",search:"Search",viewAll:"View All",learnMore:"Learn More",getDirections:"Get Directions",submit:"Submit",cancel:"Cancel",close:"Close"},Db={home:"Home",explore:"Explore Map",submit:"Submit a Spot"},Ub={badge:"Macau's #1 Pet-Friendly Dining Guide",headline:"Find the Best Places to Dine with Your",headlineHighlight:"Furry Friend",subheadline:"Discover pet-friendly restaurants, cafs, and bars across Macau. From cozy patios to fully indoor-friendly spots.",searchPlaceholder:"Search by restaurant name or cuisine...",stats:{locations:"50+ Locations",allPets:"All Pet Types Welcome"},featured:{title:"Featured Restaurants",subtitle:"Hand-picked spots where you and your pet are always welcome",searchTitle:"Search Results",searchSubtitle:'Showing results for "{{query}}"'},noResults:{title:"No restaurants found",searchHint:"Try adjusting your search terms",defaultHint:"Check back soon for new additions!"},exploreButton:"Explore All on Map",cta:{title:"Discovered a new pet friendly restaurant?",subtitle:"Help us build the most complete guide to pet-friendly dining in Macau!",button:"Upload / Submit"}},Bb={title:"Explore Restaurants",subtitle:"Discover pet-friendly restaurants in Macau on the map",filters:{all:"All",petPolicy:"Pet Policy",cuisine:"Cuisine"},results:"Found {{count}} restaurants",noResults:"No restaurants match your filters",viewDetails:"View Details"},Hb={title:"Submit a Spot",subtitle:"Know a pet-friendly restaurant? Let us know!",form:{name:"Restaurant Name",namePlaceholder:"Enter restaurant name",description:"Description",descriptionPlaceholder:"Describe this restaurant...",address:"Address",addressPlaceholder:"Enter restaurant address",petPolicy:"Pet Policy",cuisineType:"Cuisine Type",cuisineTypePlaceholder:"e.g., Portuguese, Cantonese, Fusion",contactInfo:"Contact Phone",contactInfoPlaceholder:"+853 xxxx xxxx",imageUrl:"Image URL (optional)",imageUrlPlaceholder:"https://...",selectCuisine:"Select cuisine type",uploadPhoto:"Upload Photo (optional)",clickToUpload:"Click to upload a photo",uploadHint:"Supports JPG, PNG, GIF (max 5MB)",selectFile:"Select File"},submitButton:"Submit Recommendation",successTitle:"Thank you for your submission!",successMessage:"We'll review your submission and add it to the list soon.",errorMessage:"Submission failed. Please try again later.",backToHome:"Back to Home"},Ib={portuguese:"Portuguese",cantonese:"Cantonese",fusion:"Fusion",international:"International",seafood:"Seafood",brunch:"Brunch",japanese:"Japanese",italian:"Italian",thai:"Thai",other:"Other"},qb={cuisine:"Cuisine",address:"Address",contact:"Contact",getDirections:"Get Directions",callNow:"Call Now",backToList:"Back to List",location:"Location",openInMaps:"Open in Google Maps"},$b={indoors_allowed:"Indoors Allowed",patio_only:"Patio Only",small_pets_only:"Small Pets Only",all_pets_welcome:"All Pets Welcome",dogs_only:"Dogs Only",cats_only:"Cats Only"},Zb={copyright:" 2024 Macau Pet-Friendly Eats. Made with  for pet lovers."},Vb={zh:"",en:"English",pt:"Portugus"},Gb={loadingRestaurants:"Failed to load restaurants",missingSupabase:"Missing Supabase environment variables. Please set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your .env file."},Kb={login:"Log In",logout:"Log Out",loginTitle:"Log In",loginSubtitle:"Sign in to write reviews",signupTitle:"Create Account",signupSubtitle:"Sign up to get started",continueWithGoogle:"Continue with Google",or:"or",email:"Email",emailPlaceholder:"Enter your email address",password:"Password",passwordPlaceholder:"Enter password (min 6 characters)",loginButton:"Log In",signupButton:"Sign Up",noAccount:"Don't have an account?",hasAccount:"Already have an account?",signupLink:"Sign up now",loginLink:"Log in now",signOut:"Sign Out"},Yb={title:"Customer Reviews",writeReview:"Write a Review",noReviews:"No reviews yet. Be the first to review!",yourRating:"Your Rating",yourReview:"Your Review",reviewPlaceholder:"Share your dining experience with your pet...",submitReview:"Submit Review",loginToReview:"Log in to write a review",deleteReview:"Delete Review",reviewSubmitted:"Review submitted successfully!",addPhoto:"Add Photo",takePhoto:"Take Photo",uploadPhoto:"Upload Photo",removePhoto:"Remove Photo",photoHint:"Optional: Add a photo of your experience"},Fb={common:Pb,nav:Db,home:Ub,explore:Bb,submit:Hb,cuisineTypes:Ib,restaurant:qb,petPolicy:$b,footer:Zb,language:Vb,errors:Gb,auth:Kb,reviews:Yb},Jb={appName:"Macau Pet-Friendly Eats",loading:"A carregar...",error:"Erro",search:"Pesquisar",viewAll:"Ver Tudo",learnMore:"Saber Mais",getDirections:"Obter Direes",submit:"Enviar",cancel:"Cancelar",close:"Fechar"},Xb={home:"Incio",explore:"Explorar Mapa",submit:"Sugerir Local"},Qb={badge:"O Guia #1 de Restaurantes Pet-Friendly em Macau",headline:"Encontre os Melhores Lugares para Jantar com o Seu",headlineHighlight:"Amigo Peludo",subheadline:"Descubra restaurantes, cafs e bares pet-friendly em Macau. De ptios acolhedores a espaos totalmente amigos dos animais.",searchPlaceholder:"Pesquisar por nome ou tipo de cozinha...",stats:{locations:"50+ Locais",allPets:"Todos os Animais Bem-vindos"},featured:{title:"Restaurantes em Destaque",subtitle:"Locais selecionados onde voc e o seu animal so sempre bem-vindos",searchTitle:"Resultados da Pesquisa",searchSubtitle:'A mostrar resultados para "{{query}}"'},noResults:{title:"Nenhum restaurante encontrado",searchHint:"Tente ajustar os termos de pesquisa",defaultHint:"Volte em breve para novas adies!"},exploreButton:"Explorar Tudo no Mapa",cta:{title:"Descobriu um novo restaurante pet friendly?",subtitle:"Ajude-nos a criar o guia mais completo de restaurantes pet-friendly em Macau!",button:"Carregar / Submeter"}},Wb={title:"Explorar Restaurantes",subtitle:"Descubra restaurantes pet-friendly em Macau no mapa",filters:{all:"Todos",petPolicy:"Poltica de Animais",cuisine:"Cozinha"},results:"Encontrados {{count}} restaurantes",noResults:"Nenhum restaurante corresponde aos filtros",viewDetails:"Ver Detalhes"},ex={title:"Sugerir Local",subtitle:"Conhece um restaurante pet-friendly? Conte-nos!",form:{name:"Nome do Restaurante",namePlaceholder:"Introduza o nome do restaurante",description:"Descrio",descriptionPlaceholder:"Descreva este restaurante...",address:"Morada",addressPlaceholder:"Introduza a morada do restaurante",petPolicy:"Poltica de Animais",cuisineType:"Tipo de Cozinha",cuisineTypePlaceholder:"ex: Portugus, Cantons, Fuso",contactInfo:"Telefone de Contacto",contactInfoPlaceholder:"+853 xxxx xxxx",imageUrl:"URL da Imagem (opcional)",imageUrlPlaceholder:"https://...",selectCuisine:"Selecione o tipo de cozinha",uploadPhoto:"Carregar Foto (opcional)",clickToUpload:"Clique para carregar uma foto",uploadHint:"Suporta JPG, PNG, GIF (mx 5MB)",selectFile:"Selecionar Ficheiro"},submitButton:"Enviar Recomendao",successTitle:"Obrigado pela sua sugesto!",successMessage:"Vamos rever a sua sugesto e adicion-la  lista em breve.",errorMessage:"Falha no envio. Por favor tente novamente mais tarde.",backToHome:"Voltar ao Incio"},tx={portuguese:"Portugus",cantonese:"Cantons",fusion:"Fuso",international:"Internacional",seafood:"Mariscos",brunch:"Brunch",japanese:"Japons",italian:"Italiano",thai:"Tailands",other:"Outro"},nx={cuisine:"Cozinha",address:"Morada",contact:"Contacto",getDirections:"Obter Direes",callNow:"Ligar Agora",backToList:"Voltar  Lista",location:"Localizao",openInMaps:"Abrir no Google Maps"},ix={indoors_allowed:"Interior Permitido",patio_only:"Apenas Terrao",small_pets_only:"Apenas Animais Pequenos",all_pets_welcome:"Todos os Animais Bem-vindos",dogs_only:"Apenas Ces",cats_only:"Apenas Gatos"},ax={copyright:" 2024 Macau Pet-Friendly Eats. Feito com  para amantes de animais."},sx={zh:"",en:"English",pt:"Portugus"},rx={loadingRestaurants:"Falha ao carregar restaurantes",missingSupabase:"Variveis de ambiente Supabase em falta. Por favor defina VITE_SUPABASE_URL e VITE_SUPABASE_ANON_KEY no ficheiro .env."},ox={login:"Entrar",logout:"Sair",loginTitle:"Entrar",loginSubtitle:"Entre para escrever avaliaes",signupTitle:"Criar Conta",signupSubtitle:"Registe-se para comear",continueWithGoogle:"Continuar com Google",or:"ou",email:"Email",emailPlaceholder:"Introduza o seu email",password:"Senha",passwordPlaceholder:"Introduza a senha (mn 6 caracteres)",loginButton:"Entrar",signupButton:"Registar",noAccount:"No tem conta?",hasAccount:"J tem conta?",signupLink:"Registe-se agora",loginLink:"Entre agora",signOut:"Sair"},lx={title:"Avaliaes",writeReview:"Escrever Avaliao",noReviews:"Sem avaliaes ainda. Seja o primeiro a avaliar!",yourRating:"A Sua Avaliao",yourReview:"A Sua Opinio",reviewPlaceholder:"Partilhe a sua experincia gastronmica com o seu animal...",submitReview:"Enviar Avaliao",loginToReview:"Entre para escrever uma avaliao",deleteReview:"Apagar Avaliao",reviewSubmitted:"Avaliao enviada com sucesso!",addPhoto:"Adicionar Foto",takePhoto:"Tirar Foto",uploadPhoto:"Carregar Foto",removePhoto:"Remover Foto",photoHint:"Opcional: Adicione uma foto da sua experincia"},ux={common:Jb,nav:Xb,home:Qb,explore:Wb,submit:ex,cuisineTypes:tx,restaurant:nx,petPolicy:ix,footer:ax,language:sx,errors:rx,auth:ox,reviews:lx},cx={zh:{translation:zb},en:{translation:Fb},pt:{translation:ux}};gn.use(ny).use(X0).init({resources:cx,fallbackLng:"zh",lng:"zh",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"macau-pet-eats-lang"}});const Dd=[{code:"zh",name:""},{code:"en",name:"English"},{code:"pt",name:"Portugus"}];var lv="popstate";function hx(r={}){function n(c,h){let{pathname:m="/",search:v="",hash:y=""}=hr(c.location.hash.substring(1));return!m.startsWith("/")&&!m.startsWith(".")&&(m="/"+m),ef("",{pathname:m,search:v,hash:y},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function a(c,h){let m=c.document.querySelector("base"),v="";if(m&&m.getAttribute("href")){let y=c.location.href,_=y.indexOf("#");v=_===-1?y:y.slice(0,_)}return v+"#"+(typeof h=="string"?h:Ll(h))}function o(c,h){Gn(c.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return fx(n,a,o,r)}function _t(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function Gn(r,n){if(!r){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function dx(){return Math.random().toString(36).substring(2,10)}function uv(r,n){return{usr:r.state,key:r.key,idx:n}}function ef(r,n,a=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof n=="string"?hr(n):n,state:a,key:n&&n.key||o||dx()}}function Ll({pathname:r="/",search:n="",hash:a=""}){return n&&n!=="?"&&(r+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function hr(r){let n={};if(r){let a=r.indexOf("#");a>=0&&(n.hash=r.substring(a),r=r.substring(0,a));let o=r.indexOf("?");o>=0&&(n.search=r.substring(o),r=r.substring(0,o)),r&&(n.pathname=r)}return n}function fx(r,n,a,o={}){let{window:c=document.defaultView,v5Compat:h=!1}=o,m=c.history,v="POP",y=null,_=E();_==null&&(_=0,m.replaceState({...m.state,idx:_},""));function E(){return(m.state||{idx:null}).idx}function x(){v="POP";let B=E(),P=B==null?null:B-_;_=B,y&&y({action:v,location:z.location,delta:P})}function O(B,P){v="PUSH";let U=ef(z.location,B,P);a&&a(U,B),_=E()+1;let q=uv(U,_),te=z.createHref(U);try{m.pushState(q,"",te)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;c.location.assign(te)}h&&y&&y({action:v,location:z.location,delta:1})}function N(B,P){v="REPLACE";let U=ef(z.location,B,P);a&&a(U,B),_=E();let q=uv(U,_),te=z.createHref(U);m.replaceState(q,"",te),h&&y&&y({action:v,location:z.location,delta:0})}function A(B){return mx(B)}let z={get action(){return v},get location(){return r(c,m)},listen(B){if(y)throw new Error("A history only accepts one active listener");return c.addEventListener(lv,x),y=B,()=>{c.removeEventListener(lv,x),y=null}},createHref(B){return n(c,B)},createURL:A,encodeLocation(B){let P=A(B);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:O,replace:N,go(B){return m.go(B)}};return z}function mx(r,n=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),_t(a,"No window.location.(origin|href) available to create URL");let o=typeof r=="string"?r:Ll(r);return o=o.replace(/ $/,"%20"),!n&&o.startsWith("//")&&(o=a+o),new URL(o,a)}function iy(r,n,a="/"){return px(r,n,a,!1)}function px(r,n,a,o){let c=typeof n=="string"?hr(n):n,h=Oa(c.pathname||"/",a);if(h==null)return null;let m=ay(r);gx(m);let v=null;for(let y=0;v==null&&y<m.length;++y){let _=Cx(h);v=Tx(m[y],_,o)}return v}function ay(r,n=[],a=[],o="",c=!1){let h=(m,v,y=c,_)=>{let E={relativePath:_===void 0?m.path||"":_,caseSensitive:m.caseSensitive===!0,childrenIndex:v,route:m};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(o)&&y)return;_t(E.relativePath.startsWith(o),`Absolute route path "${E.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(o.length)}let x=Ta([o,E.relativePath]),O=a.concat(E);m.children&&m.children.length>0&&(_t(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),ay(m.children,n,O,x,y)),!(m.path==null&&!m.index)&&n.push({path:x,score:Sx(x,m.index),routesMeta:O})};return r.forEach((m,v)=>{if(m.path===""||!m.path?.includes("?"))h(m,v);else for(let y of sy(m.path))h(m,v,!0,y)}),n}function sy(r){let n=r.split("/");if(n.length===0)return[];let[a,...o]=n,c=a.endsWith("?"),h=a.replace(/\?$/,"");if(o.length===0)return c?[h,""]:[h];let m=sy(o.join("/")),v=[];return v.push(...m.map(y=>y===""?h:[h,y].join("/"))),c&&v.push(...m),v.map(y=>r.startsWith("/")&&y===""?"/":y)}function gx(r){r.sort((n,a)=>n.score!==a.score?a.score-n.score:Ex(n.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}var vx=/^:[\w-]+$/,yx=3,_x=2,bx=1,xx=10,wx=-2,cv=r=>r==="*";function Sx(r,n){let a=r.split("/"),o=a.length;return a.some(cv)&&(o+=wx),n&&(o+=_x),a.filter(c=>!cv(c)).reduce((c,h)=>c+(vx.test(h)?yx:h===""?bx:xx),o)}function Ex(r,n){return r.length===n.length&&r.slice(0,-1).every((o,c)=>o===n[c])?r[r.length-1]-n[n.length-1]:0}function Tx(r,n,a=!1){let{routesMeta:o}=r,c={},h="/",m=[];for(let v=0;v<o.length;++v){let y=o[v],_=v===o.length-1,E=h==="/"?n:n.slice(h.length)||"/",x=wc({path:y.relativePath,caseSensitive:y.caseSensitive,end:_},E),O=y.route;if(!x&&_&&a&&!o[o.length-1].route.index&&(x=wc({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},E)),!x)return null;Object.assign(c,x.params),m.push({params:c,pathname:Ta([h,x.pathname]),pathnameBase:Lx(Ta([h,x.pathnameBase])),route:O}),x.pathnameBase!=="/"&&(h=Ta([h,x.pathnameBase]))}return m}function wc(r,n){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[a,o]=Ox(r.path,r.caseSensitive,r.end),c=n.match(a);if(!c)return null;let h=c[0],m=h.replace(/(.)\/+$/,"$1"),v=c.slice(1);return{params:o.reduce((_,{paramName:E,isOptional:x},O)=>{if(E==="*"){let A=v[O]||"";m=h.slice(0,h.length-A.length).replace(/(.)\/+$/,"$1")}const N=v[O];return x&&!N?_[E]=void 0:_[E]=(N||"").replace(/%2F/g,"/"),_},{}),pathname:h,pathnameBase:m,pattern:r}}function Ox(r,n=!1,a=!0){Gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],c="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,v,y)=>(o.push({paramName:v,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(o.push({paramName:"*"}),c+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?c+="\\/*$":r!==""&&r!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),o]}function Cx(r){try{return r.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),r}}function Oa(r,n){if(n==="/")return r;if(!r.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,o=r.charAt(a);return o&&o!=="/"?null:r.slice(a)||"/"}var Nx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ax=r=>Nx.test(r);function Rx(r,n="/"){let{pathname:a,search:o="",hash:c=""}=typeof r=="string"?hr(r):r,h;if(a)if(Ax(a))h=a;else{if(a.includes("//")){let m=a;a=a.replace(/\/\/+/g,"/"),Gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${a}`)}a.startsWith("/")?h=hv(a.substring(1),"/"):h=hv(a,n)}else h=n;return{pathname:h,search:kx(o),hash:Mx(c)}}function hv(r,n){let a=n.replace(/\/+$/,"").split("/");return r.split("/").forEach(c=>{c===".."?a.length>1&&a.pop():c!=="."&&a.push(c)}),a.length>1?a.join("/"):"/"}function Ud(r,n,a,o){return`Cannot include a '${r}' character in a manually specified \`to.${n}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jx(r){return r.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function vf(r){let n=jx(r);return n.map((a,o)=>o===n.length-1?a.pathname:a.pathnameBase)}function yf(r,n,a,o=!1){let c;typeof r=="string"?c=hr(r):(c={...r},_t(!c.pathname||!c.pathname.includes("?"),Ud("?","pathname","search",c)),_t(!c.pathname||!c.pathname.includes("#"),Ud("#","pathname","hash",c)),_t(!c.search||!c.search.includes("#"),Ud("#","search","hash",c)));let h=r===""||c.pathname==="",m=h?"/":c.pathname,v;if(m==null)v=a;else{let x=n.length-1;if(!o&&m.startsWith("..")){let O=m.split("/");for(;O[0]==="..";)O.shift(),x-=1;c.pathname=O.join("/")}v=x>=0?n[x]:"/"}let y=Rx(c,v),_=m&&m!=="/"&&m.endsWith("/"),E=(h||m===".")&&a.endsWith("/");return!y.pathname.endsWith("/")&&(_||E)&&(y.pathname+="/"),y}var Ta=r=>r.join("/").replace(/\/\/+/g,"/"),Lx=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),kx=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Mx=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function zx(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Px(r){return r.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ry=["POST","PUT","PATCH","DELETE"];new Set(ry);var Dx=["GET",...ry];new Set(Dx);var go=j.createContext(null);go.displayName="DataRouter";var Rc=j.createContext(null);Rc.displayName="DataRouterState";j.createContext(!1);var oy=j.createContext({isTransitioning:!1});oy.displayName="ViewTransition";var Ux=j.createContext(new Map);Ux.displayName="Fetchers";var Bx=j.createContext(null);Bx.displayName="Await";var oi=j.createContext(null);oi.displayName="Navigation";var Bl=j.createContext(null);Bl.displayName="Location";var li=j.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var _f=j.createContext(null);_f.displayName="RouteError";function Hx(r,{relative:n}={}){_t(vo(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:o}=j.useContext(oi),{hash:c,pathname:h,search:m}=Hl(r,{relative:n}),v=h;return a!=="/"&&(v=h==="/"?a:Ta([a,h])),o.createHref({pathname:v,search:m,hash:c})}function vo(){return j.useContext(Bl)!=null}function Ca(){return _t(vo(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Bl).location}var ly="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uy(r){j.useContext(oi).static||j.useLayoutEffect(r)}function cy(){let{isDataRoute:r}=j.useContext(li);return r?nw():Ix()}function Ix(){_t(vo(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(go),{basename:n,navigator:a}=j.useContext(oi),{matches:o}=j.useContext(li),{pathname:c}=Ca(),h=JSON.stringify(vf(o)),m=j.useRef(!1);return uy(()=>{m.current=!0}),j.useCallback((y,_={})=>{if(Gn(m.current,ly),!m.current)return;if(typeof y=="number"){a.go(y);return}let E=yf(y,JSON.parse(h),c,_.relative==="path");r==null&&n!=="/"&&(E.pathname=E.pathname==="/"?n:Ta([n,E.pathname])),(_.replace?a.replace:a.push)(E,_.state,_)},[n,a,h,c,r])}var qx=j.createContext(null);function $x(r){let n=j.useContext(li).outlet;return j.useMemo(()=>n&&j.createElement(qx.Provider,{value:r},n),[n,r])}function Zx(){let{matches:r}=j.useContext(li),n=r[r.length-1];return n?n.params:{}}function Hl(r,{relative:n}={}){let{matches:a}=j.useContext(li),{pathname:o}=Ca(),c=JSON.stringify(vf(a));return j.useMemo(()=>yf(r,JSON.parse(c),o,n==="path"),[r,c,o,n])}function Vx(r,n){return hy(r,n)}function hy(r,n,a,o,c){_t(vo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=j.useContext(oi),{matches:m}=j.useContext(li),v=m[m.length-1],y=v?v.params:{},_=v?v.pathname:"/",E=v?v.pathnameBase:"/",x=v&&v.route;{let U=x&&x.path||"";dy(_,!x||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let O=Ca(),N;if(n){let U=typeof n=="string"?hr(n):n;_t(E==="/"||U.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${U.pathname}" was given in the \`location\` prop.`),N=U}else N=O;let A=N.pathname||"/",z=A;if(E!=="/"){let U=E.replace(/^\//,"").split("/");z="/"+A.replace(/^\//,"").split("/").slice(U.length).join("/")}let B=iy(r,{pathname:z});Gn(x||B!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Gn(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Jx(B&&B.map(U=>Object.assign({},U,{params:Object.assign({},y,U.params),pathname:Ta([E,h.encodeLocation?h.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?E:Ta([E,h.encodeLocation?h.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),m,a,o,c);return n&&P?j.createElement(Bl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},P):P}function Gx(){let r=tw(),n=zx(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),a=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:h},"ErrorBoundary")," or"," ",j.createElement("code",{style:h},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},n),a?j.createElement("pre",{style:c},a):null,m)}var Kx=j.createElement(Gx,null),Yx=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,n){return n.location!==r.location||n.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:n.error,location:n.location,revalidation:r.revalidation||n.revalidation}}componentDidCatch(r,n){this.props.onError?this.props.onError(r,n):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?j.createElement(li.Provider,{value:this.props.routeContext},j.createElement(_f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fx({routeContext:r,match:n,children:a}){let o=j.useContext(go);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(li.Provider,{value:r},a)}function Jx(r,n=[],a=null,o=null,c=null){if(r==null){if(!a)return null;if(a.errors)r=a.matches;else if(n.length===0&&!a.initialized&&a.matches.length>0)r=a.matches;else return null}let h=r,m=a?.errors;if(m!=null){let E=h.findIndex(x=>x.route.id&&m?.[x.route.id]!==void 0);_t(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),h=h.slice(0,Math.min(h.length,E+1))}let v=!1,y=-1;if(a)for(let E=0;E<h.length;E++){let x=h[E];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(y=E),x.route.id){let{loaderData:O,errors:N}=a,A=x.route.loader&&!O.hasOwnProperty(x.route.id)&&(!N||N[x.route.id]===void 0);if(x.route.lazy||A){v=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}let _=a&&o?(E,x)=>{o(E,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:Px(a.matches),errorInfo:x})}:void 0;return h.reduceRight((E,x,O)=>{let N,A=!1,z=null,B=null;a&&(N=m&&x.route.id?m[x.route.id]:void 0,z=x.route.errorElement||Kx,v&&(y<0&&O===0?(dy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,B=null):y===O&&(A=!0,B=x.route.hydrateFallbackElement||null)));let P=n.concat(h.slice(0,O+1)),U=()=>{let q;return N?q=z:A?q=B:x.route.Component?q=j.createElement(x.route.Component,null):x.route.element?q=x.route.element:q=E,j.createElement(Fx,{match:x,routeContext:{outlet:E,matches:P,isDataRoute:a!=null},children:q})};return a&&(x.route.ErrorBoundary||x.route.errorElement||O===0)?j.createElement(Yx,{location:a.location,revalidation:a.revalidation,component:z,error:N,children:U(),routeContext:{outlet:null,matches:P,isDataRoute:!0},onError:_}):U()},null)}function bf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xx(r){let n=j.useContext(go);return _t(n,bf(r)),n}function Qx(r){let n=j.useContext(Rc);return _t(n,bf(r)),n}function Wx(r){let n=j.useContext(li);return _t(n,bf(r)),n}function xf(r){let n=Wx(r),a=n.matches[n.matches.length-1];return _t(a.route.id,`${r} can only be used on routes that contain a unique "id"`),a.route.id}function ew(){return xf("useRouteId")}function tw(){let r=j.useContext(_f),n=Qx("useRouteError"),a=xf("useRouteError");return r!==void 0?r:n.errors?.[a]}function nw(){let{router:r}=Xx("useNavigate"),n=xf("useNavigate"),a=j.useRef(!1);return uy(()=>{a.current=!0}),j.useCallback(async(c,h={})=>{Gn(a.current,ly),a.current&&(typeof c=="number"?await r.navigate(c):await r.navigate(c,{fromRouteId:n,...h}))},[r,n])}var dv={};function dy(r,n,a){!n&&!dv[r]&&(dv[r]=!0,Gn(!1,a))}j.memo(iw);function iw({routes:r,future:n,state:a,unstable_onError:o}){return hy(r,void 0,a,o,n)}function fv({to:r,replace:n,state:a,relative:o}){_t(vo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=j.useContext(oi);Gn(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=j.useContext(li),{pathname:m}=Ca(),v=cy(),y=yf(r,vf(h),m,o==="path"),_=JSON.stringify(y);return j.useEffect(()=>{v(JSON.parse(_),{replace:n,state:a,relative:o})},[v,_,o,n,a]),null}function fy(r){return $x(r.context)}function Sa(r){_t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aw({basename:r="/",children:n=null,location:a,navigationType:o="POP",navigator:c,static:h=!1,unstable_useTransitions:m}){_t(!vo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=r.replace(/^\/*/,"/"),y=j.useMemo(()=>({basename:v,navigator:c,static:h,unstable_useTransitions:m,future:{}}),[v,c,h,m]);typeof a=="string"&&(a=hr(a));let{pathname:_="/",search:E="",hash:x="",state:O=null,key:N="default"}=a,A=j.useMemo(()=>{let z=Oa(_,v);return z==null?null:{location:{pathname:z,search:E,hash:x,state:O,key:N},navigationType:o}},[v,_,E,x,O,N,o]);return Gn(A!=null,`<Router basename="${v}"> is not able to match the URL "${_}${E}${x}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:j.createElement(oi.Provider,{value:y},j.createElement(Bl.Provider,{children:n,value:A}))}function sw({children:r,location:n}){return Vx(tf(r),n)}function tf(r,n=[]){let a=[];return j.Children.forEach(r,(o,c)=>{if(!j.isValidElement(o))return;let h=[...n,c];if(o.type===j.Fragment){a.push.apply(a,tf(o.props.children,h));return}_t(o.type===Sa,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),_t(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=tf(o.props.children,h)),a.push(m)}),a}var vc="get",yc="application/x-www-form-urlencoded";function jc(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function rw(r){return jc(r)&&r.tagName.toLowerCase()==="button"}function ow(r){return jc(r)&&r.tagName.toLowerCase()==="form"}function lw(r){return jc(r)&&r.tagName.toLowerCase()==="input"}function uw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cw(r,n){return r.button===0&&(!n||n==="_self")&&!uw(r)}var hc=null;function hw(){if(hc===null)try{new FormData(document.createElement("form"),0),hc=!1}catch{hc=!0}return hc}var dw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bd(r){return r!=null&&!dw.has(r)?(Gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yc}"`),null):r}function fw(r,n){let a,o,c,h,m;if(ow(r)){let v=r.getAttribute("action");o=v?Oa(v,n):null,a=r.getAttribute("method")||vc,c=Bd(r.getAttribute("enctype"))||yc,h=new FormData(r)}else if(rw(r)||lw(r)&&(r.type==="submit"||r.type==="image")){let v=r.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||v.getAttribute("action");if(o=y?Oa(y,n):null,a=r.getAttribute("formmethod")||v.getAttribute("method")||vc,c=Bd(r.getAttribute("formenctype"))||Bd(v.getAttribute("enctype"))||yc,h=new FormData(v,r),!hw()){let{name:_,type:E,value:x}=r;if(E==="image"){let O=_?`${_}.`:"";h.append(`${O}x`,"0"),h.append(`${O}y`,"0")}else _&&h.append(_,x)}}else{if(jc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=vc,o=null,c=yc,m=r}return h&&c==="text/plain"&&(m=h,h=void 0),{action:o,method:a.toLowerCase(),encType:c,formData:h,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wf(r,n){if(r===!1||r===null||typeof r>"u")throw new Error(n)}function mw(r,n,a){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return o.pathname==="/"?o.pathname=`_root.${a}`:n&&Oa(o.pathname,n)==="/"?o.pathname=`${n.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function pw(r,n){if(r.id in n)return n[r.id];try{let a=await import(r.module);return n[r.id]=a,a}catch(a){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function vw(r,n,a){let o=await Promise.all(r.map(async c=>{let h=n.routes[c.route.id];if(h){let m=await pw(h,a);return m.links?m.links():[]}return[]}));return xw(o.flat(1).filter(gw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function mv(r,n,a,o,c,h){let m=(y,_)=>a[_]?y.route.id!==a[_].route.id:!0,v=(y,_)=>a[_].pathname!==y.pathname||a[_].route.path?.endsWith("*")&&a[_].params["*"]!==y.params["*"];return h==="assets"?n.filter((y,_)=>m(y,_)||v(y,_)):h==="data"?n.filter((y,_)=>{let E=o.routes[y.route.id];if(!E||!E.hasLoader)return!1;if(m(y,_)||v(y,_))return!0;if(y.route.shouldRevalidate){let x=y.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function yw(r,n,{includeHydrateFallback:a}={}){return _w(r.map(o=>{let c=n.routes[o.route.id];if(!c)return[];let h=[c.module];return c.clientActionModule&&(h=h.concat(c.clientActionModule)),c.clientLoaderModule&&(h=h.concat(c.clientLoaderModule)),a&&c.hydrateFallbackModule&&(h=h.concat(c.hydrateFallbackModule)),c.imports&&(h=h.concat(c.imports)),h}).flat(1))}function _w(r){return[...new Set(r)]}function bw(r){let n={},a=Object.keys(r).sort();for(let o of a)n[o]=r[o];return n}function xw(r,n){let a=new Set;return new Set(n),r.reduce((o,c)=>{let h=JSON.stringify(bw(c));return a.has(h)||(a.add(h),o.push({key:h,link:c})),o},[])}function my(){let r=j.useContext(go);return wf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function ww(){let r=j.useContext(Rc);return wf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Sf=j.createContext(void 0);Sf.displayName="FrameworkContext";function py(){let r=j.useContext(Sf);return wf(r,"You must render this element inside a <HydratedRouter> element"),r}function Sw(r,n){let a=j.useContext(Sf),[o,c]=j.useState(!1),[h,m]=j.useState(!1),{onFocus:v,onBlur:y,onMouseEnter:_,onMouseLeave:E,onTouchStart:x}=n,O=j.useRef(null);j.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let z=P=>{P.forEach(U=>{m(U.isIntersecting)})},B=new IntersectionObserver(z,{threshold:.5});return O.current&&B.observe(O.current),()=>{B.disconnect()}}},[r]),j.useEffect(()=>{if(o){let z=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(z)}}},[o]);let N=()=>{c(!0)},A=()=>{c(!1),m(!1)};return a?r!=="intent"?[h,O,{}]:[h,O,{onFocus:Sl(v,N),onBlur:Sl(y,A),onMouseEnter:Sl(_,N),onMouseLeave:Sl(E,A),onTouchStart:Sl(x,N)}]:[!1,O,{}]}function Sl(r,n){return a=>{r&&r(a),a.defaultPrevented||n(a)}}function Ew({page:r,...n}){let{router:a}=my(),o=j.useMemo(()=>iy(a.routes,r,a.basename),[a.routes,r,a.basename]);return o?j.createElement(Ow,{page:r,matches:o,...n}):null}function Tw(r){let{manifest:n,routeModules:a}=py(),[o,c]=j.useState([]);return j.useEffect(()=>{let h=!1;return vw(r,n,a).then(m=>{h||c(m)}),()=>{h=!0}},[r,n,a]),o}function Ow({page:r,matches:n,...a}){let o=Ca(),{manifest:c,routeModules:h}=py(),{basename:m}=my(),{loaderData:v,matches:y}=ww(),_=j.useMemo(()=>mv(r,n,y,c,o,"data"),[r,n,y,c,o]),E=j.useMemo(()=>mv(r,n,y,c,o,"assets"),[r,n,y,c,o]),x=j.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let A=new Set,z=!1;if(n.forEach(P=>{let U=c.routes[P.route.id];!U||!U.hasLoader||(!_.some(q=>q.route.id===P.route.id)&&P.route.id in v&&h[P.route.id]?.shouldRevalidate||U.hasClientLoader?z=!0:A.add(P.route.id))}),A.size===0)return[];let B=mw(r,m,"data");return z&&A.size>0&&B.searchParams.set("_routes",n.filter(P=>A.has(P.route.id)).map(P=>P.route.id).join(",")),[B.pathname+B.search]},[m,v,o,c,_,n,r,h]),O=j.useMemo(()=>yw(E,c),[E,c]),N=Tw(E);return j.createElement(j.Fragment,null,x.map(A=>j.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...a})),O.map(A=>j.createElement("link",{key:A,rel:"modulepreload",href:A,...a})),N.map(({key:A,link:z})=>j.createElement("link",{key:A,nonce:a.nonce,...z})))}function Cw(...r){return n=>{r.forEach(a=>{typeof a=="function"?a(n):a!=null&&(a.current=n)})}}var gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gy&&(window.__reactRouterVersion="7.10.1")}catch{}function Nw({basename:r,children:n,unstable_useTransitions:a,window:o}){let c=j.useRef();c.current==null&&(c.current=hx({window:o,v5Compat:!0}));let h=c.current,[m,v]=j.useState({action:h.action,location:h.location}),y=j.useCallback(_=>{a===!1?v(_):j.startTransition(()=>v(_))},[a]);return j.useLayoutEffect(()=>h.listen(y),[h,y]),j.createElement(aw,{basename:r,children:n,location:m.location,navigationType:m.action,navigator:h,unstable_useTransitions:a===!0})}var vy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Rn=j.forwardRef(function({onClick:n,discover:a="render",prefetch:o="none",relative:c,reloadDocument:h,replace:m,state:v,target:y,to:_,preventScrollReset:E,viewTransition:x,...O},N){let{basename:A,unstable_useTransitions:z}=j.useContext(oi),B=typeof _=="string"&&vy.test(_),P,U=!1;if(typeof _=="string"&&B&&(P=_,gy))try{let ye=new URL(window.location.href),_e=_.startsWith("//")?new URL(ye.protocol+_):new URL(_),be=Oa(_e.pathname,A);_e.origin===ye.origin&&be!=null?_=be+_e.search+_e.hash:U=!0}catch{Gn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=Hx(_,{relative:c}),[te,de,he]=Sw(o,O),le=Lw(_,{replace:m,state:v,target:y,preventScrollReset:E,relative:c,viewTransition:x,unstable_useTransitions:z});function je(ye){n&&n(ye),ye.defaultPrevented||le(ye)}let fe=j.createElement("a",{...O,...he,href:P||q,onClick:U||h?n:je,ref:Cw(N,de),target:y,"data-discover":!B&&a==="render"?"true":void 0});return te&&!B?j.createElement(j.Fragment,null,fe,j.createElement(Ew,{page:q})):fe});Rn.displayName="Link";var Aw=j.forwardRef(function({"aria-current":n="page",caseSensitive:a=!1,className:o="",end:c=!1,style:h,to:m,viewTransition:v,children:y,..._},E){let x=Hl(m,{relative:_.relative}),O=Ca(),N=j.useContext(Rc),{navigator:A,basename:z}=j.useContext(oi),B=N!=null&&Dw(x)&&v===!0,P=A.encodeLocation?A.encodeLocation(x).pathname:x.pathname,U=O.pathname,q=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;a||(U=U.toLowerCase(),q=q?q.toLowerCase():null,P=P.toLowerCase()),q&&z&&(q=Oa(q,z)||q);const te=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let de=U===P||!c&&U.startsWith(P)&&U.charAt(te)==="/",he=q!=null&&(q===P||!c&&q.startsWith(P)&&q.charAt(P.length)==="/"),le={isActive:de,isPending:he,isTransitioning:B},je=de?n:void 0,fe;typeof o=="function"?fe=o(le):fe=[o,de?"active":null,he?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let ye=typeof h=="function"?h(le):h;return j.createElement(Rn,{..._,"aria-current":je,className:fe,ref:E,style:ye,to:m,viewTransition:v},typeof y=="function"?y(le):y)});Aw.displayName="NavLink";var Rw=j.forwardRef(({discover:r="render",fetcherKey:n,navigate:a,reloadDocument:o,replace:c,state:h,method:m=vc,action:v,onSubmit:y,relative:_,preventScrollReset:E,viewTransition:x,...O},N)=>{let{unstable_useTransitions:A}=j.useContext(oi),z=zw(),B=Pw(v,{relative:_}),P=m.toLowerCase()==="get"?"get":"post",U=typeof v=="string"&&vy.test(v),q=te=>{if(y&&y(te),te.defaultPrevented)return;te.preventDefault();let de=te.nativeEvent.submitter,he=de?.getAttribute("formmethod")||m,le=()=>z(de||te.currentTarget,{fetcherKey:n,method:he,navigate:a,replace:c,state:h,relative:_,preventScrollReset:E,viewTransition:x});A&&a!==!1?j.startTransition(()=>le()):le()};return j.createElement("form",{ref:N,method:P,action:B,onSubmit:o?y:q,...O,"data-discover":!U&&r==="render"?"true":void 0})});Rw.displayName="Form";function jw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yy(r){let n=j.useContext(go);return _t(n,jw(r)),n}function Lw(r,{target:n,replace:a,state:o,preventScrollReset:c,relative:h,viewTransition:m,unstable_useTransitions:v}={}){let y=cy(),_=Ca(),E=Hl(r,{relative:h});return j.useCallback(x=>{if(cw(x,n)){x.preventDefault();let O=a!==void 0?a:Ll(_)===Ll(E),N=()=>y(r,{replace:O,state:o,preventScrollReset:c,relative:h,viewTransition:m});v?j.startTransition(()=>N()):N()}},[_,y,E,a,o,n,r,c,h,m,v])}var kw=0,Mw=()=>`__${String(++kw)}__`;function zw(){let{router:r}=yy("useSubmit"),{basename:n}=j.useContext(oi),a=ew(),o=r.fetch,c=r.navigate;return j.useCallback(async(h,m={})=>{let{action:v,method:y,encType:_,formData:E,body:x}=fw(h,n);if(m.navigate===!1){let O=m.fetcherKey||Mw();await o(O,a,m.action||v,{preventScrollReset:m.preventScrollReset,formData:E,body:x,formMethod:m.method||y,formEncType:m.encType||_,flushSync:m.flushSync})}else await c(m.action||v,{preventScrollReset:m.preventScrollReset,formData:E,body:x,formMethod:m.method||y,formEncType:m.encType||_,replace:m.replace,state:m.state,fromRouteId:a,flushSync:m.flushSync,viewTransition:m.viewTransition})},[o,c,n,a])}function Pw(r,{relative:n}={}){let{basename:a}=j.useContext(oi),o=j.useContext(li);_t(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),h={...Hl(r||".",{relative:n})},m=Ca();if(r==null){h.search=m.search;let v=new URLSearchParams(h.search),y=v.getAll("index");if(y.some(E=>E==="")){v.delete("index"),y.filter(x=>x).forEach(x=>v.append("index",x));let E=v.toString();h.search=E?`?${E}`:""}}return(!r||r===".")&&c.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(h.pathname=h.pathname==="/"?a:Ta([a,h.pathname])),Ll(h)}function Dw(r,{relative:n}={}){let a=j.useContext(oy);_t(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=yy("useViewTransitionState"),c=Hl(r,{relative:n});if(!a.isTransitioning)return!1;let h=Oa(a.currentLocation.pathname,o)||a.currentLocation.pathname,m=Oa(a.nextLocation.pathname,o)||a.nextLocation.pathname;return wc(c.pathname,m)!=null||wc(c.pathname,h)!=null}var _y=Kv();const Uw=Gv(_y);function Bw(r){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",n.appendChild(a),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(document.createTextNode(r))}const Hw=r=>{switch(r){case"success":return $w;case"info":return Vw;case"warning":return Zw;case"error":return Gw;default:return null}},Iw=Array(12).fill(0),qw=({visible:r,className:n})=>ue.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":r},ue.createElement("div",{className:"sonner-spinner"},Iw.map((a,o)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${o}`})))),$w=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Zw=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Vw=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Gw=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Kw=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Yw=()=>{const[r,n]=ue.useState(document.hidden);return ue.useEffect(()=>{const a=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),r};let nf=1;class Fw{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{const a=this.subscribers.indexOf(n);this.subscribers.splice(a,1)}),this.publish=n=>{this.subscribers.forEach(a=>a(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var a;const{message:o,...c}=n,h=typeof n?.id=="number"||((a=n.id)==null?void 0:a.length)>0?n.id:nf++,m=this.toasts.find(y=>y.id===h),v=n.dismissible===void 0?!0:n.dismissible;return this.dismissedToasts.has(h)&&this.dismissedToasts.delete(h),m?this.toasts=this.toasts.map(y=>y.id===h?(this.publish({...y,...n,id:h,title:o}),{...y,...n,id:h,dismissible:v,title:o}):y):this.addToast({title:o,...c,dismissible:v,id:h}),h},this.dismiss=n=>(n?(this.dismissedToasts.add(n),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:n,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(o=>o({id:a.id,dismiss:!0}))}),n),this.message=(n,a)=>this.create({...a,message:n}),this.error=(n,a)=>this.create({...a,message:n,type:"error"}),this.success=(n,a)=>this.create({...a,type:"success",message:n}),this.info=(n,a)=>this.create({...a,type:"info",message:n}),this.warning=(n,a)=>this.create({...a,type:"warning",message:n}),this.loading=(n,a)=>this.create({...a,type:"loading",message:n}),this.promise=(n,a)=>{if(!a)return;let o;a.loading!==void 0&&(o=this.create({...a,promise:n,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const c=Promise.resolve(n instanceof Function?n():n);let h=o!==void 0,m;const v=c.then(async _=>{if(m=["resolve",_],ue.isValidElement(_))h=!1,this.create({id:o,type:"default",message:_});else if(Xw(_)&&!_.ok){h=!1;const x=typeof a.error=="function"?await a.error(`HTTP error! status: ${_.status}`):a.error,O=typeof a.description=="function"?await a.description(`HTTP error! status: ${_.status}`):a.description,A=typeof x=="object"&&!ue.isValidElement(x)?x:{message:x};this.create({id:o,type:"error",description:O,...A})}else if(_ instanceof Error){h=!1;const x=typeof a.error=="function"?await a.error(_):a.error,O=typeof a.description=="function"?await a.description(_):a.description,A=typeof x=="object"&&!ue.isValidElement(x)?x:{message:x};this.create({id:o,type:"error",description:O,...A})}else if(a.success!==void 0){h=!1;const x=typeof a.success=="function"?await a.success(_):a.success,O=typeof a.description=="function"?await a.description(_):a.description,A=typeof x=="object"&&!ue.isValidElement(x)?x:{message:x};this.create({id:o,type:"success",description:O,...A})}}).catch(async _=>{if(m=["reject",_],a.error!==void 0){h=!1;const E=typeof a.error=="function"?await a.error(_):a.error,x=typeof a.description=="function"?await a.description(_):a.description,N=typeof E=="object"&&!ue.isValidElement(E)?E:{message:E};this.create({id:o,type:"error",description:x,...N})}}).finally(()=>{h&&(this.dismiss(o),o=void 0),a.finally==null||a.finally.call(a)}),y=()=>new Promise((_,E)=>v.then(()=>m[0]==="reject"?E(m[1]):_(m[1])).catch(E));return typeof o!="string"&&typeof o!="number"?{unwrap:y}:Object.assign(o,{unwrap:y})},this.custom=(n,a)=>{const o=a?.id||nf++;return this.create({jsx:n(o),id:o,...a}),o},this.getActiveToasts=()=>this.toasts.filter(n=>!this.dismissedToasts.has(n.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const An=new Fw,Jw=(r,n)=>{const a=n?.id||nf++;return An.addToast({title:r,...n,id:a}),a},Xw=r=>r&&typeof r=="object"&&"ok"in r&&typeof r.ok=="boolean"&&"status"in r&&typeof r.status=="number",Qw=Jw,Ww=()=>An.toasts,e1=()=>An.getActiveToasts(),Nl=Object.assign(Qw,{success:An.success,info:An.info,warning:An.warning,error:An.error,custom:An.custom,message:An.message,promise:An.promise,dismiss:An.dismiss,loading:An.loading},{getHistory:Ww,getToasts:e1});Bw("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function dc(r){return r.label!==void 0}const t1=3,n1="24px",i1="16px",pv=4e3,a1=356,s1=14,r1=45,o1=200;function Ki(...r){return r.filter(Boolean).join(" ")}function l1(r){const[n,a]=r.split("-"),o=[];return n&&o.push(n),a&&o.push(a),o}const u1=r=>{var n,a,o,c,h,m,v,y,_;const{invert:E,toast:x,unstyled:O,interacting:N,setHeights:A,visibleToasts:z,heights:B,index:P,toasts:U,expanded:q,removeToast:te,defaultRichColors:de,closeButton:he,style:le,cancelButtonStyle:je,actionButtonStyle:fe,className:ye="",descriptionClassName:_e="",duration:be,position:He,gap:De,expandByDefault:at,classNames:I,icons:ne,closeButtonAriaLabel:ae="Close toast"}=r,[Le,re]=ue.useState(null),[R,Y]=ue.useState(null),[J,ie]=ue.useState(!1),[se,oe]=ue.useState(!1),[Ne,Ee]=ue.useState(!1),[ge,Fe]=ue.useState(!1),[gt,sn]=ue.useState(!1),[Aa,Ln]=ue.useState(0),[Ra,Fi]=ue.useState(0),ui=ue.useRef(x.duration||be||pv),Ti=ue.useRef(null),dn=ue.useRef(null),ja=P===0,Ji=P+1<=z,$t=x.type,ci=x.dismissible!==!1,Jt=x.className||"",_o=x.descriptionClassName||"",hi=ue.useMemo(()=>B.findIndex(Re=>Re.toastId===x.id)||0,[B,x.id]),vs=ue.useMemo(()=>{var Re;return(Re=x.closeButton)!=null?Re:he},[x.closeButton,he]),Oi=ue.useMemo(()=>x.duration||be||pv,[x.duration,be]),ys=ue.useRef(0),Kn=ue.useRef(0),_s=ue.useRef(0),Ci=ue.useRef(null),[Ni,Ut]=He.split("-"),vn=ue.useMemo(()=>B.reduce((Re,dt,At)=>At>=hi?Re:Re+dt.height,0),[B,hi]),Zt=Yw(),Xi=x.invert||E,bs=$t==="loading";Kn.current=ue.useMemo(()=>hi*De+vn,[hi,vn]),ue.useEffect(()=>{ui.current=Oi},[Oi]),ue.useEffect(()=>{ie(!0)},[]),ue.useEffect(()=>{const Re=dn.current;if(Re){const dt=Re.getBoundingClientRect().height;return Fi(dt),A(At=>[{toastId:x.id,height:dt,position:x.position},...At]),()=>A(At=>At.filter(Vt=>Vt.toastId!==x.id))}},[A,x.id]),ue.useLayoutEffect(()=>{if(!J)return;const Re=dn.current,dt=Re.style.height;Re.style.height="auto";const At=Re.getBoundingClientRect().height;Re.style.height=dt,Fi(At),A(Vt=>Vt.find(ut=>ut.toastId===x.id)?Vt.map(ut=>ut.toastId===x.id?{...ut,height:At}:ut):[{toastId:x.id,height:At,position:x.position},...Vt])},[J,x.title,x.description,A,x.id,x.jsx,x.action,x.cancel]);const Yn=ue.useCallback(()=>{oe(!0),Ln(Kn.current),A(Re=>Re.filter(dt=>dt.toastId!==x.id)),setTimeout(()=>{te(x)},o1)},[x,te,A,Kn]);ue.useEffect(()=>{if(x.promise&&$t==="loading"||x.duration===1/0||x.type==="loading")return;let Re;return q||N||Zt?(()=>{if(_s.current<ys.current){const Vt=new Date().getTime()-ys.current;ui.current=ui.current-Vt}_s.current=new Date().getTime()})():ui.current!==1/0&&(ys.current=new Date().getTime(),Re=setTimeout(()=>{x.onAutoClose==null||x.onAutoClose.call(x,x),Yn()},ui.current)),()=>clearTimeout(Re)},[q,N,x,$t,Zt,Yn]),ue.useEffect(()=>{x.delete&&(Yn(),x.onDismiss==null||x.onDismiss.call(x,x))},[Yn,x.delete]);function Qi(){var Re;if(ne?.loading){var dt;return ue.createElement("div",{className:Ki(I?.loader,x==null||(dt=x.classNames)==null?void 0:dt.loader,"sonner-loader"),"data-visible":$t==="loading"},ne.loading)}return ue.createElement(qw,{className:Ki(I?.loader,x==null||(Re=x.classNames)==null?void 0:Re.loader),visible:$t==="loading"})}const Wi=x.icon||ne?.[$t]||Hw($t);var Ai,Fn;return ue.createElement("li",{tabIndex:0,ref:dn,className:Ki(ye,Jt,I?.toast,x==null||(n=x.classNames)==null?void 0:n.toast,I?.default,I?.[$t],x==null||(a=x.classNames)==null?void 0:a[$t]),"data-sonner-toast":"","data-rich-colors":(Ai=x.richColors)!=null?Ai:de,"data-styled":!(x.jsx||x.unstyled||O),"data-mounted":J,"data-promise":!!x.promise,"data-swiped":gt,"data-removed":se,"data-visible":Ji,"data-y-position":Ni,"data-x-position":Ut,"data-index":P,"data-front":ja,"data-swiping":Ne,"data-dismissible":ci,"data-type":$t,"data-invert":Xi,"data-swipe-out":ge,"data-swipe-direction":R,"data-expanded":!!(q||at&&J),"data-testid":x.testId,style:{"--index":P,"--toasts-before":P,"--z-index":U.length-P,"--offset":`${se?Aa:Kn.current}px`,"--initial-height":at?"auto":`${Ra}px`,...le,...x.style},onDragEnd:()=>{Ee(!1),re(null),Ci.current=null},onPointerDown:Re=>{Re.button!==2&&(bs||!ci||(Ti.current=new Date,Ln(Kn.current),Re.target.setPointerCapture(Re.pointerId),Re.target.tagName!=="BUTTON"&&(Ee(!0),Ci.current={x:Re.clientX,y:Re.clientY})))},onPointerUp:()=>{var Re,dt,At;if(ge||!ci)return;Ci.current=null;const Vt=Number(((Re=dn.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ri=Number(((dt=dn.current)==null?void 0:dt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ut=new Date().getTime()-((At=Ti.current)==null?void 0:At.getTime()),rn=Le==="x"?Vt:Ri,ea=Math.abs(rn)/ut;if(Math.abs(rn)>=r1||ea>.11){Ln(Kn.current),x.onDismiss==null||x.onDismiss.call(x,x),Y(Le==="x"?Vt>0?"right":"left":Ri>0?"down":"up"),Yn(),Fe(!0);return}else{var on,ln;(on=dn.current)==null||on.style.setProperty("--swipe-amount-x","0px"),(ln=dn.current)==null||ln.style.setProperty("--swipe-amount-y","0px")}sn(!1),Ee(!1),re(null)},onPointerMove:Re=>{var dt,At,Vt;if(!Ci.current||!ci||((dt=window.getSelection())==null?void 0:dt.toString().length)>0)return;const ut=Re.clientY-Ci.current.y,rn=Re.clientX-Ci.current.x;var ea;const on=(ea=r.swipeDirections)!=null?ea:l1(He);!Le&&(Math.abs(rn)>1||Math.abs(ut)>1)&&re(Math.abs(rn)>Math.abs(ut)?"x":"y");let ln={x:0,y:0};const Xt=me=>1/(1.5+Math.abs(me)/20);if(Le==="y"){if(on.includes("top")||on.includes("bottom"))if(on.includes("top")&&ut<0||on.includes("bottom")&&ut>0)ln.y=ut;else{const me=ut*Xt(ut);ln.y=Math.abs(me)<Math.abs(ut)?me:ut}}else if(Le==="x"&&(on.includes("left")||on.includes("right")))if(on.includes("left")&&rn<0||on.includes("right")&&rn>0)ln.x=rn;else{const me=rn*Xt(rn);ln.x=Math.abs(me)<Math.abs(rn)?me:rn}(Math.abs(ln.x)>0||Math.abs(ln.y)>0)&&sn(!0),(At=dn.current)==null||At.style.setProperty("--swipe-amount-x",`${ln.x}px`),(Vt=dn.current)==null||Vt.style.setProperty("--swipe-amount-y",`${ln.y}px`)}},vs&&!x.jsx&&$t!=="loading"?ue.createElement("button",{"aria-label":ae,"data-disabled":bs,"data-close-button":!0,onClick:bs||!ci?()=>{}:()=>{Yn(),x.onDismiss==null||x.onDismiss.call(x,x)},className:Ki(I?.closeButton,x==null||(o=x.classNames)==null?void 0:o.closeButton)},(Fn=ne?.close)!=null?Fn:Kw):null,($t||x.icon||x.promise)&&x.icon!==null&&(ne?.[$t]!==null||x.icon)?ue.createElement("div",{"data-icon":"",className:Ki(I?.icon,x==null||(c=x.classNames)==null?void 0:c.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||Qi():null,x.type!=="loading"?Wi:null):null,ue.createElement("div",{"data-content":"",className:Ki(I?.content,x==null||(h=x.classNames)==null?void 0:h.content)},ue.createElement("div",{"data-title":"",className:Ki(I?.title,x==null||(m=x.classNames)==null?void 0:m.title)},x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title),x.description?ue.createElement("div",{"data-description":"",className:Ki(_e,_o,I?.description,x==null||(v=x.classNames)==null?void 0:v.description)},typeof x.description=="function"?x.description():x.description):null),ue.isValidElement(x.cancel)?x.cancel:x.cancel&&dc(x.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||je,onClick:Re=>{dc(x.cancel)&&ci&&(x.cancel.onClick==null||x.cancel.onClick.call(x.cancel,Re),Yn())},className:Ki(I?.cancelButton,x==null||(y=x.classNames)==null?void 0:y.cancelButton)},x.cancel.label):null,ue.isValidElement(x.action)?x.action:x.action&&dc(x.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||fe,onClick:Re=>{dc(x.action)&&(x.action.onClick==null||x.action.onClick.call(x.action,Re),!Re.defaultPrevented&&Yn())},className:Ki(I?.actionButton,x==null||(_=x.classNames)==null?void 0:_.actionButton)},x.action.label):null)};function gv(){if(typeof window>"u"||typeof document>"u")return"ltr";const r=document.documentElement.getAttribute("dir");return r==="auto"||!r?window.getComputedStyle(document.documentElement).direction:r}function c1(r,n){const a={};return[r,n].forEach((o,c)=>{const h=c===1,m=h?"--mobile-offset":"--offset",v=h?i1:n1;function y(_){["top","right","bottom","left"].forEach(E=>{a[`${m}-${E}`]=typeof _=="number"?`${_}px`:_})}typeof o=="number"||typeof o=="string"?y(o):typeof o=="object"?["top","right","bottom","left"].forEach(_=>{o[_]===void 0?a[`${m}-${_}`]=v:a[`${m}-${_}`]=typeof o[_]=="number"?`${o[_]}px`:o[_]}):y(v)}),a}const h1=ue.forwardRef(function(n,a){const{id:o,invert:c,position:h="bottom-right",hotkey:m=["altKey","KeyT"],expand:v,closeButton:y,className:_,offset:E,mobileOffset:x,theme:O="light",richColors:N,duration:A,style:z,visibleToasts:B=t1,toastOptions:P,dir:U=gv(),gap:q=s1,icons:te,containerAriaLabel:de="Notifications"}=n,[he,le]=ue.useState([]),je=ue.useMemo(()=>o?he.filter(J=>J.toasterId===o):he.filter(J=>!J.toasterId),[he,o]),fe=ue.useMemo(()=>Array.from(new Set([h].concat(je.filter(J=>J.position).map(J=>J.position)))),[je,h]),[ye,_e]=ue.useState([]),[be,He]=ue.useState(!1),[De,at]=ue.useState(!1),[I,ne]=ue.useState(O!=="system"?O:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ae=ue.useRef(null),Le=m.join("+").replace(/Key/g,"").replace(/Digit/g,""),re=ue.useRef(null),R=ue.useRef(!1),Y=ue.useCallback(J=>{le(ie=>{var se;return(se=ie.find(oe=>oe.id===J.id))!=null&&se.delete||An.dismiss(J.id),ie.filter(({id:oe})=>oe!==J.id)})},[]);return ue.useEffect(()=>An.subscribe(J=>{if(J.dismiss){requestAnimationFrame(()=>{le(ie=>ie.map(se=>se.id===J.id?{...se,delete:!0}:se))});return}setTimeout(()=>{Uw.flushSync(()=>{le(ie=>{const se=ie.findIndex(oe=>oe.id===J.id);return se!==-1?[...ie.slice(0,se),{...ie[se],...J},...ie.slice(se+1)]:[J,...ie]})})})}),[he]),ue.useEffect(()=>{if(O!=="system"){ne(O);return}if(O==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;const J=window.matchMedia("(prefers-color-scheme: dark)");try{J.addEventListener("change",({matches:ie})=>{ne(ie?"dark":"light")})}catch{J.addListener(({matches:se})=>{try{ne(se?"dark":"light")}catch(oe){console.error(oe)}})}},[O]),ue.useEffect(()=>{he.length<=1&&He(!1)},[he]),ue.useEffect(()=>{const J=ie=>{var se;if(m.every(Ee=>ie[Ee]||ie.code===Ee)){var Ne;He(!0),(Ne=ae.current)==null||Ne.focus()}ie.code==="Escape"&&(document.activeElement===ae.current||(se=ae.current)!=null&&se.contains(document.activeElement))&&He(!1)};return document.addEventListener("keydown",J),()=>document.removeEventListener("keydown",J)},[m]),ue.useEffect(()=>{if(ae.current)return()=>{re.current&&(re.current.focus({preventScroll:!0}),re.current=null,R.current=!1)}},[ae.current]),ue.createElement("section",{ref:a,"aria-label":`${de} ${Le}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},fe.map((J,ie)=>{var se;const[oe,Ne]=J.split("-");return je.length?ue.createElement("ol",{key:J,dir:U==="auto"?gv():U,tabIndex:-1,ref:ae,className:_,"data-sonner-toaster":!0,"data-sonner-theme":I,"data-y-position":oe,"data-x-position":Ne,style:{"--front-toast-height":`${((se=ye[0])==null?void 0:se.height)||0}px`,"--width":`${a1}px`,"--gap":`${q}px`,...z,...c1(E,x)},onBlur:Ee=>{R.current&&!Ee.currentTarget.contains(Ee.relatedTarget)&&(R.current=!1,re.current&&(re.current.focus({preventScroll:!0}),re.current=null))},onFocus:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||R.current||(R.current=!0,re.current=Ee.relatedTarget)},onMouseEnter:()=>He(!0),onMouseMove:()=>He(!0),onMouseLeave:()=>{De||He(!1)},onDragEnd:()=>He(!1),onPointerDown:Ee=>{Ee.target instanceof HTMLElement&&Ee.target.dataset.dismissible==="false"||at(!0)},onPointerUp:()=>at(!1)},je.filter(Ee=>!Ee.position&&ie===0||Ee.position===J).map((Ee,ge)=>{var Fe,gt;return ue.createElement(u1,{key:Ee.id,icons:te,index:ge,toast:Ee,defaultRichColors:N,duration:(Fe=P?.duration)!=null?Fe:A,className:P?.className,descriptionClassName:P?.descriptionClassName,invert:c,visibleToasts:B,closeButton:(gt=P?.closeButton)!=null?gt:y,interacting:De,position:J,style:P?.style,unstyled:P?.unstyled,classNames:P?.classNames,cancelButtonStyle:P?.cancelButtonStyle,actionButtonStyle:P?.actionButtonStyle,closeButtonAriaLabel:P?.closeButtonAriaLabel,removeToast:Y,toasts:je.filter(sn=>sn.position==Ee.position),heights:ye.filter(sn=>sn.position==Ee.position),setHeights:_e,expandByDefault:v,gap:q,expanded:be,swipeDirections:n.swipeDirections})})):null}))});function Lc(r,n){var a={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.indexOf(o)<0&&(a[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(r);c<o.length;c++)n.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(r,o[c])&&(a[o[c]]=r[o[c]]);return a}function d1(r,n,a,o){function c(h){return h instanceof a?h:new a(function(m){m(h)})}return new(a||(a=Promise))(function(h,m){function v(E){try{_(o.next(E))}catch(x){m(x)}}function y(E){try{_(o.throw(E))}catch(x){m(x)}}function _(E){E.done?h(E.value):c(E.value).then(v,y)}_((o=o.apply(r,n||[])).next())})}const f1=r=>r?(...n)=>r(...n):(...n)=>fetch(...n);class Ef extends Error{constructor(n,a="FunctionsError",o){super(n),this.name=a,this.context=o}}class m1 extends Ef{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class vv extends Ef{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class yv extends Ef{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var af;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(af||(af={}));class p1{constructor(n,{headers:a={},customFetch:o,region:c=af.Any}={}){this.url=n,this.headers=a,this.region=c,this.fetch=f1(o)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return d1(this,arguments,void 0,function*(a,o={}){var c;let h,m;try{const{headers:v,method:y,body:_,signal:E,timeout:x}=o;let O={},{region:N}=o;N||(N=this.region);const A=new URL(`${this.url}/${a}`);N&&N!=="any"&&(O["x-region"]=N,A.searchParams.set("forceFunctionRegion",N));let z;_&&(v&&!Object.prototype.hasOwnProperty.call(v,"Content-Type")||!v)?typeof Blob<"u"&&_ instanceof Blob||_ instanceof ArrayBuffer?(O["Content-Type"]="application/octet-stream",z=_):typeof _=="string"?(O["Content-Type"]="text/plain",z=_):typeof FormData<"u"&&_ instanceof FormData?z=_:(O["Content-Type"]="application/json",z=JSON.stringify(_)):z=_;let B=E;x&&(m=new AbortController,h=setTimeout(()=>m.abort(),x),E?(B=m.signal,E.addEventListener("abort",()=>m.abort())):B=m.signal);const P=yield this.fetch(A.toString(),{method:y||"POST",headers:Object.assign(Object.assign(Object.assign({},O),this.headers),v),body:z,signal:B}).catch(de=>{throw new m1(de)}),U=P.headers.get("x-relay-error");if(U&&U==="true")throw new vv(P);if(!P.ok)throw new yv(P);let q=((c=P.headers.get("Content-Type"))!==null&&c!==void 0?c:"text/plain").split(";")[0].trim(),te;return q==="application/json"?te=yield P.json():q==="application/octet-stream"||q==="application/pdf"?te=yield P.blob():q==="text/event-stream"?te=P:q==="multipart/form-data"?te=yield P.formData():te=yield P.text(),{data:te,error:null,response:P}}catch(v){return{data:null,error:v,response:v instanceof yv||v instanceof vv?v.context:void 0}}finally{h&&clearTimeout(h)}})}}var g1=class extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}},v1=class{constructor(r){var n,a;this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=new Headers(r.headers),this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=(n=r.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=r.signal,this.isMaybeSingle=(a=r.isMaybeSingle)!==null&&a!==void 0?a:!1,r.fetch?this.fetch=r.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,n){return this.headers=new Headers(this.headers),this.headers.set(r,n),this}then(r,n){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let c=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{let m=null,v=null,y=null,_=h.status,E=h.statusText;if(h.ok){var x,O;if(a.method!=="HEAD"){var N;const P=await h.text();P===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((N=a.headers.get("Accept"))===null||N===void 0)&&N.includes("application/vnd.pgrst.plan+text"))?v=P:v=JSON.parse(P))}const z=(x=a.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),B=(O=h.headers.get("content-range"))===null||O===void 0?void 0:O.split("/");z&&B&&B.length>1&&(y=parseInt(B[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(v)&&(v.length>1?(m={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,y=null,_=406,E="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{var A;const z=await h.text();try{m=JSON.parse(z),Array.isArray(m)&&h.status===404&&(v=[],m=null,_=200,E="OK")}catch{h.status===404&&z===""?(_=204,E="No Content"):m={message:z}}if(m&&a.isMaybeSingle&&(!(m==null||(A=m.details)===null||A===void 0)&&A.includes("0 rows"))&&(m=null,_=200,E="OK"),m&&a.shouldThrowOnError)throw new g1(m)}return{error:m,data:v,count:y,status:_,statusText:E}});return this.shouldThrowOnError||(c=c.catch(h=>{var m;let v="";const y=h?.cause;if(y){var _,E,x,O;const A=(_=y?.message)!==null&&_!==void 0?_:"",z=(E=y?.code)!==null&&E!==void 0?E:"";v=`${(x=h?.name)!==null&&x!==void 0?x:"FetchError"}: ${h?.message}`,v+=`

Caused by: ${(O=y?.name)!==null&&O!==void 0?O:"Error"}: ${A}`,z&&(v+=` (${z})`),y?.stack&&(v+=`
${y.stack}`)}else{var N;v=(N=h?.stack)!==null&&N!==void 0?N:""}return{error:{message:`${(m=h?.name)!==null&&m!==void 0?m:"FetchError"}: ${h?.message}`,details:v,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),c.then(r,n)}returns(){return this}overrideTypes(){return this}},y1=class extends v1{select(r){let n=!1;const a=(r??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:n=!0,nullsFirst:a,foreignTable:o,referencedTable:c=o}={}){const h=c?`${c}.order`:"order",m=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${m?`${m},`:""}${r}.${n?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:n,referencedTable:a=n}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${r}`),this}range(r,n,{foreignTable:a,referencedTable:o=a}={}){const c=typeof o>"u"?"offset":`${o}.offset`,h=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(c,`${r}`),this.url.searchParams.set(h,`${n-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:n=!1,settings:a=!1,buffers:o=!1,wal:c=!1,format:h="text"}={}){var m;const v=[r?"analyze":null,n?"verbose":null,a?"settings":null,o?"buffers":null,c?"wal":null].filter(Boolean).join("|"),y=(m=this.headers.get("Accept"))!==null&&m!==void 0?m:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${y}"; options=${v};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}};const _v=new RegExp("[,()]");var uo=class extends y1{eq(r,n){return this.url.searchParams.append(r,`eq.${n}`),this}neq(r,n){return this.url.searchParams.append(r,`neq.${n}`),this}gt(r,n){return this.url.searchParams.append(r,`gt.${n}`),this}gte(r,n){return this.url.searchParams.append(r,`gte.${n}`),this}lt(r,n){return this.url.searchParams.append(r,`lt.${n}`),this}lte(r,n){return this.url.searchParams.append(r,`lte.${n}`),this}like(r,n){return this.url.searchParams.append(r,`like.${n}`),this}likeAllOf(r,n){return this.url.searchParams.append(r,`like(all).{${n.join(",")}}`),this}likeAnyOf(r,n){return this.url.searchParams.append(r,`like(any).{${n.join(",")}}`),this}ilike(r,n){return this.url.searchParams.append(r,`ilike.${n}`),this}ilikeAllOf(r,n){return this.url.searchParams.append(r,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(r,n){return this.url.searchParams.append(r,`ilike(any).{${n.join(",")}}`),this}regexMatch(r,n){return this.url.searchParams.append(r,`match.${n}`),this}regexIMatch(r,n){return this.url.searchParams.append(r,`imatch.${n}`),this}is(r,n){return this.url.searchParams.append(r,`is.${n}`),this}isDistinct(r,n){return this.url.searchParams.append(r,`isdistinct.${n}`),this}in(r,n){const a=Array.from(new Set(n)).map(o=>typeof o=="string"&&_v.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(r,`in.(${a})`),this}notIn(r,n){const a=Array.from(new Set(n)).map(o=>typeof o=="string"&&_v.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(r,`not.in.(${a})`),this}contains(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cs.{${n.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(n)}`),this}containedBy(r,n){return typeof n=="string"?this.url.searchParams.append(r,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(r,`cd.{${n.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(n)}`),this}rangeGt(r,n){return this.url.searchParams.append(r,`sr.${n}`),this}rangeGte(r,n){return this.url.searchParams.append(r,`nxl.${n}`),this}rangeLt(r,n){return this.url.searchParams.append(r,`sl.${n}`),this}rangeLte(r,n){return this.url.searchParams.append(r,`nxr.${n}`),this}rangeAdjacent(r,n){return this.url.searchParams.append(r,`adj.${n}`),this}overlaps(r,n){return typeof n=="string"?this.url.searchParams.append(r,`ov.${n}`):this.url.searchParams.append(r,`ov.{${n.join(",")}}`),this}textSearch(r,n,{config:a,type:o}={}){let c="";o==="plain"?c="pl":o==="phrase"?c="ph":o==="websearch"&&(c="w");const h=a===void 0?"":`(${a})`;return this.url.searchParams.append(r,`${c}fts${h}.${n}`),this}match(r){return Object.entries(r).forEach(([n,a])=>{this.url.searchParams.append(n,`eq.${a}`)}),this}not(r,n,a){return this.url.searchParams.append(r,`not.${n}.${a}`),this}or(r,{foreignTable:n,referencedTable:a=n}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${r})`),this}filter(r,n,a){return this.url.searchParams.append(r,`${n}.${a}`),this}},_1=class{constructor(r,{headers:n={},schema:a,fetch:o}){this.url=r,this.headers=new Headers(n),this.schema=a,this.fetch=o}select(r,n){const{head:a=!1,count:o}=n??{},c=a?"HEAD":"GET";let h=!1;const m=(r??"*").split("").map(v=>/\s/.test(v)&&!h?"":(v==='"'&&(h=!h),v)).join("");return this.url.searchParams.set("select",m),o&&this.headers.append("Prefer",`count=${o}`),new uo({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:n,defaultToNull:a=!0}={}){var o;const c="POST";if(n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const h=r.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(h.length>0){const m=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new uo({method:c,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(r,{onConflict:n,ignoreDuplicates:a=!1,count:o,defaultToNull:c=!0}={}){var h;const m="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const v=r.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(v.length>0){const y=[...new Set(v)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new uo({method:m,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(r,{count:n}={}){var a;const o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new uo({method:o,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:r}={}){var n;const a="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new uo({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},b1=class by{constructor(n,{headers:a={},schema:o,fetch:c}={}){this.url=n,this.headers=new Headers(a),this.schemaName=o,this.fetch=c}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new _1(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new by(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,a={},{head:o=!1,get:c=!1,count:h}={}){var m;let v;const y=new URL(`${this.url}/rpc/${n}`);let _;o||c?(v=o?"HEAD":"GET",Object.entries(a).filter(([x,O])=>O!==void 0).map(([x,O])=>[x,Array.isArray(O)?`{${O.join(",")}}`:`${O}`]).forEach(([x,O])=>{y.searchParams.append(x,O)})):(v="POST",_=a);const E=new Headers(this.headers);return h&&E.set("Prefer",`count=${h}`),new uo({method:v,url:y,headers:E,schema:this.schemaName,body:_,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}};class x1{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const a=process.versions;if(a&&a.node){const o=a.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let a=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(a+=`

Suggested solution: ${n.workaround}`),new Error(a)}static createWebSocket(n,a){const o=this.getWebSocketConstructor();return new o(n,a)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const w1="2.88.0",S1=`realtime-js/${w1}`,xy="1.0.0",E1="2.0.0",bv=xy,sf=1e4,T1=1e3,O1=100;var ps;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ps||(ps={}));var qt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(qt||(qt={}));var Ei;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ei||(Ei={}));var rf;(function(r){r.websocket="websocket"})(rf||(rf={}));var sr;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(sr||(sr={}));class C1{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,a){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(n));let o=[n.join_ref,n.ref,n.topic,n.event,n.payload];return a(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(n){var a;return this._isArrayBuffer((a=n.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var a,o;const c=(o=(a=n.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,c)}_encodeJsonUserBroadcastPush(n){var a,o;const c=(o=(a=n.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:{},m=new TextEncoder().encode(JSON.stringify(c)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,m)}_encodeUserBroadcastPush(n,a,o){var c,h;const m=n.topic,v=(c=n.ref)!==null&&c!==void 0?c:"",y=(h=n.join_ref)!==null&&h!==void 0?h:"",_=n.payload.event,E=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},x=Object.keys(E).length===0?"":JSON.stringify(E);if(y.length>255)throw new Error(`joinRef length ${y.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`ref length ${v.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`topic length ${m.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`userEvent length ${_.length} exceeds maximum of 255`);if(x.length>255)throw new Error(`metadata length ${x.length} exceeds maximum of 255`);const O=this.USER_BROADCAST_PUSH_META_LENGTH+y.length+v.length+m.length+_.length+x.length,N=new ArrayBuffer(this.HEADER_LENGTH+O);let A=new DataView(N),z=0;A.setUint8(z++,this.KINDS.userBroadcastPush),A.setUint8(z++,y.length),A.setUint8(z++,v.length),A.setUint8(z++,m.length),A.setUint8(z++,_.length),A.setUint8(z++,x.length),A.setUint8(z++,a),Array.from(y,P=>A.setUint8(z++,P.charCodeAt(0))),Array.from(v,P=>A.setUint8(z++,P.charCodeAt(0))),Array.from(m,P=>A.setUint8(z++,P.charCodeAt(0))),Array.from(_,P=>A.setUint8(z++,P.charCodeAt(0))),Array.from(x,P=>A.setUint8(z++,P.charCodeAt(0)));var B=new Uint8Array(N.byteLength+o.byteLength);return B.set(new Uint8Array(N),0),B.set(new Uint8Array(o),N.byteLength),B.buffer}decode(n,a){if(this._isArrayBuffer(n)){let o=this._binaryDecode(n);return a(o)}if(typeof n=="string"){const o=JSON.parse(n),[c,h,m,v,y]=o;return a({join_ref:c,ref:h,topic:m,event:v,payload:y})}return a({})}_binaryDecode(n){const a=new DataView(n),o=a.getUint8(0),c=new TextDecoder;if(o===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,a,c)}_decodeUserBroadcast(n,a,o){const c=a.getUint8(1),h=a.getUint8(2),m=a.getUint8(3),v=a.getUint8(4);let y=this.HEADER_LENGTH+4;const _=o.decode(n.slice(y,y+c));y=y+c;const E=o.decode(n.slice(y,y+h));y=y+h;const x=o.decode(n.slice(y,y+m));y=y+m;const O=n.slice(y,n.byteLength),N=v===this.JSON_ENCODING?JSON.parse(o.decode(O)):O,A={type:this.BROADCAST_EVENT,event:E,payload:N};return m>0&&(A.meta=JSON.parse(x)),{join_ref:null,ref:null,topic:_,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(n){var a;return n instanceof ArrayBuffer||((a=n?.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(n,a){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([o])=>a.includes(o)))}}class wy{constructor(n,a){this.callback=n,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ft;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(ft||(ft={}));const xv=(r,n,a={})=>{var o;const c=(o=a.skipTypes)!==null&&o!==void 0?o:[];return n?Object.keys(n).reduce((h,m)=>(h[m]=N1(m,r,n,c),h),{}):{}},N1=(r,n,a,o)=>{const c=n.find(v=>v.name===r),h=c?.type,m=a[r];return h&&!o.includes(h)?Sy(h,m):of(m)},Sy=(r,n)=>{if(r.charAt(0)==="_"){const a=r.slice(1,r.length);return L1(n,a)}switch(r){case ft.bool:return A1(n);case ft.float4:case ft.float8:case ft.int2:case ft.int4:case ft.int8:case ft.numeric:case ft.oid:return R1(n);case ft.json:case ft.jsonb:return j1(n);case ft.timestamp:return k1(n);case ft.abstime:case ft.date:case ft.daterange:case ft.int4range:case ft.int8range:case ft.money:case ft.reltime:case ft.text:case ft.time:case ft.timestamptz:case ft.timetz:case ft.tsrange:case ft.tstzrange:return of(n);default:return of(n)}},of=r=>r,A1=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},R1=r=>{if(typeof r=="string"){const n=parseFloat(r);if(!Number.isNaN(n))return n}return r},j1=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch{return r}return r},L1=(r,n)=>{if(typeof r!="string")return r;const a=r.length-1,o=r[a];if(r[0]==="{"&&o==="}"){let h;const m=r.slice(1,a);try{h=JSON.parse("["+m+"]")}catch{h=m?m.split(","):[]}return h.map(v=>Sy(n,v))}return r},k1=r=>typeof r=="string"?r.replace(" ","T"):r,Ey=r=>{const n=new URL(r);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Hd{constructor(n,a,o={},c=sf){this.channel=n,this.event=a,this.payload=o,this.timeout=c,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,a){var o;return this._hasReceived(n)&&a((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:n,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:a}){this.recHooks.filter(o=>o.status===n).forEach(o=>o.callback(a))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var wv;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(wv||(wv={}));class Al{constructor(n,a){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},c=>{const{onJoin:h,onLeave:m,onSync:v}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Al.syncState(this.state,c,h,m),this.pendingDiffs.forEach(y=>{this.state=Al.syncDiff(this.state,y,h,m)}),this.pendingDiffs=[],v()}),this.channel._on(o.diff,{},c=>{const{onJoin:h,onLeave:m,onSync:v}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(c):(this.state=Al.syncDiff(this.state,c,h,m),v())}),this.onJoin((c,h,m)=>{this.channel._trigger("presence",{event:"join",key:c,currentPresences:h,newPresences:m})}),this.onLeave((c,h,m)=>{this.channel._trigger("presence",{event:"leave",key:c,currentPresences:h,leftPresences:m})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,a,o,c){const h=this.cloneDeep(n),m=this.transformState(a),v={},y={};return this.map(h,(_,E)=>{m[_]||(y[_]=E)}),this.map(m,(_,E)=>{const x=h[_];if(x){const O=E.map(B=>B.presence_ref),N=x.map(B=>B.presence_ref),A=E.filter(B=>N.indexOf(B.presence_ref)<0),z=x.filter(B=>O.indexOf(B.presence_ref)<0);A.length>0&&(v[_]=A),z.length>0&&(y[_]=z)}else v[_]=E}),this.syncDiff(h,{joins:v,leaves:y},o,c)}static syncDiff(n,a,o,c){const{joins:h,leaves:m}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return o||(o=()=>{}),c||(c=()=>{}),this.map(h,(v,y)=>{var _;const E=(_=n[v])!==null&&_!==void 0?_:[];if(n[v]=this.cloneDeep(y),E.length>0){const x=n[v].map(N=>N.presence_ref),O=E.filter(N=>x.indexOf(N.presence_ref)<0);n[v].unshift(...O)}o(v,E,y)}),this.map(m,(v,y)=>{let _=n[v];if(!_)return;const E=y.map(x=>x.presence_ref);_=_.filter(x=>E.indexOf(x.presence_ref)<0),n[v]=_,c(v,_,y),_.length===0&&delete n[v]}),n}static map(n,a){return Object.getOwnPropertyNames(n).map(o=>a(o,n[o]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((a,o)=>{const c=n[o];return"metas"in c?a[o]=c.metas.map(h=>(h.presence_ref=h.phx_ref,delete h.phx_ref,delete h.phx_ref_prev,h)):a[o]=c,a},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sv;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(Sv||(Sv={}));var Rl;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(Rl||(Rl={}));var Ea;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Ea||(Ea={}));class fo{constructor(n,a={config:{}},o){var c,h;if(this.topic=n,this.params=a,this.socket=o,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Hd(this,Ei.join,this.params,this.timeout),this.rejoinTimer=new wy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(m=>m.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",m=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,m),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ei.reply,{},(m,v)=>{this._trigger(this._replyEventName(v),m)}),this.presence=new Al(this),this.broadcastEndpointURL=Ey(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((h=(c=this.params.config)===null||c===void 0?void 0:c.broadcast)===null||h===void 0)&&h.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,a=this.timeout){var o,c,h;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:m,presence:v,private:y}}=this.params,_=(c=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(N=>N.filter))!==null&&c!==void 0?c:[],E=!!this.bindings[Rl.PRESENCE]&&this.bindings[Rl.PRESENCE].length>0||((h=this.params.config.presence)===null||h===void 0?void 0:h.enabled)===!0,x={},O={broadcast:m,presence:Object.assign(Object.assign({},v),{enabled:E}),postgres_changes:_,private:y};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(N=>n?.(Ea.CHANNEL_ERROR,N)),this._onClose(()=>n?.(Ea.CLOSED)),this.updateJoinPayload(Object.assign({config:O},x)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:N})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),N===void 0){n?.(Ea.SUBSCRIBED);return}else{const z=this.bindings.postgres_changes,B=(A=z?.length)!==null&&A!==void 0?A:0,P=[];for(let U=0;U<B;U++){const q=z[U],{filter:{event:te,schema:de,table:he,filter:le}}=q,je=N&&N[U];if(je&&je.event===te&&fo.isFilterValueEqual(je.schema,de)&&fo.isFilterValueEqual(je.table,he)&&fo.isFilterValueEqual(je.filter,le))P.push(Object.assign(Object.assign({},q),{id:je.id}));else{this.unsubscribe(),this.state=qt.errored,n?.(Ea.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,n&&n(Ea.SUBSCRIBED);return}}).receive("error",N=>{this.state=qt.errored,n?.(Ea.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{n?.(Ea.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,a={}){return await this.send({type:"presence",event:"track",payload:n},a.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,a,o){return this.state===qt.joined&&n===Rl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,a,o)}async httpSend(n,a,o={}){var c;if(a==null)return Promise.reject("Payload is required for httpSend()");const h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:a,private:this.private}]})},v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(c=o.timeout)!==null&&c!==void 0?c:this.timeout);if(v.status===202)return{success:!0};let y=v.statusText;try{const _=await v.json();y=_.error||_.message||y}catch{}return Promise.reject(new Error(y))}async send(n,a={}){var o,c;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:h,payload:m}=n,v={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(v.Authorization=`Bearer ${this.socket.accessTokenValue}`);const y={method:"POST",headers:v,body:JSON.stringify({messages:[{topic:this.subTopic,event:h,payload:m,private:this.private}]})};try{const _=await this._fetchWithTimeout(this.broadcastEndpointURL,y,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);return await((c=_.body)===null||c===void 0?void 0:c.cancel()),_.ok?"ok":"error"}catch(_){return _.name==="AbortError"?"timed out":"error"}}else return new Promise(h=>{var m,v,y;const _=this._push(n.type,n,a.timeout||this.timeout);n.type==="broadcast"&&!(!((y=(v=(m=this.params)===null||m===void 0?void 0:m.config)===null||v===void 0?void 0:v.broadcast)===null||y===void 0)&&y.ack)&&h("ok"),_.receive("ok",()=>h("ok")),_.receive("error",()=>h("error")),_.receive("timeout",()=>h("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=qt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ei.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(c=>{o=new Hd(this,Ei.leave,{},n),o.receive("ok",()=>{a(),c("ok")}).receive("timeout",()=>{a(),c("timed out")}).receive("error",()=>{c("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qt.closed,this.bindings={}}async _fetchWithTimeout(n,a,o){const c=new AbortController,h=setTimeout(()=>c.abort(),o),m=await this.socket.fetch(n,Object.assign(Object.assign({},a),{signal:c.signal}));return clearTimeout(h),m}_push(n,a,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let c=new Hd(this,n,a,o);return this._canPush()?c.send():this._addToPushBuffer(c),c}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>O1){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(n,a,o){return a}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,a,o){var c,h;const m=n.toLocaleLowerCase(),{close:v,error:y,leave:_,join:E}=Ei;if(o&&[v,y,_,E].indexOf(m)>=0&&o!==this._joinRef())return;let O=this._onMessage(m,a,o);if(a&&!O)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(m)?(c=this.bindings.postgres_changes)===null||c===void 0||c.filter(N=>{var A,z,B;return((A=N.filter)===null||A===void 0?void 0:A.event)==="*"||((B=(z=N.filter)===null||z===void 0?void 0:z.event)===null||B===void 0?void 0:B.toLocaleLowerCase())===m}).map(N=>N.callback(O,o)):(h=this.bindings[m])===null||h===void 0||h.filter(N=>{var A,z,B,P,U,q;if(["broadcast","presence","postgres_changes"].includes(m))if("id"in N){const te=N.id,de=(A=N.filter)===null||A===void 0?void 0:A.event;return te&&((z=a.ids)===null||z===void 0?void 0:z.includes(te))&&(de==="*"||de?.toLocaleLowerCase()===((B=a.data)===null||B===void 0?void 0:B.type.toLocaleLowerCase()))}else{const te=(U=(P=N?.filter)===null||P===void 0?void 0:P.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return te==="*"||te===((q=a?.event)===null||q===void 0?void 0:q.toLocaleLowerCase())}else return N.type.toLocaleLowerCase()===m}).map(N=>{if(typeof O=="object"&&"ids"in O){const A=O.data,{schema:z,table:B,commit_timestamp:P,type:U,errors:q}=A;O=Object.assign(Object.assign({},{schema:z,table:B,commit_timestamp:P,eventType:U,new:{},old:{},errors:q}),this._getPayloadRecords(A))}N.callback(O,o)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,a,o){const c=n.toLocaleLowerCase(),h={type:c,filter:a,callback:o};return this.bindings[c]?this.bindings[c].push(h):this.bindings[c]=[h],this}_off(n,a){const o=n.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(c=>{var h;return!(((h=c.type)===null||h===void 0?void 0:h.toLocaleLowerCase())===o&&fo.isEqual(c.filter,a))})),this}static isEqual(n,a){if(Object.keys(n).length!==Object.keys(a).length)return!1;for(const o in n)if(n[o]!==a[o])return!1;return!0}static isFilterValueEqual(n,a){return(n??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Ei.close,{},n)}_onError(n){this._on(Ei.error,{},a=>n(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const a={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(a.new=xv(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(a.old=xv(n.columns,n.old_record)),a}}const Id=()=>{},fc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},M1=[1e3,2e3,5e3,1e4],z1=1e4,P1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class D1{constructor(n,a){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sf,this.transport=null,this.heartbeatIntervalMs=fc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Id,this.ref=0,this.reconnectTimer=null,this.vsn=bv,this.logger=Id,this.conn=null,this.sendBuffer=[],this.serializer=new C1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=c=>c?(...h)=>c(...h):(...h)=>fetch(...h),!(!((o=a?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${n}/${rf.websocket}`,this.httpEndpoint=Ey(n),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=x1.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const a=n.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const a=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const n=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,a,o){this.logger(n,a,o)}connectionState(){switch(this.conn&&this.conn.readyState){case ps.connecting:return sr.Connecting;case ps.open:return sr.Open;case ps.closing:return sr.Closing;default:return sr.Closed}}isConnected(){return this.connectionState()===sr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,a={config:{}}){const o=`realtime:${n}`,c=this.getChannels().find(h=>h.topic===o);if(c)return c;{const h=new fo(`realtime:${n}`,a,this);return this.channels.push(h),h}}push(n){const{topic:a,event:o,payload:c,ref:h}=n,m=()=>{this.encode(n,v=>{var y;(y=this.conn)===null||y===void 0||y.send(v)})};this.log("push",`${a} ${o} (${h})`,c),this.isConnected()?m():this.sendBuffer.push(m)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(T1,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},fc.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let a=this.channels.find(o=>o.topic===n&&(o._isJoined()||o._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${n}"`),a.unsubscribe())}_remove(n){this.channels=this.channels.filter(a=>a.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply")try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error")}catch(_){this.log("error","error in heartbeat callback",_)}a.ref&&a.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:o,event:c,payload:h,ref:m}=a,v=m?`(${m})`:"",y=h.status||"";this.log("receive",`${y} ${o} ${c} ${v}`.trim(),h),this.channels.filter(_=>_._isMember(o)).forEach(_=>_._trigger(c,h,m)),this._triggerStateCallbacks("message",a)})}_clearTimer(n){var a;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ps.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ps.open||this.conn.readyState===ps.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var a;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Ei.error))}_appendParams(n,a){if(Object.keys(a).length===0)return n;const o=n.match(/\?/)?"&":"?",c=new URLSearchParams(a);return`${n}${o}${c}`}_workerObjectUrl(n){let a;if(n)a=n;else{const o=new Blob([P1],{type:"application/javascript"});a=URL.createObjectURL(o)}return a}_setConnectionState(n,a=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(n=null){let a,o=!1;if(n)a=n,o=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(c){this.log("error","Error fetching access token from callback",c),a=this.accessTokenValue}else a=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(c=>{const h={access_token:a,version:S1};a&&c.updateJoinPayload(h),c.joinedOnce&&c._isJoined()&&c._push(Ei.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${n}`,a)})}_triggerStateCallbacks(n,a){try{this.stateChangeCallbacks[n].forEach(o=>{try{o(a)}catch(c){this.log("error",`error in ${n} callback`,c)}})}catch(o){this.log("error",`error triggering ${n} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new wy(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var a,o,c,h,m,v,y,_,E,x,O,N;switch(this.transport=(a=n?.transport)!==null&&a!==void 0?a:null,this.timeout=(o=n?.timeout)!==null&&o!==void 0?o:sf,this.heartbeatIntervalMs=(c=n?.heartbeatIntervalMs)!==null&&c!==void 0?c:fc.HEARTBEAT_INTERVAL,this.worker=(h=n?.worker)!==null&&h!==void 0?h:!1,this.accessToken=(m=n?.accessToken)!==null&&m!==void 0?m:null,this.heartbeatCallback=(v=n?.heartbeatCallback)!==null&&v!==void 0?v:Id,this.vsn=(y=n?.vsn)!==null&&y!==void 0?y:bv,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(_=n?.reconnectAfterMs)!==null&&_!==void 0?_:(A=>M1[A-1]||z1),this.vsn){case xy:this.encode=(E=n?.encode)!==null&&E!==void 0?E:((A,z)=>z(JSON.stringify(A))),this.decode=(x=n?.decode)!==null&&x!==void 0?x:((A,z)=>z(JSON.parse(A)));break;case E1:this.encode=(O=n?.encode)!==null&&O!==void 0?O:this.serializer.encode.bind(this.serializer),this.decode=(N=n?.decode)!==null&&N!==void 0?N:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var kl=class extends Error{constructor(r,n){super(r),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function U1(r,n,a){const o=new URL(n,r);if(a)for(const[c,h]of Object.entries(a))h!==void 0&&o.searchParams.set(c,h);return o.toString()}async function B1(r){return!r||r.type==="none"?{}:r.type==="bearer"?{Authorization:`Bearer ${r.token}`}:r.type==="header"?{[r.name]:r.value}:r.type==="custom"?await r.getHeaders():{}}function H1(r){const n=r.fetchImpl??globalThis.fetch;return{async request({method:a,path:o,query:c,body:h,headers:m}){const v=U1(r.baseUrl,o,c),y=await B1(r.auth),_=await n(v,{method:a,headers:{...h?{"Content-Type":"application/json"}:{},...y,...m},body:h?JSON.stringify(h):void 0}),E=await _.text(),x=(_.headers.get("content-type")||"").includes("application/json"),O=x&&E?JSON.parse(E):E;if(!_.ok){const N=x?O:void 0,A=N?.error;throw new kl(A?.message??`Request failed with status ${_.status}`,{status:_.status,icebergType:A?.type,icebergCode:A?.code,details:N})}return{status:_.status,headers:_.headers,data:O}}}}function mc(r){return r.join("")}var I1=class{constructor(r,n=""){this.client=r,this.prefix=n}async listNamespaces(r){const n=r?{parent:mc(r.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(r,n){const a={namespace:r.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mc(r.namespace)}`})}async loadNamespaceMetadata(r){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mc(r.namespace)}`})).data.properties}}async namespaceExists(r){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mc(r.namespace)}`}),!0}catch(n){if(n instanceof kl&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(r,n){try{return await this.createNamespace(r,n)}catch(a){if(a instanceof kl&&a.status===409)return;throw a}}};function io(r){return r.join("")}var q1=class{constructor(r,n="",a){this.client=r,this.prefix=n,this.accessDelegation=a}async listTables(r){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${io(r.namespace)}/tables`})).data.identifiers}async createTable(r,n){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${io(r.namespace)}/tables`,body:n,headers:a})).data.metadata}async updateTable(r,n){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${io(r.namespace)}/tables/${r.name}`,body:n});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(r,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${io(r.namespace)}/tables/${r.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${io(r.namespace)}/tables/${r.name}`,headers:n})).data.metadata}async tableExists(r){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${io(r.namespace)}/tables/${r.name}`,headers:n}),!0}catch(a){if(a instanceof kl&&a.status===404)return!1;throw a}}async createTableIfNotExists(r,n){try{return await this.createTable(r,n)}catch(a){if(a instanceof kl&&a.status===409)return await this.loadTable({namespace:r.namespace,name:n.name});throw a}}},$1=class{constructor(r){let n="v1";r.catalogName&&(n+=`/${r.catalogName}`);const a=r.baseUrl.endsWith("/")?r.baseUrl:`${r.baseUrl}/`;this.client=H1({baseUrl:a,auth:r.auth,fetchImpl:r.fetch}),this.accessDelegation=r.accessDelegation?.join(","),this.namespaceOps=new I1(this.client,n),this.tableOps=new q1(this.client,n,this.accessDelegation)}async listNamespaces(r){return this.namespaceOps.listNamespaces(r)}async createNamespace(r,n){return this.namespaceOps.createNamespace(r,n)}async dropNamespace(r){await this.namespaceOps.dropNamespace(r)}async loadNamespaceMetadata(r){return this.namespaceOps.loadNamespaceMetadata(r)}async listTables(r){return this.tableOps.listTables(r)}async createTable(r,n){return this.tableOps.createTable(r,n)}async updateTable(r,n){return this.tableOps.updateTable(r,n)}async dropTable(r,n){await this.tableOps.dropTable(r,n)}async loadTable(r){return this.tableOps.loadTable(r)}async namespaceExists(r){return this.namespaceOps.namespaceExists(r)}async tableExists(r){return this.tableOps.tableExists(r)}async createNamespaceIfNotExists(r,n){return this.namespaceOps.createNamespaceIfNotExists(r,n)}async createTableIfNotExists(r,n){return this.tableOps.createTableIfNotExists(r,n)}},kc=class extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}};function xt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var Z1=class extends kc{constructor(r,n,a){super(r),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},lf=class extends kc{constructor(r,n){super(r),this.name="StorageUnknownError",this.originalError=n}};const Tf=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),V1=()=>Response,uf=r=>{if(Array.isArray(r))return r.map(a=>uf(a));if(typeof r=="function"||r!==Object(r))return r;const n={};return Object.entries(r).forEach(([a,o])=>{const c=a.replace(/([-_][a-z])/gi,h=>h.toUpperCase().replace(/[-_]/g,""));n[c]=uf(o)}),n},G1=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},K1=r=>!r||typeof r!="string"||r.length===0||r.length>100||r.trim()!==r||r.includes("/")||r.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(r);function Ml(r){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ml(r)}function Y1(r,n){if(Ml(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var o=a.call(r,n);if(Ml(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function F1(r){var n=Y1(r,"string");return Ml(n)=="symbol"?n:n+""}function J1(r,n,a){return(n=F1(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function Ev(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),a.push.apply(a,o)}return a}function Ce(r){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Ev(Object(a),!0).forEach(function(o){J1(r,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Ev(Object(a)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(a,o))})}return r}const qd=r=>{var n;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(n=r.error)===null||n===void 0?void 0:n.message)||JSON.stringify(r)},X1=async(r,n,a)=>{r instanceof await V1()&&!a?.noResolveJson?r.json().then(o=>{const c=r.status||500,h=o?.statusCode||c+"";n(new Z1(qd(o),c,h))}).catch(o=>{n(new lf(qd(o),o))}):n(new lf(qd(r),r))},Q1=(r,n,a,o)=>{const c={method:r,headers:n?.headers||{}};return r==="GET"||!o?c:(G1(o)?(c.headers=Ce({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(o)):c.body=o,n?.duplex&&(c.duplex=n.duplex),Ce(Ce({},c),a))};async function Il(r,n,a,o,c,h){return new Promise((m,v)=>{r(a,Q1(n,o,c,h)).then(y=>{if(!y.ok)throw y;return o?.noResolveJson?y:y.json()}).then(y=>m(y)).catch(y=>X1(y,v,o))})}async function zl(r,n,a,o){return Il(r,"GET",n,a,o)}async function Si(r,n,a,o,c){return Il(r,"POST",n,o,c,a)}async function cf(r,n,a,o,c){return Il(r,"PUT",n,o,c,a)}async function W1(r,n,a,o){return Il(r,"HEAD",n,Ce(Ce({},a),{},{noResolveJson:!0}),o)}async function Of(r,n,a,o,c){return Il(r,"DELETE",n,o,c,a)}var eS=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n}then(r,n){return this.execute().then(r,n)}async execute(){var r=this;try{return{data:(await r.downloadFn()).body,error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}}};let Ty;Ty=Symbol.toStringTag;var tS=class{constructor(r,n){this.downloadFn=r,this.shouldThrowOnError=n,this[Ty]="BlobDownloadBuilder",this.promise=null}asStream(){return new eS(this.downloadFn,this.shouldThrowOnError)}then(r,n){return this.getPromise().then(r,n)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var r=this;try{return{data:await(await r.downloadFn()).blob(),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(xt(n))return{data:null,error:n};throw n}}};const nS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var iS=class{constructor(r,n={},a,o){this.shouldThrowOnError=!1,this.url=r,this.headers=n,this.bucketId=a,this.fetch=Tf(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(r,n,a,o){var c=this;try{let h;const m=Ce(Ce({},Tv),o);let v=Ce(Ce({},c.headers),r==="POST"&&{"x-upsert":String(m.upsert)});const y=m.metadata;typeof Blob<"u"&&a instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),y&&h.append("metadata",c.encodeMetadata(y)),h.append("",a)):typeof FormData<"u"&&a instanceof FormData?(h=a,h.has("cacheControl")||h.append("cacheControl",m.cacheControl),y&&!h.has("metadata")&&h.append("metadata",c.encodeMetadata(y))):(h=a,v["cache-control"]=`max-age=${m.cacheControl}`,v["content-type"]=m.contentType,y&&(v["x-metadata"]=c.toBase64(c.encodeMetadata(y))),(typeof ReadableStream<"u"&&h instanceof ReadableStream||h&&typeof h=="object"&&"pipe"in h&&typeof h.pipe=="function")&&!m.duplex&&(m.duplex="half")),o?.headers&&(v=Ce(Ce({},v),o.headers));const _=c._removeEmptyFolders(n),E=c._getFinalPath(_),x=await(r=="PUT"?cf:Si)(c.fetch,`${c.url}/object/${E}`,h,Ce({headers:v},m?.duplex?{duplex:m.duplex}:{}));return{data:{path:_,id:x.Id,fullPath:x.Key},error:null}}catch(h){if(c.shouldThrowOnError)throw h;if(xt(h))return{data:null,error:h};throw h}}async upload(r,n,a){return this.uploadOrUpdate("POST",r,n,a)}async uploadToSignedUrl(r,n,a,o){var c=this;const h=c._removeEmptyFolders(r),m=c._getFinalPath(h),v=new URL(c.url+`/object/upload/sign/${m}`);v.searchParams.set("token",n);try{let y;const _=Ce({upsert:Tv.upsert},o),E=Ce(Ce({},c.headers),{"x-upsert":String(_.upsert)});return typeof Blob<"u"&&a instanceof Blob?(y=new FormData,y.append("cacheControl",_.cacheControl),y.append("",a)):typeof FormData<"u"&&a instanceof FormData?(y=a,y.append("cacheControl",_.cacheControl)):(y=a,E["cache-control"]=`max-age=${_.cacheControl}`,E["content-type"]=_.contentType),{data:{path:h,fullPath:(await cf(c.fetch,v.toString(),y,{headers:E})).Key},error:null}}catch(y){if(c.shouldThrowOnError)throw y;if(xt(y))return{data:null,error:y};throw y}}async createSignedUploadUrl(r,n){var a=this;try{let o=a._getFinalPath(r);const c=Ce({},a.headers);n?.upsert&&(c["x-upsert"]="true");const h=await Si(a.fetch,`${a.url}/object/upload/sign/${o}`,{},{headers:c}),m=new URL(a.url+h.url),v=m.searchParams.get("token");if(!v)throw new kc("No token returned by API");return{data:{signedUrl:m.toString(),path:r,token:v},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xt(o))return{data:null,error:o};throw o}}async update(r,n,a){return this.uploadOrUpdate("PUT",r,n,a)}async move(r,n,a){var o=this;try{return{data:await Si(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:o.headers}),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(xt(c))return{data:null,error:c};throw c}}async copy(r,n,a){var o=this;try{return{data:{path:(await Si(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:r,destinationKey:n,destinationBucket:a?.destinationBucket},{headers:o.headers})).Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(xt(c))return{data:null,error:c};throw c}}async createSignedUrl(r,n,a){var o=this;try{let c=o._getFinalPath(r),h=await Si(o.fetch,`${o.url}/object/sign/${c}`,Ce({expiresIn:n},a?.transform?{transform:a.transform}:{}),{headers:o.headers});const m=a?.download?`&download=${a.download===!0?"":a.download}`:"";return h={signedUrl:encodeURI(`${o.url}${h.signedURL}${m}`)},{data:h,error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(xt(c))return{data:null,error:c};throw c}}async createSignedUrls(r,n,a){var o=this;try{const c=await Si(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:n,paths:r},{headers:o.headers}),h=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:c.map(m=>Ce(Ce({},m),{},{signedUrl:m.signedURL?encodeURI(`${o.url}${m.signedURL}${h}`):null})),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(xt(c))return{data:null,error:c};throw c}}download(r,n){const a=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),c=o?`?${o}`:"",h=this._getFinalPath(r),m=()=>zl(this.fetch,`${this.url}/${a}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new tS(m,this.shouldThrowOnError)}async info(r){var n=this;const a=n._getFinalPath(r);try{return{data:uf(await zl(n.fetch,`${n.url}/object/info/${a}`,{headers:n.headers})),error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(xt(o))return{data:null,error:o};throw o}}async exists(r){var n=this;const a=n._getFinalPath(r);try{return await W1(n.fetch,`${n.url}/object/${a}`,{headers:n.headers}),{data:!0,error:null}}catch(o){if(n.shouldThrowOnError)throw o;if(xt(o)&&o instanceof lf){const c=o.originalError;if([400,404].includes(c?.status))return{data:!1,error:o}}throw o}}getPublicUrl(r,n){const a=this._getFinalPath(r),o=[],c=n?.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&o.push(c);const h=typeof n?.transform<"u"?"render/image":"object",m=this.transformOptsToQueryString(n?.transform||{});m!==""&&o.push(m);let v=o.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${a}${v}`)}}}async remove(r){var n=this;try{return{data:await Of(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:r},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}}async list(r,n,a){var o=this;try{const c=Ce(Ce(Ce({},nS),n),{},{prefix:r||""});return{data:await Si(o.fetch,`${o.url}/object/list/${o.bucketId}`,c,{headers:o.headers},a),error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(xt(c))return{data:null,error:c};throw c}}async listV2(r,n){var a=this;try{const o=Ce({},r);return{data:await Si(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,o,{headers:a.headers},n),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xt(o))return{data:null,error:o};throw o}}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const n=[];return r.width&&n.push(`width=${r.width}`),r.height&&n.push(`height=${r.height}`),r.resize&&n.push(`resize=${r.resize}`),r.format&&n.push(`format=${r.format}`),r.quality&&n.push(`quality=${r.quality}`),n.join("&")}};const Oy="2.88.0",Cy={"X-Client-Info":`storage-js/${Oy}`};var aS=class{constructor(r,n={},a,o){this.shouldThrowOnError=!1;const c=new URL(r);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Ce(Ce({},Cy),n),this.fetch=Tf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(r){var n=this;try{const a=n.listBucketOptionsToQueryString(r);return{data:await zl(n.fetch,`${n.url}/bucket${a}`,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}}async getBucket(r){var n=this;try{return{data:await zl(n.fetch,`${n.url}/bucket/${r}`,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}}async createBucket(r,n={public:!1}){var a=this;try{return{data:await Si(a.fetch,`${a.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xt(o))return{data:null,error:o};throw o}}async updateBucket(r,n){var a=this;try{return{data:await cf(a.fetch,`${a.url}/bucket/${r}`,{id:r,name:r,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(xt(o))return{data:null,error:o};throw o}}async emptyBucket(r){var n=this;try{return{data:await Si(n.fetch,`${n.url}/bucket/${r}/empty`,{},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}}async deleteBucket(r){var n=this;try{return{data:await Of(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}}listBucketOptionsToQueryString(r){const n={};return r&&("limit"in r&&(n.limit=String(r.limit)),"offset"in r&&(n.offset=String(r.offset)),r.search&&(n.search=r.search),r.sortColumn&&(n.sortColumn=r.sortColumn),r.sortOrder&&(n.sortOrder=r.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},sS=class{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ce(Ce({},Cy),n),this.fetch=Tf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await Si(n.fetch,`${n.url}/bucket`,{name:r},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}}async listBuckets(r){var n=this;try{const a=new URLSearchParams;r?.limit!==void 0&&a.set("limit",r.limit.toString()),r?.offset!==void 0&&a.set("offset",r.offset.toString()),r?.sortColumn&&a.set("sortColumn",r.sortColumn),r?.sortOrder&&a.set("sortOrder",r.sortOrder),r?.search&&a.set("search",r.search);const o=a.toString(),c=o?`${n.url}/bucket?${o}`:`${n.url}/bucket`;return{data:await zl(n.fetch,c,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}}async deleteBucket(r){var n=this;try{return{data:await Of(n.fetch,`${n.url}/bucket/${r}`,{},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(xt(a))return{data:null,error:a};throw a}}from(r){var n=this;if(!K1(r))throw new kc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new $1({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(a,{get(c,h){const m=c[h];return typeof m!="function"?m:async(...v)=>{try{return{data:await m.apply(c,v),error:null}}catch(y){if(o)throw y;return{data:null,error:y}}}}})}};const Cf={"X-Client-Info":`storage-js/${Oy}`,"Content-Type":"application/json"};var Ny=class extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function $n(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}var $d=class extends Ny{constructor(r,n,a){super(r),this.name="StorageVectorsApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rS=class extends Ny{constructor(r,n){super(r),this.name="StorageVectorsUnknownError",this.originalError=n}};const Nf=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),oS=r=>{if(typeof r!="object"||r===null)return!1;const n=Object.getPrototypeOf(r);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},Ov=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),lS=async(r,n,a)=>{if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!a?.noResolveJson){const o=r.status||500,c=r;if(typeof c.json=="function")c.json().then(h=>{const m=h?.statusCode||h?.code||o+"";n(new $d(Ov(h),o,m))}).catch(()=>{const h=o+"";n(new $d(c.statusText||`HTTP ${o} error`,o,h))});else{const h=o+"";n(new $d(c.statusText||`HTTP ${o} error`,o,h))}}else n(new rS(Ov(r),r))},uS=(r,n,a,o)=>{const c={method:r,headers:n?.headers||{}};return o?(oS(o)?(c.headers=Ce({"Content-Type":"application/json"},n?.headers),c.body=JSON.stringify(o)):c.body=o,Ce(Ce({},c),a)):c};async function cS(r,n,a,o,c,h){return new Promise((m,v)=>{r(a,uS(n,o,c,h)).then(y=>{if(!y.ok)throw y;if(o?.noResolveJson)return y;const _=y.headers.get("content-type");return!_||!_.includes("application/json")?{}:y.json()}).then(y=>m(y)).catch(y=>lS(y,v,o))})}async function Zn(r,n,a,o,c){return cS(r,"POST",n,o,c,a)}var hS=class{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ce(Ce({},Cf),n),this.fetch=Nf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(r){var n=this;try{return{data:await Zn(n.fetch,`${n.url}/CreateIndex`,r,{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($n(a))return{data:null,error:a};throw a}}async getIndex(r,n){var a=this;try{return{data:await Zn(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:r,indexName:n},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if($n(o))return{data:null,error:o};throw o}}async listIndexes(r){var n=this;try{return{data:await Zn(n.fetch,`${n.url}/ListIndexes`,r,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($n(a))return{data:null,error:a};throw a}}async deleteIndex(r,n){var a=this;try{return{data:await Zn(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:r,indexName:n},{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if($n(o))return{data:null,error:o};throw o}}},dS=class{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ce(Ce({},Cf),n),this.fetch=Nf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(r){var n=this;try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Zn(n.fetch,`${n.url}/PutVectors`,r,{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($n(a))return{data:null,error:a};throw a}}async getVectors(r){var n=this;try{return{data:await Zn(n.fetch,`${n.url}/GetVectors`,r,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($n(a))return{data:null,error:a};throw a}}async listVectors(r){var n=this;try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:await Zn(n.fetch,`${n.url}/ListVectors`,r,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($n(a))return{data:null,error:a};throw a}}async queryVectors(r){var n=this;try{return{data:await Zn(n.fetch,`${n.url}/QueryVectors`,r,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($n(a))return{data:null,error:a};throw a}}async deleteVectors(r){var n=this;try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Zn(n.fetch,`${n.url}/DeleteVectors`,r,{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($n(a))return{data:null,error:a};throw a}}},fS=class{constructor(r,n={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Ce(Ce({},Cf),n),this.fetch=Nf(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(r){var n=this;try{return{data:await Zn(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($n(a))return{data:null,error:a};throw a}}async getBucket(r){var n=this;try{return{data:await Zn(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:r},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($n(a))return{data:null,error:a};throw a}}async listBuckets(r={}){var n=this;try{return{data:await Zn(n.fetch,`${n.url}/ListVectorBuckets`,r,{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($n(a))return{data:null,error:a};throw a}}async deleteBucket(r){var n=this;try{return{data:await Zn(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:n.headers})||{},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if($n(a))return{data:null,error:a};throw a}}},mS=class extends fS{constructor(r,n={}){super(r,n.headers||{},n.fetch)}from(r){return new pS(this.url,this.headers,r,this.fetch)}async createBucket(r){var n=()=>super.createBucket,a=this;return n().call(a,r)}async getBucket(r){var n=()=>super.getBucket,a=this;return n().call(a,r)}async listBuckets(r={}){var n=()=>super.listBuckets,a=this;return n().call(a,r)}async deleteBucket(r){var n=()=>super.deleteBucket,a=this;return n().call(a,r)}},pS=class extends hS{constructor(r,n,a,o){super(r,n,o),this.vectorBucketName=a}async createIndex(r){var n=()=>super.createIndex,a=this;return n().call(a,Ce(Ce({},r),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(r={}){var n=()=>super.listIndexes,a=this;return n().call(a,Ce(Ce({},r),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(r){var n=()=>super.getIndex,a=this;return n().call(a,a.vectorBucketName,r)}async deleteIndex(r){var n=()=>super.deleteIndex,a=this;return n().call(a,a.vectorBucketName,r)}index(r){return new gS(this.url,this.headers,this.vectorBucketName,r,this.fetch)}},gS=class extends dS{constructor(r,n,a,o,c){super(r,n,c),this.vectorBucketName=a,this.indexName=o}async putVectors(r){var n=()=>super.putVectors,a=this;return n().call(a,Ce(Ce({},r),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(r){var n=()=>super.getVectors,a=this;return n().call(a,Ce(Ce({},r),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(r={}){var n=()=>super.listVectors,a=this;return n().call(a,Ce(Ce({},r),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(r){var n=()=>super.queryVectors,a=this;return n().call(a,Ce(Ce({},r),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(r){var n=()=>super.deleteVectors,a=this;return n().call(a,Ce(Ce({},r),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},vS=class extends aS{constructor(r,n={},a,o){super(r,n,a,o)}from(r){return new iS(this.url,this.headers,r,this.fetch)}get vectors(){return new mS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new sS(this.url+"/iceberg",this.headers,this.fetch)}};const Ay="2.88.0",co=30*1e3,hf=3,Zd=hf*co,yS="http://localhost:9999",_S="supabase.auth.token",bS={"X-Client-Info":`gotrue-js/${Ay}`},df="X-Supabase-Api-Version",Ry={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},xS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wS=600*1e3;class Pl extends Error{constructor(n,a,o){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=o}}function we(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class SS extends Pl{constructor(n,a,o){super(n,a,o),this.name="AuthApiError",this.status=a,this.code=o}}function ES(r){return we(r)&&r.name==="AuthApiError"}class rr extends Pl{constructor(n,a){super(n),this.name="AuthUnknownError",this.originalError=a}}class Na extends Pl{constructor(n,a,o,c){super(n,o,c),this.name=a,this.status=o}}class qn extends Na{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function TS(r){return we(r)&&r.name==="AuthSessionMissingError"}class ao extends Na{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pc extends Na{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class gc extends Na{constructor(n,a=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OS(r){return we(r)&&r.name==="AuthImplicitGrantRedirectError"}class Cv extends Na{constructor(n,a=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class CS extends Na{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ff extends Na{constructor(n,a){super(n,"AuthRetryableFetchError",a,void 0)}}function Vd(r){return we(r)&&r.name==="AuthRetryableFetchError"}class Nv extends Na{constructor(n,a,o){super(n,"AuthWeakPasswordError",a,"weak_password"),this.reasons=o}}class mf extends Na{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Av=` 	
\r=`.split(""),NS=(()=>{const r=new Array(128);for(let n=0;n<r.length;n+=1)r[n]=-1;for(let n=0;n<Av.length;n+=1)r[Av[n].charCodeAt(0)]=-2;for(let n=0;n<Sc.length;n+=1)r[Sc[n].charCodeAt(0)]=n;return r})();function Rv(r,n,a){if(r!==null)for(n.queue=n.queue<<8|r,n.queuedBits+=8;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;a(Sc[o]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const o=n.queue>>n.queuedBits-6&63;a(Sc[o]),n.queuedBits-=6}}function jy(r,n,a){const o=NS[r];if(o>-1)for(n.queue=n.queue<<6|o,n.queuedBits+=6;n.queuedBits>=8;)a(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function jv(r){const n=[],a=m=>{n.push(String.fromCodePoint(m))},o={utf8seq:0,codepoint:0},c={queue:0,queuedBits:0},h=m=>{jS(m,o,a)};for(let m=0;m<r.length;m+=1)jy(r.charCodeAt(m),c,h);return n.join("")}function AS(r,n){if(r<=127){n(r);return}else if(r<=2047){n(192|r>>6),n(128|r&63);return}else if(r<=65535){n(224|r>>12),n(128|r>>6&63),n(128|r&63);return}else if(r<=1114111){n(240|r>>18),n(128|r>>12&63),n(128|r>>6&63),n(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function RS(r,n){for(let a=0;a<r.length;a+=1){let o=r.charCodeAt(a);if(o>55295&&o<=56319){const c=(o-55296)*1024&65535;o=(r.charCodeAt(a+1)-56320&65535|c)+65536,a+=1}AS(o,n)}}function jS(r,n,a){if(n.utf8seq===0){if(r<=127){a(r);return}for(let o=1;o<6;o+=1)if((r>>7-o&1)===0){n.utf8seq=o;break}if(n.utf8seq===2)n.codepoint=r&31;else if(n.utf8seq===3)n.codepoint=r&15;else if(n.utf8seq===4)n.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|r&63,n.utf8seq-=1,n.utf8seq===0&&a(n.codepoint)}}function mo(r){const n=[],a={queue:0,queuedBits:0},o=c=>{n.push(c)};for(let c=0;c<r.length;c+=1)jy(r.charCodeAt(c),a,o);return new Uint8Array(n)}function LS(r){const n=[];return RS(r,a=>n.push(a)),new Uint8Array(n)}function lr(r){const n=[],a={queue:0,queuedBits:0},o=c=>{n.push(c)};return r.forEach(c=>Rv(c,a,o)),Rv(null,a,o),n.join("")}function kS(r){return Math.round(Date.now()/1e3)+r}function MS(){return Symbol("auth-callback")}const an=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},Ly=()=>{if(!an())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function zS(r){const n={},a=new URL(r);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((c,h)=>{n[h]=c})}catch{}return a.searchParams.forEach((o,c)=>{n[c]=o}),n}const ky=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),PS=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",ho=async(r,n,a)=>{await r.setItem(n,JSON.stringify(a))},ir=async(r,n)=>{const a=await r.getItem(n);if(!a)return null;try{return JSON.parse(a)}catch{return a}},nn=async(r,n)=>{await r.removeItem(n)};class Mc{constructor(){this.promise=new Mc.promiseConstructor((n,a)=>{this.resolve=n,this.reject=a})}}Mc.promiseConstructor=Promise;function Gd(r){const n=r.split(".");if(n.length!==3)throw new mf("Invalid JWT structure");for(let o=0;o<n.length;o++)if(!xS.test(n[o]))throw new mf("JWT not in base64url format");return{header:JSON.parse(jv(n[0])),payload:JSON.parse(jv(n[1])),signature:mo(n[2]),raw:{header:n[0],payload:n[1]}}}async function DS(r){return await new Promise(n=>{setTimeout(()=>n(null),r)})}function US(r,n){return new Promise((o,c)=>{(async()=>{for(let h=0;h<1/0;h++)try{const m=await r(h);if(!n(h,null,m)){o(m);return}}catch(m){if(!n(h,m)){c(m);return}}})()})}function BS(r){return("0"+r.toString(16)).substr(-2)}function HS(){const n=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=a.length;let c="";for(let h=0;h<56;h++)c+=a.charAt(Math.floor(Math.random()*o));return c}return crypto.getRandomValues(n),Array.from(n,BS).join("")}async function IS(r){const a=new TextEncoder().encode(r),o=await crypto.subtle.digest("SHA-256",a),c=new Uint8Array(o);return Array.from(c).map(h=>String.fromCharCode(h)).join("")}async function qS(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const a=await IS(r);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function so(r,n,a=!1){const o=HS();let c=o;a&&(c+="/PASSWORD_RECOVERY"),await ho(r,`${n}-code-verifier`,c);const h=await qS(o);return[h,o===h?"plain":"s256"]}const $S=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZS(r){const n=r.headers.get(df);if(!n||!n.match($S))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function VS(r){if(!r)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(r<=n)throw new Error("JWT has expired")}function GS(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const KS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ro(r){if(!KS.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kd(){const r={};return new Proxy(r,{get:(n,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function YS(r,n){return new Proxy(r,{get:(a,o,c)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const h=o.toString();if(h==="Symbol(Symbol.toPrimitive)"||h==="Symbol(Symbol.toStringTag)"||h==="Symbol(util.inspect.custom)"||h==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,o,c)}return!n.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(a,o,c)}})}function Lv(r){return JSON.parse(JSON.stringify(r))}const ar=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),FS=[502,503,504];async function kv(r){var n;if(!PS(r))throw new ff(ar(r),0);if(FS.includes(r.status))throw new ff(ar(r),r.status);let a;try{a=await r.json()}catch(h){throw new rr(ar(h),h)}let o;const c=ZS(r);if(c&&c.getTime()>=Ry["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?o=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(o=a.error_code),o){if(o==="weak_password")throw new Nv(ar(a),r.status,((n=a.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(o==="session_not_found")throw new qn}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((h,m)=>h&&typeof m=="string",!0))throw new Nv(ar(a),r.status,a.weak_password.reasons);throw new SS(ar(a),r.status||500,o)}const JS=(r,n,a,o)=>{const c={method:r,headers:n?.headers||{}};return r==="GET"?c:(c.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),c.body=JSON.stringify(o),Object.assign(Object.assign({},c),a))};async function Oe(r,n,a,o){var c;const h=Object.assign({},o?.headers);h[df]||(h[df]=Ry["2024-01-01"].name),o?.jwt&&(h.Authorization=`Bearer ${o.jwt}`);const m=(c=o?.query)!==null&&c!==void 0?c:{};o?.redirectTo&&(m.redirect_to=o.redirectTo);const v=Object.keys(m).length?"?"+new URLSearchParams(m).toString():"",y=await XS(r,n,a+v,{headers:h,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(y):{data:Object.assign({},y),error:null}}async function XS(r,n,a,o,c,h){const m=JS(n,o,c,h);let v;try{v=await r(a,Object.assign({},m))}catch(y){throw console.error(y),new ff(ar(y),0)}if(v.ok||await kv(v),o?.noResolveJson)return v;try{return await v.json()}catch(y){await kv(y)}}function wi(r){var n;let a=null;e2(r)&&(a=Object.assign({},r),r.expires_at||(a.expires_at=kS(r.expires_in)));const o=(n=r.user)!==null&&n!==void 0?n:r;return{data:{session:a,user:o},error:null}}function Mv(r){const n=wi(r);return!n.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0)&&(n.data.weak_password=r.weak_password),n}function gs(r){var n;return{data:{user:(n=r.user)!==null&&n!==void 0?n:r},error:null}}function QS(r){return{data:r,error:null}}function WS(r){const{action_link:n,email_otp:a,hashed_token:o,redirect_to:c,verification_type:h}=r,m=Lc(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),v={action_link:n,email_otp:a,hashed_token:o,redirect_to:c,verification_type:h},y=Object.assign({},m);return{data:{properties:v,user:y},error:null}}function zv(r){return r}function e2(r){return r.access_token&&r.refresh_token&&r.expires_in}const Yd=["global","local","others"];class t2{constructor({url:n="",headers:a={},fetch:o}){this.url=n,this.headers=a,this.fetch=ky(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,a=Yd[0]){if(Yd.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yd.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(o){if(we(o))return{data:null,error:o};throw o}}async inviteUserByEmail(n,a={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:gs})}catch(o){if(we(o))return{data:{user:null},error:o};throw o}}async generateLink(n){try{const{options:a}=n,o=Lc(n,["options"]),c=Object.assign(Object.assign({},o),a);return"newEmail"in o&&(c.new_email=o?.newEmail,delete c.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:c,headers:this.headers,xform:WS,redirectTo:a?.redirectTo})}catch(a){if(we(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(n){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:gs})}catch(a){if(we(a))return{data:{user:null},error:a};throw a}}async listUsers(n){var a,o,c,h,m,v,y;try{const _={nextPage:null,lastPage:0,total:0},E=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(a=n?.page)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:zv});if(E.error)throw E.error;const x=await E.json(),O=(m=E.headers.get("x-total-count"))!==null&&m!==void 0?m:0,N=(y=(v=E.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&y!==void 0?y:[];return N.length>0&&(N.forEach(A=>{const z=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(A.split(";")[1].split("=")[1]);_[`${B}Page`]=z}),_.total=parseInt(O)),{data:Object.assign(Object.assign({},x),_),error:null}}catch(_){if(we(_))return{data:{users:[]},error:_};throw _}}async getUserById(n){ro(n);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:gs})}catch(a){if(we(a))return{data:{user:null},error:a};throw a}}async updateUserById(n,a){ro(n);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:a,headers:this.headers,xform:gs})}catch(o){if(we(o))return{data:{user:null},error:o};throw o}}async deleteUser(n,a=!1){ro(n);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:a},xform:gs})}catch(o){if(we(o))return{data:{user:null},error:o};throw o}}async _listFactors(n){ro(n.userId);try{const{data:a,error:o}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:c=>({data:{factors:c},error:null})});return{data:a,error:o}}catch(a){if(we(a))return{data:null,error:a};throw a}}async _deleteFactor(n){ro(n.userId),ro(n.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(a){if(we(a))return{data:null,error:a};throw a}}async _listOAuthClients(n){var a,o,c,h,m,v,y;try{const _={nextPage:null,lastPage:0,total:0},E=await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(a=n?.page)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:"",per_page:(h=(c=n?.perPage)===null||c===void 0?void 0:c.toString())!==null&&h!==void 0?h:""},xform:zv});if(E.error)throw E.error;const x=await E.json(),O=(m=E.headers.get("x-total-count"))!==null&&m!==void 0?m:0,N=(y=(v=E.headers.get("link"))===null||v===void 0?void 0:v.split(","))!==null&&y!==void 0?y:[];return N.length>0&&(N.forEach(A=>{const z=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),B=JSON.parse(A.split(";")[1].split("=")[1]);_[`${B}Page`]=z}),_.total=parseInt(O)),{data:Object.assign(Object.assign({},x),_),error:null}}catch(_){if(we(_))return{data:{clients:[]},error:_};throw _}}async _createOAuthClient(n){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(we(a))return{data:null,error:a};throw a}}async _getOAuthClient(n){try{return await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(we(a))return{data:null,error:a};throw a}}async _updateOAuthClient(n,a){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:a,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(we(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(n){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(we(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(n){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(we(a))return{data:null,error:a};throw a}}}function Pv(r={}){return{getItem:n=>r[n]||null,setItem:(n,a)=>{r[n]=a},removeItem:n=>{delete r[n]}}}const oo={debug:!!(globalThis&&Ly()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class My extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class n2 extends My{}async function i2(r,n,a){oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,n);const o=new globalThis.AbortController;return n>0&&setTimeout(()=>{o.abort(),oo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async c=>{if(c){oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,c.name);try{return await a()}finally{oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,c.name)}}else{if(n===0)throw oo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new n2(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(oo.debug)try{const h=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(h,null,"  "))}catch(h){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",h)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function a2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function zy(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function s2(r){return parseInt(r,16)}function r2(r){const n=new TextEncoder().encode(r);return"0x"+Array.from(n,o=>o.toString(16).padStart(2,"0")).join("")}function o2(r){var n;const{chainId:a,domain:o,expirationTime:c,issuedAt:h=new Date,nonce:m,notBefore:v,requestId:y,resources:_,scheme:E,uri:x,version:O}=r;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(m&&m.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${m}`);if(!x)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(O!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${O}`);if(!((n=r.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const N=zy(r.address),A=E?`${E}://${o}`:o,z=r.statement?`${r.statement}
`:"",B=`${A} wants you to sign in with your Ethereum account:
${N}

${z}`;let P=`URI: ${x}
Version: ${O}
Chain ID: ${a}${m?`
Nonce: ${m}`:""}
Issued At: ${h.toISOString()}`;if(c&&(P+=`
Expiration Time: ${c.toISOString()}`),v&&(P+=`
Not Before: ${v.toISOString()}`),y&&(P+=`
Request ID: ${y}`),_){let U=`
Resources:`;for(const q of _){if(!q||typeof q!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${q}`);U+=`
- ${q}`}P+=U}return`${B}
${P}`}class Pt extends Error{constructor({message:n,code:a,cause:o,name:c}){var h;super(n,{cause:o}),this.__isWebAuthnError=!0,this.name=(h=c??(o instanceof Error?o.name:void 0))!==null&&h!==void 0?h:"Unknown Error",this.code=a}}class Ec extends Pt{constructor(n,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:n}),this.name="WebAuthnUnknownError",this.originalError=a}}function l2({error:r,options:n}){var a,o,c;const{publicKey:h}=n;if(!h)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((a=h.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(n.mediation==="conditional"&&((o=h.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((c=h.authenticatorSelection)===null||c===void 0?void 0:c.userVerification)==="required")return new Pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new Pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new Pt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return h.pubKeyCredParams.filter(v=>v.type==="public-key").length===0?new Pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new Pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const m=window.location.hostname;if(Py(m)){if(h.rp.id!==m)return new Pt({message:`The RP ID "${h.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(h.user.id.byteLength<1||h.user.id.byteLength>64)return new Pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new Pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function u2({error:r,options:n}){const{publicKey:a}=n;if(!a)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new Pt({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const o=window.location.hostname;if(Py(o)){if(a.rpId!==o)return new Pt({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new Pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new Pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new Pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class c2{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const h2=new c2;function d2(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:n,user:a,excludeCredentials:o}=r,c=Lc(r,["challenge","user","excludeCredentials"]),h=mo(n).buffer,m=Object.assign(Object.assign({},a),{id:mo(a.id).buffer}),v=Object.assign(Object.assign({},c),{challenge:h,user:m});if(o&&o.length>0){v.excludeCredentials=new Array(o.length);for(let y=0;y<o.length;y++){const _=o[y];v.excludeCredentials[y]=Object.assign(Object.assign({},_),{id:mo(_.id).buffer,type:_.type||"public-key",transports:_.transports})}}return v}function f2(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:n,allowCredentials:a}=r,o=Lc(r,["challenge","allowCredentials"]),c=mo(n).buffer,h=Object.assign(Object.assign({},o),{challenge:c});if(a&&a.length>0){h.allowCredentials=new Array(a.length);for(let m=0;m<a.length;m++){const v=a[m];h.allowCredentials[m]=Object.assign(Object.assign({},v),{id:mo(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return h}function m2(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const a=r;return{id:r.id,rawId:r.id,response:{attestationObject:lr(new Uint8Array(r.response.attestationObject)),clientDataJSON:lr(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(n=a.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function p2(r){var n;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const a=r,o=r.getClientExtensionResults(),c=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:lr(new Uint8Array(c.authenticatorData)),clientDataJSON:lr(new Uint8Array(c.clientDataJSON)),signature:lr(new Uint8Array(c.signature)),userHandle:c.userHandle?lr(new Uint8Array(c.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(n=a.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function Py(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function Dv(){var r,n;return!!(an()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function g2(r){try{const n=await navigator.credentials.create(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ec("Browser returned unexpected credential type",n)}:{data:null,error:new Ec("Empty credential response",n)}}catch(n){return{data:null,error:l2({error:n,options:r})}}}async function v2(r){try{const n=await navigator.credentials.get(r);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ec("Browser returned unexpected credential type",n)}:{data:null,error:new Ec("Empty credential response",n)}}catch(n){return{data:null,error:u2({error:n,options:r})}}}const y2={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_2={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Tc(...r){const n=c=>c!==null&&typeof c=="object"&&!Array.isArray(c),a=c=>c instanceof ArrayBuffer||ArrayBuffer.isView(c),o={};for(const c of r)if(c)for(const h in c){const m=c[h];if(m!==void 0)if(Array.isArray(m))o[h]=m;else if(a(m))o[h]=m;else if(n(m)){const v=o[h];n(v)?o[h]=Tc(v,m):o[h]=Tc(m)}else o[h]=m}return o}function b2(r,n){return Tc(y2,r,n||{})}function x2(r,n){return Tc(_2,r,n||{})}class w2{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:a,friendlyName:o,signal:c},h){try{const{data:m,error:v}=await this.client.mfa.challenge({factorId:n,webauthn:a});if(!m)return{data:null,error:v};const y=c??h2.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:_}=m.webauthn.credential_options.publicKey;_.name||(_.name=`${_.id}:${o}`),_.displayName||(_.displayName=_.name)}switch(m.webauthn.type){case"create":{const _=b2(m.webauthn.credential_options.publicKey,h?.create),{data:E,error:x}=await g2({publicKey:_,signal:y});return E?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:E}},error:null}:{data:null,error:x}}case"request":{const _=x2(m.webauthn.credential_options.publicKey,h?.request),{data:E,error:x}=await v2(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:_,signal:y}));return E?{data:{factorId:n,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:E}},error:null}:{data:null,error:x}}}}catch(m){return we(m)?{data:null,error:m}:{data:null,error:new rr("Unexpected error in challenge",m)}}}async _verify({challengeId:n,factorId:a,webauthn:o}){return this.client.mfa.verify({factorId:a,challengeId:n,webauthn:o})}async _authenticate({factorId:n,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!a)return{data:null,error:new Pl("rpId is required for WebAuthn authentication")};try{if(!Dv())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:m,error:v}=await this.challenge({factorId:n,webauthn:{rpId:a,rpOrigins:o},signal:c},{request:h});if(!m)return{data:null,error:v};const{webauthn:y}=m;return this._verify({factorId:n,challengeId:m.challengeId,webauthn:{type:y.type,rpId:a,rpOrigins:o,credential_response:y.credential_response}})}catch(m){return we(m)?{data:null,error:m}:{data:null,error:new rr("Unexpected error in authenticate",m)}}}async _register({friendlyName:n,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:c}={}},h){if(!a)return{data:null,error:new Pl("rpId is required for WebAuthn registration")};try{if(!Dv())return{data:null,error:new rr("Browser does not support WebAuthn",null)};const{data:m,error:v}=await this._enroll({friendlyName:n});if(!m)return await this.client.mfa.listFactors().then(E=>{var x;return(x=E.data)===null||x===void 0?void 0:x.all.find(O=>O.factor_type==="webauthn"&&O.friendly_name===n&&O.status!=="unverified")}).then(E=>E?this.client.mfa.unenroll({factorId:E?.id}):void 0),{data:null,error:v};const{data:y,error:_}=await this._challenge({factorId:m.id,friendlyName:m.friendly_name,webauthn:{rpId:a,rpOrigins:o},signal:c},{create:h});return y?this._verify({factorId:m.id,challengeId:y.challengeId,webauthn:{rpId:a,rpOrigins:o,type:y.webauthn.type,credential_response:y.webauthn.credential_response}}):{data:null,error:_}}catch(m){return we(m)?{data:null,error:m}:{data:null,error:new rr("Unexpected error in register",m)}}}}a2();const S2={url:yS,storageKey:_S,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Uv(r,n,a){return await a()}const lo={};class Dl{get jwks(){var n,a;return(a=(n=lo[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(n){lo[this.storageKey]=Object.assign(Object.assign({},lo[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,a;return(a=(n=lo[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){lo[this.storageKey]=Object.assign(Object.assign({},lo[this.storageKey]),{cachedAt:n})}constructor(n){var a,o,c;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const h=Object.assign(Object.assign({},S2),n);if(this.storageKey=h.storageKey,this.instanceID=(a=Dl.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Dl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!h.debug,typeof h.debug=="function"&&(this.logger=h.debug),this.instanceID>0&&an()){const m=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(m),this.logDebugMessages&&console.trace(m)}if(this.persistSession=h.persistSession,this.autoRefreshToken=h.autoRefreshToken,this.admin=new t2({url:h.url,headers:h.headers,fetch:h.fetch}),this.url=h.url,this.headers=h.headers,this.fetch=ky(h.fetch),this.lock=h.lock||Uv,this.detectSessionInUrl=h.detectSessionInUrl,this.flowType=h.flowType,this.hasCustomAuthorizationHeader=h.hasCustomAuthorizationHeader,this.throwOnError=h.throwOnError,h.lock?this.lock=h.lock:this.persistSession&&an()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=i2:this.lock=Uv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new w2(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(h.storage?this.storage=h.storage:Ly()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pv(this.memoryStorage)),h.userStorage&&(this.userStorage=h.userStorage)):(this.memoryStorage={},this.storage=Pv(this.memoryStorage)),an()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(m){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",m)}(c=this.broadcastChannel)===null||c===void 0||c.addEventListener("message",async m=>{this._debug("received broadcast notification from other tab or client",m),await this._notifyAllSubscribers(m.data.event,m.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Ay}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let a={},o="none";if(an()&&(a=zS(window.location.href),this._isImplicitGrantCallback(a)?o="implicit":await this._isPKCECallback(a)&&(o="pkce")),an()&&this.detectSessionInUrl&&o!=="none"){const{data:c,error:h}=await this._getSessionFromURL(a,o);if(h){if(this._debug("#_initialize()","error detecting session from URL",h),OS(h)){const y=(n=h.details)===null||n===void 0?void 0:n.code;if(y==="identity_already_exists"||y==="identity_not_found"||y==="single_identity_not_deletable")return{error:h}}return await this._removeSession(),{error:h}}const{session:m,redirectType:v}=c;return this._debug("#_initialize()","detected session in URL",m,"redirect type",v),await this._saveSession(m),setTimeout(async()=>{v==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",m):await this._notifyAllSubscribers("SIGNED_IN",m)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return we(a)?this._returnResult({error:a}):this._returnResult({error:new rr("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var a,o,c;try{const h=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(a=n?.options)===null||a===void 0?void 0:a.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(c=n?.options)===null||c===void 0?void 0:c.captchaToken}},xform:wi}),{data:m,error:v}=h;if(v||!m)return this._returnResult({data:{user:null,session:null},error:v});const y=m.session,_=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:_,session:y},error:null})}catch(h){if(we(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signUp(n){var a,o,c;try{let h;if("email"in n){const{email:E,password:x,options:O}=n;let N=null,A=null;this.flowType==="pkce"&&([N,A]=await so(this.storage,this.storageKey)),h=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:O?.emailRedirectTo,body:{email:E,password:x,data:(a=O?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:O?.captchaToken},code_challenge:N,code_challenge_method:A},xform:wi})}else if("phone"in n){const{phone:E,password:x,options:O}=n;h=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:E,password:x,data:(o=O?.data)!==null&&o!==void 0?o:{},channel:(c=O?.channel)!==null&&c!==void 0?c:"sms",gotrue_meta_security:{captcha_token:O?.captchaToken}},xform:wi})}else throw new pc("You must provide either an email or phone number and a password");const{data:m,error:v}=h;if(v||!m)return await nn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:v});const y=m.session,_=m.user;return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",y)),this._returnResult({data:{user:_,session:y},error:null})}catch(h){if(await nn(this.storage,`${this.storageKey}-code-verifier`),we(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async signInWithPassword(n){try{let a;if("email"in n){const{email:h,password:m,options:v}=n;a=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:h,password:m,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Mv})}else if("phone"in n){const{phone:h,password:m,options:v}=n;a=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:h,password:m,gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Mv})}else throw new pc("You must provide either an email or phone number and a password");const{data:o,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!o||!o.session||!o.user){const h=new ao;return this._returnResult({data:{user:null,session:null},error:h})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:c})}catch(a){if(we(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(n){var a,o,c,h;return await this._handleProviderSignIn(n.provider,{redirectTo:(a=n.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=n.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=n.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:(h=n.options)===null||h===void 0?void 0:h.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:a}=n;switch(a){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(n){var a,o,c,h,m,v,y,_,E,x,O;let N,A;if("message"in n)N=n.message,A=n.signature;else{const{chain:z,wallet:B,statement:P,options:U}=n;let q;if(an())if(typeof B=="object")q=B;else{const fe=window;if("ethereum"in fe&&typeof fe.ethereum=="object"&&"request"in fe.ethereum&&typeof fe.ethereum.request=="function")q=fe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof B!="object"||!U?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=B}const te=new URL((a=U?.url)!==null&&a!==void 0?a:window.location.href),de=await q.request({method:"eth_requestAccounts"}).then(fe=>fe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!de||de.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const he=zy(de[0]);let le=(o=U?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!le){const fe=await q.request({method:"eth_chainId"});le=s2(fe)}const je={domain:te.host,address:he,statement:P,uri:te.href,version:"1",chainId:le,nonce:(c=U?.signInWithEthereum)===null||c===void 0?void 0:c.nonce,issuedAt:(m=(h=U?.signInWithEthereum)===null||h===void 0?void 0:h.issuedAt)!==null&&m!==void 0?m:new Date,expirationTime:(v=U?.signInWithEthereum)===null||v===void 0?void 0:v.expirationTime,notBefore:(y=U?.signInWithEthereum)===null||y===void 0?void 0:y.notBefore,requestId:(_=U?.signInWithEthereum)===null||_===void 0?void 0:_.requestId,resources:(E=U?.signInWithEthereum)===null||E===void 0?void 0:E.resources};N=o2(je),A=await q.request({method:"personal_sign",params:[r2(N),he]})}try{const{data:z,error:B}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:N,signature:A},!((x=n.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(O=n.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:wi});if(B)throw B;if(!z||!z.session||!z.user){const P=new ao;return this._returnResult({data:{user:null,session:null},error:P})}return z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),this._returnResult({data:Object.assign({},z),error:B})}catch(z){if(we(z))return this._returnResult({data:{user:null,session:null},error:z});throw z}}async signInWithSolana(n){var a,o,c,h,m,v,y,_,E,x,O,N;let A,z;if("message"in n)A=n.message,z=n.signature;else{const{chain:B,wallet:P,statement:U,options:q}=n;let te;if(an())if(typeof P=="object")te=P;else{const he=window;if("solana"in he&&typeof he.solana=="object"&&("signIn"in he.solana&&typeof he.solana.signIn=="function"||"signMessage"in he.solana&&typeof he.solana.signMessage=="function"))te=he.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!q?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");te=P}const de=new URL((a=q?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in te&&te.signIn){const he=await te.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},q?.signInWithSolana),{version:"1",domain:de.host,uri:de.href}),U?{statement:U}:null));let le;if(Array.isArray(he)&&he[0]&&typeof he[0]=="object")le=he[0];else if(he&&typeof he=="object"&&"signedMessage"in he&&"signature"in he)le=he;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in le&&"signature"in le&&(typeof le.signedMessage=="string"||le.signedMessage instanceof Uint8Array)&&le.signature instanceof Uint8Array)A=typeof le.signedMessage=="string"?le.signedMessage:new TextDecoder().decode(le.signedMessage),z=le.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in te)||typeof te.signMessage!="function"||!("publicKey"in te)||typeof te!="object"||!te.publicKey||!("toBase58"in te.publicKey)||typeof te.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${de.host} wants you to sign in with your Solana account:`,te.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${de.href}`,`Issued At: ${(c=(o=q?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date().toISOString()}`,...!((h=q?.signInWithSolana)===null||h===void 0)&&h.notBefore?[`Not Before: ${q.signInWithSolana.notBefore}`]:[],...!((m=q?.signInWithSolana)===null||m===void 0)&&m.expirationTime?[`Expiration Time: ${q.signInWithSolana.expirationTime}`]:[],...!((v=q?.signInWithSolana)===null||v===void 0)&&v.chainId?[`Chain ID: ${q.signInWithSolana.chainId}`]:[],...!((y=q?.signInWithSolana)===null||y===void 0)&&y.nonce?[`Nonce: ${q.signInWithSolana.nonce}`]:[],...!((_=q?.signInWithSolana)===null||_===void 0)&&_.requestId?[`Request ID: ${q.signInWithSolana.requestId}`]:[],...!((x=(E=q?.signInWithSolana)===null||E===void 0?void 0:E.resources)===null||x===void 0)&&x.length?["Resources",...q.signInWithSolana.resources.map(le=>`- ${le}`)]:[]].join(`
`);const he=await te.signMessage(new TextEncoder().encode(A),"utf8");if(!he||!(he instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");z=he}}try{const{data:B,error:P}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:lr(z)},!((O=n.options)===null||O===void 0)&&O.captchaToken?{gotrue_meta_security:{captcha_token:(N=n.options)===null||N===void 0?void 0:N.captchaToken}}:null),xform:wi});if(P)throw P;if(!B||!B.session||!B.user){const U=new ao;return this._returnResult({data:{user:null,session:null},error:U})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:P})}catch(B){if(we(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async _exchangeCodeForSession(n){const a=await ir(this.storage,`${this.storageKey}-code-verifier`),[o,c]=(a??"").split("/");try{if(!o&&this.flowType==="pkce")throw new CS;const{data:h,error:m}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:o},xform:wi});if(await nn(this.storage,`${this.storageKey}-code-verifier`),m)throw m;if(!h||!h.session||!h.user){const v=new ao;return this._returnResult({data:{user:null,session:null,redirectType:null},error:v})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign(Object.assign({},h),{redirectType:c??null}),error:m})}catch(h){if(await nn(this.storage,`${this.storageKey}-code-verifier`),we(h))return this._returnResult({data:{user:null,session:null,redirectType:null},error:h});throw h}}async signInWithIdToken(n){try{const{options:a,provider:o,token:c,access_token:h,nonce:m}=n,v=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:c,access_token:h,nonce:m,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:wi}),{data:y,error:_}=v;if(_)return this._returnResult({data:{user:null,session:null},error:_});if(!y||!y.session||!y.user){const E=new ao;return this._returnResult({data:{user:null,session:null},error:E})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:y,error:_})}catch(a){if(we(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(n){var a,o,c,h,m;try{if("email"in n){const{email:v,options:y}=n;let _=null,E=null;this.flowType==="pkce"&&([_,E]=await so(this.storage,this.storageKey));const{error:x}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:v,data:(a=y?.data)!==null&&a!==void 0?a:{},create_user:(o=y?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:_,code_challenge_method:E},redirectTo:y?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:x})}if("phone"in n){const{phone:v,options:y}=n,{data:_,error:E}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:v,data:(c=y?.data)!==null&&c!==void 0?c:{},create_user:(h=y?.shouldCreateUser)!==null&&h!==void 0?h:!0,gotrue_meta_security:{captcha_token:y?.captchaToken},channel:(m=y?.channel)!==null&&m!==void 0?m:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:_?.message_id},error:E})}throw new pc("You must provide either an email or phone number.")}catch(v){if(await nn(this.storage,`${this.storageKey}-code-verifier`),we(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async verifyOtp(n){var a,o;try{let c,h;"options"in n&&(c=(a=n.options)===null||a===void 0?void 0:a.redirectTo,h=(o=n.options)===null||o===void 0?void 0:o.captchaToken);const{data:m,error:v}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:h}}),redirectTo:c,xform:wi});if(v)throw v;if(!m)throw new Error("An error occurred on token verification.");const y=m.session,_=m.user;return y?.access_token&&(await this._saveSession(y),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",y)),this._returnResult({data:{user:_,session:y},error:null})}catch(c){if(we(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithSSO(n){var a,o,c,h,m;try{let v=null,y=null;this.flowType==="pkce"&&([v,y]=await so(this.storage,this.storageKey));const _=await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(o=(a=n.options)===null||a===void 0?void 0:a.redirectTo)!==null&&o!==void 0?o:void 0}),!((c=n?.options)===null||c===void 0)&&c.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:v,code_challenge_method:y}),headers:this.headers,xform:QS});return!((h=_.data)===null||h===void 0)&&h.url&&an()&&!(!((m=n.options)===null||m===void 0)&&m.skipBrowserRedirect)&&window.location.assign(_.data.url),this._returnResult(_)}catch(v){if(await nn(this.storage,`${this.storageKey}-code-verifier`),we(v))return this._returnResult({data:null,error:v});throw v}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;if(o)throw o;if(!a)throw new qn;const{error:c}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:c})})}catch(n){if(we(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const a=`${this.url}/resend`;if("email"in n){const{email:o,type:c,options:h}=n,{error:m}=await Oe(this.fetch,"POST",a,{headers:this.headers,body:{email:o,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}else if("phone"in n){const{phone:o,type:c,options:h}=n,{data:m,error:v}=await Oe(this.fetch,"POST",a,{headers:this.headers,body:{phone:o,type:c,gotrue_meta_security:{captcha_token:h?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:v})}throw new pc("You must provide either an email or phone number and a type")}catch(a){if(we(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(n,a){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),c=(async()=>(await o,await a()))();return this.pendingInLock.push((async()=>{try{await c}catch{}})()),c}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=a();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const c=[...this.pendingInLock];await Promise.all(c),this.pendingInLock.splice(0,c.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await n(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const a=await ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?n=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const o=n.expires_at?n.expires_at*1e3-Date.now()<Zd:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",n.expires_at),!o){if(this.userStorage){const m=await ir(this.userStorage,this.storageKey+"-user");m?.user?n.user=m.user:n.user=Kd()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const m={value:this.suppressGetSessionWarning};n.user=YS(n.user,m),m.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{session:null},error:h}):this._returnResult({data:{session:c},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const a=await this._acquireLock(-1,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(n){try{return n?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:gs}):await this._useSession(async a=>{var o,c,h;const{data:m,error:v}=a;if(v)throw v;return!(!((o=m.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qn}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(h=(c=m.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0,xform:gs})})}catch(a){if(we(a))return TS(a)&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(n,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,a))}async _updateUser(n,a={}){try{return await this._useSession(async o=>{const{data:c,error:h}=o;if(h)throw h;if(!c.session)throw new qn;const m=c.session;let v=null,y=null;this.flowType==="pkce"&&n.email!=null&&([v,y]=await so(this.storage,this.storageKey));const{data:_,error:E}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:v,code_challenge_method:y}),jwt:m.access_token,xform:gs});if(E)throw E;return m.user=_.user,await this._saveSession(m),await this._notifyAllSubscribers("USER_UPDATED",m),this._returnResult({data:{user:m.user},error:null})})}catch(o){if(await nn(this.storage,`${this.storageKey}-code-verifier`),we(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new qn;const a=Date.now()/1e3;let o=a,c=!0,h=null;const{payload:m}=Gd(n.access_token);if(m.exp&&(o=m.exp,c=o<=a),c){const{data:v,error:y}=await this._callRefreshToken(n.refresh_token);if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!v)return{data:{user:null,session:null},error:null};h=v}else{const{data:v,error:y}=await this._getUser(n.access_token);if(y)throw y;h={access_token:n.access_token,refresh_token:n.refresh_token,user:v.user,token_type:"bearer",expires_in:o-a,expires_at:o},await this._saveSession(h),await this._notifyAllSubscribers("SIGNED_IN",h)}return this._returnResult({data:{user:h.user,session:h},error:null})}catch(a){if(we(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async a=>{var o;if(!n){const{data:m,error:v}=a;if(v)throw v;n=(o=m.session)!==null&&o!==void 0?o:void 0}if(!n?.refresh_token)throw new qn;const{data:c,error:h}=await this._callRefreshToken(n.refresh_token);return h?this._returnResult({data:{user:null,session:null},error:h}):c?this._returnResult({data:{user:c.user,session:c},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(we(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(n,a){try{if(!an())throw new gc("No browser detected.");if(n.error||n.error_description||n.error_code)throw new gc(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Cv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gc("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Cv("No code detected.");const{data:U,error:q}=await this._exchangeCodeForSession(n.code);if(q)throw q;const te=new URL(window.location.href);return te.searchParams.delete("code"),window.history.replaceState(window.history.state,"",te.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:c,access_token:h,refresh_token:m,expires_in:v,expires_at:y,token_type:_}=n;if(!h||!v||!m||!_)throw new gc("No session defined in URL");const E=Math.round(Date.now()/1e3),x=parseInt(v);let O=E+x;y&&(O=parseInt(y));const N=O-E;N*1e3<=co&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${N}s, should have been closer to ${x}s`);const A=O-x;E-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,O,E):E-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,O,E);const{data:z,error:B}=await this._getUser(h);if(B)throw B;const P={provider_token:o,provider_refresh_token:c,access_token:h,expires_in:x,expires_at:O,refresh_token:m,token_type:_,user:z.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:n.type},error:null})}catch(o){if(we(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const a=await ir(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&a)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async a=>{var o;const{data:c,error:h}=a;if(h)return this._returnResult({error:h});const m=(o=c.session)===null||o===void 0?void 0:o.access_token;if(m){const{error:v}=await this.admin.signOut(m,n);if(v&&!(ES(v)&&(v.status===404||v.status===401||v.status===403)))return this._returnResult({error:v})}return n!=="others"&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const a=MS(),o={id:a,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:o}}}async _emitInitialSession(n){return await this._useSession(async a=>{var o,c;try{const{data:{session:h},error:m}=a;if(m)throw m;await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",h)),this._debug("INITIAL_SESSION","callback id",n,"session",h)}catch(h){await((c=this.stateChangeEmitters.get(n))===null||c===void 0?void 0:c.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",h),console.error(h)}})}async resetPasswordForEmail(n,a={}){let o=null,c=null;this.flowType==="pkce"&&([o,c]=await so(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:c,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(h){if(await nn(this.storage,`${this.storageKey}-code-verifier`),we(h))return this._returnResult({data:null,error:h});throw h}}async getUserIdentities(){var n;try{const{data:a,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(n=a.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(a){if(we(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var a;try{const{data:o,error:c}=await this._useSession(async h=>{var m,v,y,_,E;const{data:x,error:O}=h;if(O)throw O;const N=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(m=n.options)===null||m===void 0?void 0:m.redirectTo,scopes:(v=n.options)===null||v===void 0?void 0:v.scopes,queryParams:(y=n.options)===null||y===void 0?void 0:y.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",N,{headers:this.headers,jwt:(E=(_=x.session)===null||_===void 0?void 0:_.access_token)!==null&&E!==void 0?E:void 0})});if(c)throw c;return an()&&!(!((a=n.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:n.provider,url:o?.url},error:null})}catch(o){if(we(o))return this._returnResult({data:{provider:n.provider,url:null},error:o});throw o}}async linkIdentityIdToken(n){return await this._useSession(async a=>{var o;try{const{error:c,data:{session:h}}=a;if(c)throw c;const{options:m,provider:v,token:y,access_token:_,nonce:E}=n,x=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=h?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:v,id_token:y,access_token:_,nonce:E,link_identity:!0,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:wi}),{data:O,error:N}=x;return N?this._returnResult({data:{user:null,session:null},error:N}):!O||!O.session||!O.user?this._returnResult({data:{user:null,session:null},error:new ao}):(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("USER_UPDATED",O.session)),this._returnResult({data:O,error:N}))}catch(c){if(await nn(this.storage,`${this.storageKey}-code-verifier`),we(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}})}async unlinkIdentity(n){try{return await this._useSession(async a=>{var o,c;const{data:h,error:m}=a;if(m)throw m;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})})}catch(a){if(we(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(n){const a=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(a,"begin");try{const o=Date.now();return await US(async c=>(c>0&&await DS(200*Math.pow(2,c-1)),this._debug(a,"refreshing attempt",c),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:wi})),(c,h)=>{const m=200*Math.pow(2,c);return h&&Vd(h)&&Date.now()+m-o<co})}catch(o){if(this._debug(a,"error",o),we(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(a,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,a){const o=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",a,"url",o),an()&&!a.skipBrowserRedirect&&window.location.assign(o),{data:{provider:n,url:o},error:null}}async _recoverAndRefresh(){var n,a;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const c=await ir(this.storage,this.storageKey);if(c&&this.userStorage){let m=await ir(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!m&&(m={user:c.user},await ho(this.userStorage,this.storageKey+"-user",m)),c.user=(n=m?.user)!==null&&n!==void 0?n:Kd()}else if(c&&!c.user&&!c.user){const m=await ir(this.storage,this.storageKey+"-user");m&&m?.user?(c.user=m.user,await nn(this.storage,this.storageKey+"-user"),await ho(this.storage,this.storageKey,c)):c.user=Kd()}if(this._debug(o,"session from storage",c),!this._isValidSession(c)){this._debug(o,"session is not valid"),c!==null&&await this._removeSession();return}const h=((a=c.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Zd;if(this._debug(o,`session has${h?"":" not"} expired with margin of ${Zd}s`),h){if(this.autoRefreshToken&&c.refresh_token){const{error:m}=await this._callRefreshToken(c.refresh_token);m&&(console.error(m),Vd(m)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",m),await this._removeSession()))}}else if(c.user&&c.user.__isUserNotAvailableProxy===!0)try{const{data:m,error:v}=await this._getUser(c.access_token);!v&&m?.user?(c.user=m.user,await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(m){console.error("Error getting user data:",m),this._debug(o,"error getting user data, skipping SIGNED_IN notification",m)}else await this._notifyAllSubscribers("SIGNED_IN",c)}catch(c){this._debug(o,"error",c),console.error(c);return}finally{this._debug(o,"end")}}async _callRefreshToken(n){var a,o;if(!n)throw new qn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const c=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(c,"begin");try{this.refreshingDeferred=new Mc;const{data:h,error:m}=await this._refreshAccessToken(n);if(m)throw m;if(!h.session)throw new qn;await this._saveSession(h.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",h.session);const v={data:h.session,error:null};return this.refreshingDeferred.resolve(v),v}catch(h){if(this._debug(c,"error",h),we(h)){const m={data:null,error:h};return Vd(h)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(m),m}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(h),h}finally{this.refreshingDeferred=null,this._debug(c,"end")}}async _notifyAllSubscribers(n,a,o=!0){const c=`#_notifyAllSubscribers(${n})`;this._debug(c,"begin",a,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:n,session:a});const h=[],m=Array.from(this.stateChangeEmitters.values()).map(async v=>{try{await v.callback(n,a)}catch(y){h.push(y)}});if(await Promise.all(m),h.length>0){for(let v=0;v<h.length;v+=1)console.error(h[v]);throw h[0]}}finally{this._debug(c,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await nn(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},n),o=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&a.user&&await ho(this.userStorage,this.storageKey+"-user",{user:a.user});const c=Object.assign({},a);delete c.user;const h=Lv(c);await ho(this.storage,this.storageKey,h)}else{const c=Lv(a);await ho(this.storage,this.storageKey,c)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nn(this.storage,this.storageKey),await nn(this.storage,this.storageKey+"-code-verifier"),await nn(this.storage,this.storageKey+"-user"),this.userStorage&&await nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&an()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),co);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async a=>{const{data:{session:o}}=a;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const c=Math.floor((o.expires_at*1e3-n)/co);this._debug("#_autoRefreshTokenTick()",`access token expires in ${c} ticks, a tick lasts ${co}ms, refresh threshold is ${hf} ticks`),c<=hf&&await this._callRefreshToken(o.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof My)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!an()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const a=`#_onVisibilityChanged(${n})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,a,o){const c=[`provider=${encodeURIComponent(a)}`];if(o?.redirectTo&&c.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&c.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[h,m]=await so(this.storage,this.storageKey),v=new URLSearchParams({code_challenge:`${encodeURIComponent(h)}`,code_challenge_method:`${encodeURIComponent(m)}`});c.push(v.toString())}if(o?.queryParams){const h=new URLSearchParams(o.queryParams);c.push(h.toString())}return o?.skipBrowserRedirect&&c.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${n}?${c.join("&")}`}async _unenroll(n){try{return await this._useSession(async a=>{var o;const{data:c,error:h}=a;return h?this._returnResult({data:null,error:h}):await Oe(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token})})}catch(a){if(we(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(n){try{return await this._useSession(async a=>{var o,c;const{data:h,error:m}=a;if(m)return this._returnResult({data:null,error:m});const v=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:y,error:_}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:v,headers:this.headers,jwt:(o=h?.session)===null||o===void 0?void 0:o.access_token});return _?this._returnResult({data:null,error:_}):(n.factorType==="totp"&&y.type==="totp"&&(!((c=y?.totp)===null||c===void 0)&&c.qr_code)&&(y.totp.qr_code=`data:image/svg+xml;utf-8,${y.totp.qr_code}`),this._returnResult({data:y,error:null}))})}catch(a){if(we(a))return this._returnResult({data:null,error:a});throw a}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var o;const{data:c,error:h}=a;if(h)return this._returnResult({data:null,error:h});const m=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?m2(n.webauthn.credential_response):p2(n.webauthn.credential_response)})}:{code:n.code}),{data:v,error:y}=await Oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:m,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});return y?this._returnResult({data:null,error:y}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+v.expires_in},v)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",v),this._returnResult({data:v,error:y}))})}catch(a){if(we(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var o;const{data:c,error:h}=a;if(h)return this._returnResult({data:null,error:h});const m=await Oe(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(o=c?.session)===null||o===void 0?void 0:o.access_token});if(m.error)return m;const{data:v}=m;if(v.type!=="webauthn")return{data:v,error:null};switch(v.webauthn.type){case"create":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:d2(v.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},v),{webauthn:Object.assign(Object.assign({},v.webauthn),{credential_options:Object.assign(Object.assign({},v.webauthn.credential_options),{publicKey:f2(v.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(we(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(n){const{data:a,error:o}=await this._challenge({factorId:n.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:n.factorId,challengeId:a.id,code:n.code})}async _listFactors(){var n;const{data:{user:a},error:o}=await this.getUser();if(o)return{data:null,error:o};const c={all:[],phone:[],totp:[],webauthn:[]};for(const h of(n=a?.factors)!==null&&n!==void 0?n:[])c.all.push(h),h.status==="verified"&&c[h.factor_type].push(h);return{data:c,error:null}}async _getAuthenticatorAssuranceLevel(){var n,a;const{data:{session:o},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=Gd(o.access_token);let m=null;h.aal&&(m=h.aal);let v=m;((a=(n=o.user.factors)===null||n===void 0?void 0:n.filter(E=>E.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(v="aal2");const _=h.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:_},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async a=>{const{data:{session:o},error:c}=a;return c?this._returnResult({data:null,error:c}):o?await Oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:o.access_token,xform:h=>({data:h,error:null})}):this._returnResult({data:null,error:new qn})})}catch(a){if(we(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(n,a){try{return await this._useSession(async o=>{const{data:{session:c},error:h}=o;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new qn});const m=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"approve"},xform:v=>({data:v,error:null})});return m.data&&m.data.redirect_url&&an()&&!a?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(o){if(we(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(n,a){try{return await this._useSession(async o=>{const{data:{session:c},error:h}=o;if(h)return this._returnResult({data:null,error:h});if(!c)return this._returnResult({data:null,error:new qn});const m=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:c.access_token,body:{action:"deny"},xform:v=>({data:v,error:null})});return m.data&&m.data.redirect_url&&an()&&!a?.skipBrowserRedirect&&window.location.assign(m.data.redirect_url),m})}catch(o){if(we(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;return o?this._returnResult({data:null,error:o}):a?await Oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new qn})})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async a=>{const{data:{session:o},error:c}=a;return c?this._returnResult({data:null,error:c}):o?(await Oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qn})})}catch(a){if(we(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(n,a={keys:[]}){let o=a.keys.find(v=>v.kid===n);if(o)return o;const c=Date.now();if(o=this.jwks.keys.find(v=>v.kid===n),o&&this.jwks_cached_at+wS>c)return o;const{data:h,error:m}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(m)throw m;return!h.keys||h.keys.length===0||(this.jwks=h,this.jwks_cached_at=c,o=h.keys.find(v=>v.kid===n),!o)?null:o}async getClaims(n,a={}){try{let o=n;if(!o){const{data:N,error:A}=await this.getSession();if(A||!N.session)return this._returnResult({data:null,error:A});o=N.session.access_token}const{header:c,payload:h,signature:m,raw:{header:v,payload:y}}=Gd(o);a?.allowExpired||VS(h.exp);const _=!c.alg||c.alg.startsWith("HS")||!c.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(c.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!_){const{error:N}=await this.getUser(o);if(N)throw N;return{data:{claims:h,header:c,signature:m},error:null}}const E=GS(c.alg),x=await crypto.subtle.importKey("jwk",_,E,!0,["verify"]);if(!await crypto.subtle.verify(E,x,m,LS(`${v}.${y}`)))throw new mf("Invalid JWT signature");return{data:{claims:h,header:c,signature:m},error:null}}catch(o){if(we(o))return this._returnResult({data:null,error:o});throw o}}}Dl.nextInstanceID={};const E2=Dl,T2="2.88.0";let El="";typeof Deno<"u"?El="deno":typeof document<"u"?El="web":typeof navigator<"u"&&navigator.product==="ReactNative"?El="react-native":El="node";const O2={"X-Client-Info":`supabase-js-${El}/${T2}`},C2={headers:O2},N2={schema:"public"},A2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R2={};function Ul(r){"@babel/helpers - typeof";return Ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ul(r)}function j2(r,n){if(Ul(r)!="object"||!r)return r;var a=r[Symbol.toPrimitive];if(a!==void 0){var o=a.call(r,n);if(Ul(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}function L2(r){var n=j2(r,"string");return Ul(n)=="symbol"?n:n+""}function k2(r,n,a){return(n=L2(n))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,r}function Bv(r,n){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);n&&(o=o.filter(function(c){return Object.getOwnPropertyDescriptor(r,c).enumerable})),a.push.apply(a,o)}return a}function Ot(r){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Bv(Object(a),!0).forEach(function(o){k2(r,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):Bv(Object(a)).forEach(function(o){Object.defineProperty(r,o,Object.getOwnPropertyDescriptor(a,o))})}return r}const M2=r=>r?(...n)=>r(...n):(...n)=>fetch(...n),z2=()=>Headers,P2=(r,n,a)=>{const o=M2(a),c=z2();return async(h,m)=>{var v;const y=(v=await n())!==null&&v!==void 0?v:r;let _=new c(m?.headers);return _.has("apikey")||_.set("apikey",r),_.has("Authorization")||_.set("Authorization",`Bearer ${y}`),o(h,Ot(Ot({},m),{},{headers:_}))}};function D2(r){return r.endsWith("/")?r:r+"/"}function U2(r,n){var a,o;const{db:c,auth:h,realtime:m,global:v}=r,{db:y,auth:_,realtime:E,global:x}=n,O={db:Ot(Ot({},y),c),auth:Ot(Ot({},_),h),realtime:Ot(Ot({},E),m),storage:{},global:Ot(Ot(Ot({},x),v),{},{headers:Ot(Ot({},(a=x?.headers)!==null&&a!==void 0?a:{}),(o=v?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return r.accessToken?O.accessToken=r.accessToken:delete O.accessToken,O}function B2(r){const n=r?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(D2(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var H2=class extends E2{constructor(r){super(r)}},I2=class{constructor(r,n,a){var o,c;this.supabaseUrl=r,this.supabaseKey=n;const h=B2(r);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,v={db:N2,realtime:R2,auth:Ot(Ot({},A2),{},{storageKey:m}),global:C2},y=U2(a??{},v);if(this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken)this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(E,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}});else{var _;this.auth=this._initSupabaseAuthClient((_=y.auth)!==null&&_!==void 0?_:{},this.headers,y.global.fetch)}this.fetch=P2(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Ot({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(E=>this.realtime.setAuth(E)).catch(E=>console.warn("Failed to set initial Realtime auth token:",E)),this.rest=new b1(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new vS(this.storageUrl.href,this.headers,this.fetch,a?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new p1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,n={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,n,a)}channel(r,n={config:{}}){return this.realtime.channel(r,n)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var r=this,n,a;if(r.accessToken)return await r.accessToken();const{data:o}=await r.auth.getSession();return(n=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&n!==void 0?n:r.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:o,userStorage:c,storageKey:h,flowType:m,lock:v,debug:y,throwOnError:_},E,x){const O={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H2({url:this.authUrl.href,headers:Ot(Ot({},O),E),storageKey:h,autoRefreshToken:r,persistSession:n,detectSessionInUrl:a,storage:o,userStorage:c,flowType:m,lock:v,debug:y,throwOnError:_,fetch:x,hasCustomAuthorizationHeader:Object.keys(this.headers).some(N=>N.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new D1(this.realtimeUrl.href,Ot(Ot({},r),{},{params:Ot(Ot({},{apikey:this.supabaseKey}),r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(r,n,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const q2=(r,n,a)=>new I2(r,n,a);function $2(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const n=r.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}$2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Z2="https://ffezmntipfhktaoowbik.supabase.co",V2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZmZXptbnRpcGZoa3Rhb293YmlrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5Njk3MTcsImV4cCI6MjA4MTU0NTcxN30.Zd47GMcmLu3ALM-FJ6R_hq6RKMOt3WQrJW3GpNzVqR4",Dt=q2(Z2,V2,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},global:{fetch:(...r)=>fetch(...r)}}),Dy=j.createContext(void 0);function G2({children:r}){const[n,a]=j.useState(null),[o,c]=j.useState(null),[h,m]=j.useState(!1),[v,y]=j.useState(!0);j.useEffect(()=>{(async()=>{try{console.log("Auth: Initializing...");const{data:{session:z},error:B}=await Dt.auth.getSession();if(B)throw B;console.log("Auth: Session retrieved",z?.user?.id),c(z),a(z?.user??null),z?.user?.app_metadata?.is_admin?(console.log("Auth: Admin detected via JWT"),m(!0)):m(!1)}catch(z){console.error("Auth: Initialization error:",z),m(!1)}finally{console.log("Auth: Loading complete"),y(!1)}})();const{data:{subscription:A}}=Dt.auth.onAuthStateChange((z,B)=>{try{console.log("Auth: State change event",z),c(B),a(B?.user??null),B?.user?.app_metadata?.is_admin?(console.log("Auth: Admin detected via JWT (Update)"),m(!0)):m(!1)}catch(P){console.error("Auth: State change error:",P)}finally{y(!1)}});return()=>A.unsubscribe()},[]);const _=async()=>{const{error:N}=await Dt.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/macau-pet-eats/`}});return{error:N}},E=async(N,A)=>{const{error:z}=await Dt.auth.signInWithPassword({email:N,password:A});return{error:z}},x=async(N,A)=>{const{error:z}=await Dt.auth.signUp({email:N,password:A});return{error:z}},O=async()=>{console.log("Auth: Clearing local state"),c(null),a(null),m(!1);try{console.log("Auth: Signing out network...");const N=Dt.auth.signOut(),A=new Promise(z=>setTimeout(z,2e3));await Promise.race([N,A])}catch(N){console.error("Auth: SignOut exception",N)}};return b.jsx(Dy.Provider,{value:{user:n,session:o,isAdmin:h,isLoading:v,signInWithGoogle:_,signInWithEmail:E,signUpWithEmail:x,signOut:O},children:r})}function yo(){const r=j.useContext(Dy);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r}const K2=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Y2=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,a,o)=>o?o.toUpperCase():a.toLowerCase()),Hv=r=>{const n=Y2(r);return n.charAt(0).toUpperCase()+n.slice(1)},Uy=(...r)=>r.filter((n,a,o)=>!!n&&n.trim()!==""&&o.indexOf(n)===a).join(" ").trim(),F2=r=>{for(const n in r)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var J2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const X2=j.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:c="",children:h,iconNode:m,...v},y)=>j.createElement("svg",{ref:y,...J2,width:n,height:n,stroke:r,strokeWidth:o?Number(a)*24/Number(n):a,className:Uy("lucide",c),...!h&&!F2(v)&&{"aria-hidden":"true"},...v},[...m.map(([_,E])=>j.createElement(_,E)),...Array.isArray(h)?h:[h]]));const Ie=(r,n)=>{const a=j.forwardRef(({className:o,...c},h)=>j.createElement(X2,{ref:h,iconNode:n,className:Uy(`lucide-${K2(Hv(r))}`,`lucide-${r}`,o),...c}));return a.displayName=Hv(r),a};const Q2=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Oc=Ie("arrow-left",Q2);const W2=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],eE=Ie("camera",W2);const tE=[["path",{d:"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z",key:"x6xyqk"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M11.25 16.25h1.5L12 17l-.75-.75Z",key:"12kq1m"}]],nE=Ie("cat",tE);const iE=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],aE=Ie("chart-no-axes-column-increasing",iE);const sE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rE=Ie("chevron-down",sE);const oE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],By=Ie("circle-alert",oE);const lE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cc=Ie("circle-check-big",lE);const uE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Iv=Ie("circle-x",uE);const cE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],pf=Ie("clock",cE);const hE=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],dE=Ie("dog",hE);const fE=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],mE=Ie("external-link",fE);const pE=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gE=Ie("funnel",pE);const vE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],yE=Ie("globe",vE);const _E=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],qv=Ie("heart",_E);const bE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Hy=Ie("image",bE);const xE=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],wE=Ie("loader",xE);const SE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],EE=Ie("lock",SE);const TE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Af=Ie("log-out",TE);const OE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],CE=Ie("mail",OE);const NE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cr=Ie("map-pin",NE);const AE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],RE=Ie("menu",AE);const jE=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],$v=Ie("message-square",jE);const LE=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],kE=Ie("navigation",LE);const ME=[["circle",{cx:"11",cy:"4",r:"2",key:"vol9p0"}],["circle",{cx:"18",cy:"8",r:"2",key:"17gozi"}],["circle",{cx:"20",cy:"16",r:"2",key:"1v9bxh"}],["path",{d:"M9 10a5 5 0 0 1 5 5v3.5a3.5 3.5 0 0 1-6.84 1.045Q6.52 17.48 4.46 16.84A3.5 3.5 0 0 1 5.5 10Z",key:"1ydw1z"}]],or=Ie("paw-print",ME);const zE=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Zv=Ie("phone",zE);const PE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],DE=Ie("plus",PE);const UE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Iy=Ie("search",UE);const BE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],HE=Ie("send",BE);const IE=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],qE=Ie("sparkles",IE);const $E=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ZE=Ie("square-pen",$E);const VE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Fd=Ie("star",VE);const GE=[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]],qy=Ie("store",GE);const KE=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],$y=Ie("trash-2",KE);const YE=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],FE=Ie("tree-pine",YE);const JE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],po=Ie("upload",JE);const XE=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gf=Ie("user",XE);const QE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],WE=Ie("users",QE);const eT=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],Rf=Ie("utensils",eT);const tT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dr=Ie("x",tT);function nT({onSearch:r,initialValue:n="",debounceMs:a=300}){const{t:o}=jn(),[c,h]=j.useState(n);j.useEffect(()=>{const v=setTimeout(()=>{r(c)},a);return()=>clearTimeout(v)},[c,r,a]);const m=j.useCallback(()=>{h("")},[]);return b.jsxs("div",{className:"relative w-full max-w-2xl",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:b.jsx(Iy,{className:"h-5 w-5 text-neutral-400"})}),b.jsx("input",{type:"text",value:c,onChange:v=>h(v.target.value),placeholder:o("home.searchPlaceholder"),className:`
          w-full pl-12 pr-12 py-4
          text-lg
          bg-white
          border-2 border-neutral-200
          rounded-2xl
          shadow-soft
          placeholder:text-neutral-400
          focus:outline-none focus:border-primary-400 focus:ring-4 focus:ring-primary-100
          transition-all duration-200
        `}),c&&b.jsx("button",{onClick:m,className:`
            absolute inset-y-0 right-0 pr-4
            flex items-center
            text-neutral-400 hover:text-neutral-600
            transition-colors
          `,"aria-label":o("common.close"),children:b.jsx(dr,{className:"h-5 w-5"})})]})}function Vn(r,n,a){if(a==="en")return r[n]||"";const o=`${n}_${a}`;return r[o]||r[n]||""}const iT={indoors_allowed:{icon:qv,colorClass:"bg-secondary-100 text-secondary-700 border-secondary-200"},patio_only:{icon:FE,colorClass:"bg-accent-100 text-accent-700 border-accent-200"},small_pets_only:{icon:or,colorClass:"bg-primary-100 text-primary-700 border-primary-200"},all_pets_welcome:{icon:qv,colorClass:"bg-secondary-100 text-secondary-700 border-secondary-200"},dogs_only:{icon:dE,colorClass:"bg-amber-100 text-amber-700 border-amber-200"},cats_only:{icon:nE,colorClass:"bg-purple-100 text-purple-700 border-purple-200"}},aT={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},sT={sm:12,md:14,lg:16};function jf({policy:r,size:n="md"}){const{t:a}=jn(),o=iT[r],c=o.icon;return b.jsxs("span",{className:`
        inline-flex items-center gap-1.5 
        font-medium rounded-full border
        ${o.colorClass}
        ${aT[n]}
      `,children:[b.jsx(c,{size:sT[n]}),b.jsx("span",{children:a(`petPolicy.${r}`)})]})}function rT({restaurant:r}){const{i18n:n}=jn(),a=n.language,{id:o,pet_policy:c,image_url:h}=r,m=Vn(r,"name",a),v=Vn(r,"description",a),y=Vn(r,"address",a),_=Vn(r,"cuisine_type",a);return b.jsxs(Rn,{to:`/restaurant/${o}`,className:`
        group block bg-white rounded-2xl overflow-hidden
        shadow-card card-hover
        focus:outline-none focus:ring-4 focus:ring-primary-200
      `,children:[b.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[b.jsx("img",{src:h||"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=800",alt:m,className:`
            w-full h-full object-cover
            group-hover:scale-105 transition-transform duration-500 ease-out
          `}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"}),b.jsx("div",{className:"absolute top-3 right-3",children:b.jsxs("span",{className:`
            inline-flex items-center gap-1.5 px-3 py-1.5
            bg-white/90 backdrop-blur-sm
            text-sm font-medium text-neutral-700
            rounded-full
          `,children:[b.jsx(Rf,{size:14}),_]})})]}),b.jsxs("div",{className:"p-5 space-y-3",children:[b.jsx("h3",{className:`
          text-xl font-semibold text-neutral-900
          group-hover:text-primary-600 transition-colors
          line-clamp-1
        `,children:m}),b.jsx(jf,{policy:c,size:"sm"}),b.jsx("p",{className:"text-neutral-600 text-sm line-clamp-2 leading-relaxed",children:v}),b.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 text-sm pt-1",children:[b.jsx(cr,{size:14,className:"shrink-0"}),b.jsx("span",{className:"line-clamp-1",children:y})]})]})]})}function oT(){return b.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden shadow-card",children:[b.jsx("div",{className:"aspect-[4/3] animate-shimmer"}),b.jsxs("div",{className:"p-5 space-y-4",children:[b.jsx("div",{className:"h-6 w-3/4 rounded-lg animate-shimmer"}),b.jsx("div",{className:"h-6 w-1/2 rounded-full animate-shimmer"}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("div",{className:"h-4 w-full rounded animate-shimmer"}),b.jsx("div",{className:"h-4 w-2/3 rounded animate-shimmer"})]}),b.jsxs("div",{className:"flex items-center justify-between pt-2",children:[b.jsx("div",{className:"h-4 w-1/3 rounded animate-shimmer"}),b.jsx("div",{className:"h-4 w-1/4 rounded animate-shimmer"})]})]})]})}function lT({count:r=6}){return b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:r}).map((n,a)=>b.jsx(oT,{},a))})}function zc(){const{i18n:r}=jn(),[n,a]=j.useState(!1),o=j.useRef(null),c=Dd.find(m=>m.code===r.language)||Dd[0];j.useEffect(()=>{function m(v){o.current&&!o.current.contains(v.target)&&a(!1)}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const h=m=>{r.changeLanguage(m),a(!1)};return b.jsxs("div",{className:"relative",ref:o,children:[b.jsxs("button",{onClick:()=>a(!n),className:`
          inline-flex items-center gap-2 px-3 py-2
          bg-white/80 hover:bg-white
          border border-neutral-200
          rounded-xl shadow-soft
          text-sm font-medium text-neutral-700
          transition-all duration-200
          focus:outline-none focus:ring-2 focus:ring-primary-300
        `,"aria-label":"Select language",children:[b.jsx(yE,{size:16,className:"text-neutral-500"}),b.jsx("span",{children:c.name}),b.jsx(rE,{size:14,className:`text-neutral-400 transition-transform ${n?"rotate-180":""}`})]}),n&&b.jsx("div",{className:`
          absolute right-0 mt-2 w-40
          bg-white rounded-xl shadow-elevated
          border border-neutral-100
          py-2 z-50
          animate-fade-in
        `,children:Dd.map(m=>b.jsx("button",{onClick:()=>h(m.code),className:`
                w-full px-4 py-2.5
                text-left text-sm
                transition-colors
                ${m.code===r.language?"bg-primary-50 text-primary-700 font-medium":"text-neutral-700 hover:bg-neutral-50"}
              `,children:m.name},m.code))})]})}function Zy(r={}){const{searchQuery:n="",petPolicyFilter:a=null,cuisineFilter:o=null}=r,[c,h]=j.useState([]),[m,v]=j.useState(!0),[y,_]=j.useState(null),E=j.useCallback(async()=>{v(!0),_(null);try{let N=Dt.from("restaurants").select("*").eq("status","approved");n.trim()&&(N=N.or(`name.ilike.%${n}%,cuisine_type.ilike.%${n}%`)),a&&(N=N.eq("pet_policy",a)),o&&(N=N.eq("cuisine_type",o)),console.log("useRestaurants: Fetching restaurants...");const{data:A,error:z}=await N.order("created_at",{ascending:!1});if(z)throw console.error("useRestaurants: Error",z),z;console.log("useRestaurants: Data received",A?.length),h(A||[])}catch(N){const A=N instanceof Error?N.message:"Failed to fetch restaurants";_(A),console.error("Error fetching restaurants:",N)}finally{v(!1)}},[n,a,o]);j.useEffect(()=>{E()},[E]);const x=j.useMemo(()=>c.slice(0,6),[c]),O=j.useMemo(()=>{const N=new Set(c.map(A=>A.cuisine_type));return Array.from(N).sort()},[c]);return{restaurants:c,featuredRestaurants:x,isLoading:m,error:y,refetch:E,cuisineTypes:O}}function Vy({isOpen:r,onClose:n}){const{t:a}=jn(),{signInWithGoogle:o,signInWithEmail:c,signUpWithEmail:h}=yo(),[m,v]=j.useState("login"),[y,_]=j.useState(""),[E,x]=j.useState(""),[O,N]=j.useState(null),[A,z]=j.useState(!1);if(!r)return null;const B=async()=>{N(null),z(!0);const{error:te}=await o();te&&(N(te.message),z(!1))},P=async te=>{te.preventDefault(),N(null),z(!0);const de=m==="login"?c:h,{error:he}=await de(y,E);he?(N(he.message),z(!1)):n()},U=()=>{_(""),x(""),N(null)},q=te=>{v(te),U()};return b.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:n}),b.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md p-6 animate-fade-in",children:[b.jsx("button",{onClick:n,className:"absolute top-4 right-4 p-2 text-neutral-400 hover:text-neutral-600 hover:bg-neutral-100 rounded-full transition-colors","aria-label":a("common.close"),children:b.jsx(dr,{size:20})}),b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-bold text-neutral-900",children:a(m==="login"?"auth.loginTitle":"auth.signupTitle")}),b.jsx("p",{className:"text-neutral-500 mt-1",children:a(m==="login"?"auth.loginSubtitle":"auth.signupSubtitle")})]}),O&&b.jsxs("div",{className:"flex items-center gap-2 p-3 mb-4 bg-red-50 text-red-700 rounded-xl text-sm",children:[b.jsx(By,{size:16}),b.jsx("span",{children:O})]}),b.jsxs("button",{onClick:B,disabled:A,className:"w-full flex items-center justify-center gap-3 px-4 py-3 bg-white border-2 border-neutral-200 rounded-xl font-medium text-neutral-700 hover:bg-neutral-50 hover:border-neutral-300 transition-all disabled:opacity-50",children:[b.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[b.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),b.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),b.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),b.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),b.jsx("span",{children:a("auth.continueWithGoogle")})]}),b.jsxs("div",{className:"flex items-center gap-4 my-6",children:[b.jsx("div",{className:"flex-1 h-px bg-neutral-200"}),b.jsx("span",{className:"text-sm text-neutral-400",children:a("auth.or")}),b.jsx("div",{className:"flex-1 h-px bg-neutral-200"})]}),b.jsxs("form",{onSubmit:P,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"sr-only",children:a("auth.email")}),b.jsxs("div",{className:"relative",children:[b.jsx(CE,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),b.jsx("input",{type:"email",id:"email",value:y,onChange:te=>_(te.target.value),placeholder:a("auth.emailPlaceholder"),required:!0,className:"w-full pl-12 pr-4 py-3 border-2 border-neutral-200 rounded-xl focus:border-primary-400 focus:ring-4 focus:ring-primary-100 focus:outline-none transition-all"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"sr-only",children:a("auth.password")}),b.jsxs("div",{className:"relative",children:[b.jsx(EE,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),b.jsx("input",{type:"password",id:"password",value:E,onChange:te=>x(te.target.value),placeholder:a("auth.passwordPlaceholder"),required:!0,minLength:6,className:"w-full pl-12 pr-4 py-3 border-2 border-neutral-200 rounded-xl focus:border-primary-400 focus:ring-4 focus:ring-primary-100 focus:outline-none transition-all"})]})]}),b.jsx("button",{type:"submit",disabled:A,className:"w-full py-3 bg-primary-500 hover:bg-primary-600 disabled:bg-primary-300 text-white font-semibold rounded-xl transition-colors",children:a(A?"common.loading":m==="login"?"auth.loginButton":"auth.signupButton")})]}),b.jsxs("p",{className:"text-center mt-6 text-sm text-neutral-600",children:[a(m==="login"?"auth.noAccount":"auth.hasAccount")," ",b.jsx("button",{onClick:()=>q(m==="login"?"signup":"login"),className:"text-primary-600 hover:text-primary-700 font-medium",children:a(m==="login"?"auth.signupLink":"auth.loginLink")})]})]})]})}function uT(){const{t:r}=jn(),{user:n,signOut:a}=yo(),[o,c]=j.useState(!1),[h,m]=j.useState(""),[v,y]=j.useState(!1),{featuredRestaurants:_,isLoading:E,error:x}=Zy({searchQuery:h});j.useEffect(()=>{const N=()=>{y(window.scrollY>10)};return window.addEventListener("scroll",N),()=>window.removeEventListener("scroll",N)},[]);const O=j.useCallback(N=>{m(N)},[]);return b.jsxs("div",{className:"min-h-screen",children:[b.jsx("header",{className:`
          fixed top-0 left-0 right-0 z-50 transition-all duration-300
          ${v?"bg-white/80 backdrop-blur-md shadow-sm py-3":"bg-transparent py-4"}
        `,children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("div",{className:`p-2 rounded-xl transition-colors ${v?"bg-primary-50 text-primary-600":"bg-white/80 backdrop-blur-sm text-primary-600"}`,children:b.jsx(or,{size:24})}),b.jsx("span",{className:"font-bold text-lg hidden sm:block text-neutral-900",children:r("common.appName")})]}),b.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[n?b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:"text-sm font-medium hidden sm:block text-neutral-700",children:n.email}),b.jsx("button",{onClick:()=>a(),className:`p-2 rounded-full shadow-sm hover:shadow-md transition-all ${v?"bg-white text-neutral-600 hover:text-red-600":"bg-white/80 backdrop-blur-sm text-neutral-600 hover:text-red-600"}`,title:r("auth.logout")||"Logout",children:b.jsx(Af,{size:20})})]}):b.jsxs("button",{onClick:()=>c(!0),className:`flex items-center gap-2 px-4 py-2 rounded-full shadow-sm hover:shadow-md transition-all font-medium ${v?"bg-white text-neutral-700":"bg-white/80 backdrop-blur-sm text-neutral-700"}`,children:[b.jsx(gf,{size:18}),b.jsx("span",{children:r("auth.login")||"Login"})]}),b.jsxs(Rn,{to:"/submit",className:`flex items-center gap-2 px-4 py-2 rounded-full shadow-sm hover:shadow-md transition-all font-medium ${v?"bg-white text-neutral-700":"bg-white/80 backdrop-blur-sm text-neutral-700"}`,children:[b.jsx(po,{size:18}),b.jsx("span",{className:"hidden sm:inline",children:r("nav.submit")})]}),b.jsx("div",{className:v?"":"bg-white/80 backdrop-blur-sm rounded-lg",children:b.jsx(zc,{})})]})]})}),b.jsxs("section",{className:"relative bg-gradient-to-br from-primary-50 via-white to-secondary-50 overflow-hidden",children:[b.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[b.jsx("div",{className:"absolute -top-24 -right-24 w-96 h-96 bg-primary-200/30 rounded-full blur-3xl"}),b.jsx("div",{className:"absolute -bottom-24 -left-24 w-96 h-96 bg-secondary-200/30 rounded-full blur-3xl"})]}),b.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 lg:py-32",children:b.jsxs("div",{className:"text-center max-w-4xl mx-auto animate-fade-in",children:[b.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/80 backdrop-blur-sm rounded-full shadow-soft mb-8",children:[b.jsx(or,{className:"w-5 h-5 text-primary-500"}),b.jsx("span",{className:"text-sm font-medium text-neutral-700",children:r("home.badge")}),b.jsx(qE,{className:"w-4 h-4 text-primary-400"})]}),b.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-neutral-900 mb-6 leading-tight",children:[r("home.headline")," ",b.jsx("span",{className:"text-gradient",children:r("home.headlineHighlight")})]}),b.jsx("p",{className:"text-lg sm:text-xl text-neutral-600 mb-10 max-w-2xl mx-auto leading-relaxed",children:r("home.subheadline")}),b.jsx("div",{className:"flex justify-center",children:b.jsx(nT,{onSearch:O})}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-8 mt-12",children:[b.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[b.jsx(cr,{className:"w-5 h-5 text-primary-500"}),b.jsx("span",{className:"font-medium",children:r("home.stats.locations")})]}),b.jsxs("div",{className:"flex items-center gap-2 text-neutral-600",children:[b.jsx(or,{className:"w-5 h-5 text-secondary-500"}),b.jsx("span",{className:"font-medium",children:r("home.stats.allPets")})]})]})]})})]}),b.jsx("section",{className:"py-16 lg:py-24 bg-white",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-12",children:[b.jsx("h2",{className:"text-3xl sm:text-4xl font-bold text-neutral-900 mb-4",children:r(h?"home.featured.searchTitle":"home.featured.title")}),b.jsx("p",{className:"text-lg text-neutral-600 max-w-2xl mx-auto",children:h?r("home.featured.searchSubtitle",{query:h}):r("home.featured.subtitle")})]}),x&&b.jsx("div",{className:"text-center py-12",children:b.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-4 bg-red-50 text-red-700 rounded-xl",children:[b.jsxs("span",{className:"font-medium",children:[r("errors.loadingRestaurants"),":"]}),b.jsx("span",{children:x})]})}),E&&b.jsx(lT,{count:6}),!E&&!x&&b.jsx(b.Fragment,{children:_.length>0?b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map((N,A)=>b.jsx("div",{className:"animate-fade-in",style:{animationDelay:`${A*100}ms`},children:b.jsx(rT,{restaurant:N})},N.id))}):b.jsxs("div",{className:"text-center py-16",children:[b.jsx(or,{className:"w-16 h-16 text-neutral-300 mx-auto mb-4"}),b.jsx("h3",{className:"text-xl font-semibold text-neutral-700 mb-2",children:r("home.noResults.title")}),b.jsx("p",{className:"text-neutral-500",children:r(h?"home.noResults.searchHint":"home.noResults.defaultHint")})]})}),!h&&_.length>0&&b.jsx("div",{className:"text-center mt-12",children:b.jsxs("a",{href:"/explore",className:`
                  inline-flex items-center gap-2 px-8 py-4
                  bg-primary-500 hover:bg-primary-600
                  text-white font-semibold text-lg
                  rounded-xl shadow-lg hover:shadow-xl
                  transition-all duration-200
                  focus:outline-none focus:ring-4 focus:ring-primary-200
                `,children:[b.jsx(cr,{className:"w-5 h-5"}),r("home.exploreButton")]})})]})}),b.jsx("section",{className:"py-20 bg-primary-50",children:b.jsxs("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[b.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white rounded-full shadow-sm mb-6 animate-bounce-slow",children:b.jsx(po,{className:"w-8 h-8 text-primary-500"})}),b.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-neutral-900 mb-4",children:r("home.cta.title")}),b.jsx("p",{className:"text-lg text-neutral-600 mb-8 max-w-2xl mx-auto",children:r("home.cta.subtitle")}),b.jsxs("a",{href:"/submit",className:"inline-flex items-center gap-2 px-8 py-4 bg-neutral-900 text-white font-bold text-lg rounded-xl hover:bg-neutral-800 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1",children:[b.jsx(po,{className:"w-5 h-5"}),r("home.cta.button")]})]})}),b.jsx("footer",{className:"bg-neutral-900 text-neutral-400 py-12",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(or,{className:"w-6 h-6 text-primary-400"}),b.jsx("span",{className:"font-semibold text-white",children:r("common.appName")})]}),b.jsx("p",{className:"text-sm",children:r("footer.copyright")})]})})}),b.jsx(Vy,{isOpen:o,onClose:()=>c(!1)})]})}function cT({restaurantId:r}){const{user:n}=yo(),[a,o]=j.useState([]),[c,h]=j.useState(!0),[m,v]=j.useState(null),y=j.useCallback(async()=>{h(!0),v(null);try{const{data:x,error:O}=await Dt.from("reviews").select("*").eq("restaurant_id",r).order("created_at",{ascending:!1});if(O)throw O;o(x||[])}catch(x){const O=x instanceof Error?x.message:"Failed to load reviews";v(O)}finally{h(!1)}},[r]);return j.useEffect(()=>{y()},[y]),{reviews:a,isLoading:c,error:m,submitReview:async(x,O,N=null)=>{if(!n)return{error:"You must be logged in to submit a review"};try{const A=N?URL.createObjectURL(N):null,z={restaurant_id:r,user_id:n.id,rating:x,comment:O,image_url:A},{error:B}=await Dt.from("reviews").insert(z);if(B)throw B;return await y(),{error:null}}catch(A){return{error:A instanceof Error?A.message:"Failed to submit review"}}},deleteReview:async x=>{if(!n)return{error:"You must be logged in to delete a review"};try{const{error:O}=await Dt.from("reviews").delete().eq("id",x).eq("user_id",n.id);if(O)throw O;return await y(),{error:null}}catch(O){return{error:O instanceof Error?O.message:"Failed to delete review"}}},refetch:y}}function hT(){const{id:r}=Zx(),{t:n,i18n:a}=jn(),o=a.language,{user:c,signOut:h}=yo(),[m,v]=j.useState(null),[y,_]=j.useState(!0),[E,x]=j.useState(null),[O,N]=j.useState(!1),[A,z]=j.useState(!1);j.useEffect(()=>{const ge=()=>{z(window.scrollY>10)};return window.addEventListener("scroll",ge),()=>window.removeEventListener("scroll",ge)},[]);const{reviews:B,isLoading:P,submitReview:U,deleteReview:q}=cT({restaurantId:r||""}),[te,de]=j.useState(!1),[he,le]=j.useState(5),[je,fe]=j.useState(""),[ye,_e]=j.useState(!1),[be,He]=j.useState(null),[De,at]=j.useState(null),[I,ne]=j.useState(null),ae=ge=>{const Fe=ge.target.files?.[0];if(Fe){if(Fe.size>5*1024*1024){He(n("submit.form.uploadHint"));return}at(Fe);const gt=new FileReader;gt.onloadend=()=>{ne(gt.result)},gt.readAsDataURL(Fe)}},Le=()=>{at(null),ne(null)};j.useEffect(()=>{async function ge(){if(r){_(!0),x(null);try{const{data:Fe,error:gt}=await Dt.from("restaurants").select("*").eq("id",r).single();if(gt)throw gt;v(Fe)}catch(Fe){const gt=Fe instanceof Error?Fe.message:"Failed to load restaurant";x(gt)}finally{_(!1)}}}ge()},[r]);const re=()=>{if(!m)return"#";const{latitude:ge,longitude:Fe,name:gt}=m;return`https://www.google.com/maps/search/?api=1&query=${ge},${Fe}&query_place_id=${encodeURIComponent(gt)}`},R=()=>m?.contact_info?`tel:${m.contact_info.replace(/\s/g,"")}`:"#",Y=()=>{c?de(!0):N(!0)},J=async ge=>{ge.preventDefault(),_e(!0),He(null);const{error:Fe}=await U(he,je,De);Fe?He(Fe):(de(!1),fe(""),le(5),at(null),ne(null)),_e(!1)},ie=async ge=>{await q(ge)};if(y)return b.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[b.jsx("div",{className:"h-64 md:h-96 animate-shimmer"}),b.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:b.jsxs("div",{className:"space-y-4",children:[b.jsx("div",{className:"h-10 w-3/4 rounded-lg animate-shimmer"}),b.jsx("div",{className:"h-6 w-1/2 rounded-lg animate-shimmer"}),b.jsx("div",{className:"h-32 rounded-xl animate-shimmer"})]})})]});if(E||!m)return b.jsx("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:b.jsxs("div",{className:"text-center px-4",children:[b.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-4",children:n("errors.loadingRestaurants")}),b.jsx("p",{className:"text-neutral-600 mb-6",children:E}),b.jsxs(Rn,{to:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-primary-500 text-white rounded-xl font-medium hover:bg-primary-600 transition-colors",children:[b.jsx(Oc,{size:18}),n("restaurant.backToList")]})]})});const se=Vn(m,"name",o),oe=Vn(m,"description",o),Ne=Vn(m,"address",o),Ee=Vn(m,"cuisine_type",o);return b.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[b.jsx("header",{className:`
          fixed top-0 left-0 right-0 z-50 transition-all duration-300
          ${A?"bg-white/80 backdrop-blur-md shadow-sm py-3":"bg-transparent py-4"}
        `,children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between",children:[b.jsxs(Rn,{to:"/",className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all ${A?"text-neutral-600 hover:bg-neutral-100":"bg-white/20 backdrop-blur-sm text-white hover:bg-white/30"}`,children:[b.jsx(Oc,{size:20}),b.jsx("span",{className:"font-medium hidden sm:block",children:n("restaurant.backToList")})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[c?b.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[b.jsx("span",{className:`text-sm font-medium hidden sm:block ${A?"text-neutral-700":"text-white drop-shadow-md"}`,children:c.email}),b.jsx("button",{onClick:()=>h(),className:`p-2 rounded-full transition-all ${A?"bg-white shadow-sm text-neutral-600 hover:text-red-600":"bg-white/20 backdrop-blur-sm text-white hover:bg-white/30"}`,title:n("auth.logout")||"Logout",children:b.jsx(Af,{size:20})})]}):b.jsxs("button",{onClick:()=>N(!0),className:`flex items-center gap-2 px-4 py-2 rounded-full shadow-sm hover:shadow-md transition-all font-medium ${A?"bg-white text-neutral-700":"bg-white/90 backdrop-blur-sm text-neutral-700"}`,children:[b.jsx(gf,{size:18}),b.jsx("span",{children:n("auth.login")||"Login"})]}),b.jsxs(Rn,{to:"/submit",className:`flex items-center gap-2 px-4 py-2 rounded-full shadow-sm hover:shadow-md transition-all font-medium ${A?"bg-white text-neutral-700":"bg-white/90 backdrop-blur-sm text-neutral-700"}`,children:[b.jsx(po,{size:18}),b.jsx("span",{className:"hidden sm:inline",children:n("nav.submit")})]}),b.jsx("div",{className:A?"":"bg-white/20 backdrop-blur-sm rounded-lg",children:b.jsx(zc,{})})]})]})}),b.jsxs("div",{className:"relative h-64 md:h-96",children:[b.jsx("img",{src:m.image_url||"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=1200",alt:se,className:"w-full h-full object-cover"}),b.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-8",children:b.jsxs("div",{className:"max-w-4xl mx-auto",children:[b.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3 drop-shadow-lg",children:se}),b.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[b.jsx(jf,{policy:m.pet_policy,size:"lg"}),b.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 bg-white/90 backdrop-blur-sm text-sm font-medium text-neutral-700 rounded-full",children:[b.jsx(Rf,{size:14}),Ee]})]})]})})]}),b.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[b.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[b.jsxs("a",{href:re(),target:"_blank",rel:"noopener noreferrer",className:"flex-1 min-w-[140px] inline-flex items-center justify-center gap-2 px-6 py-4 bg-primary-500 hover:bg-primary-600 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all",children:[b.jsx(kE,{size:20}),n("restaurant.getDirections")]}),m.contact_info&&b.jsxs("a",{href:R(),className:"flex-1 min-w-[140px] inline-flex items-center justify-center gap-2 px-6 py-4 bg-white border-2 border-neutral-200 hover:border-primary-300 text-neutral-700 font-semibold rounded-xl shadow-soft hover:shadow-lg transition-all",children:[b.jsx(Zv,{size:20}),n("restaurant.callNow")]})]}),b.jsx("div",{className:"bg-white rounded-2xl shadow-card p-6 mb-6",children:b.jsx("p",{className:"text-lg text-neutral-700 leading-relaxed",children:oe})}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[b.jsx("div",{className:"bg-white rounded-2xl shadow-card p-6",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"p-3 bg-primary-100 rounded-xl",children:b.jsx(cr,{className:"w-6 h-6 text-primary-600"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-neutral-900 mb-1",children:n("restaurant.address")}),b.jsx("p",{className:"text-neutral-600 mb-3",children:Ne}),b.jsxs("a",{href:re(),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-primary-600 hover:text-primary-700 font-medium text-sm",children:[n("restaurant.openInMaps"),b.jsx(mE,{size:14})]})]})]})}),m.contact_info&&b.jsx("div",{className:"bg-white rounded-2xl shadow-card p-6",children:b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:"p-3 bg-secondary-100 rounded-xl",children:b.jsx(Zv,{className:"w-6 h-6 text-secondary-600"})}),b.jsxs("div",{className:"flex-1",children:[b.jsx("h3",{className:"font-semibold text-neutral-900 mb-1",children:n("restaurant.contact")}),b.jsx("a",{href:R(),className:"text-neutral-600 hover:text-primary-600 transition-colors",children:m.contact_info})]})]})})]}),b.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-card p-6",children:[b.jsxs("h3",{className:"font-semibold text-neutral-900 mb-4 flex items-center gap-2",children:[b.jsx(cr,{className:"w-5 h-5 text-primary-500"}),n("restaurant.location")]}),b.jsx("div",{className:"aspect-video rounded-xl overflow-hidden bg-neutral-100",children:b.jsx("iframe",{title:`${se} location`,width:"100%",height:"100%",style:{border:0},loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",src:`https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8&q=${m.latitude},${m.longitude}&zoom=16`})})]}),b.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-card p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-6",children:[b.jsxs("h3",{className:"font-semibold text-neutral-900 flex items-center gap-2",children:[b.jsx($v,{className:"w-5 h-5 text-primary-500"}),n("reviews.title"),b.jsxs("span",{className:"text-neutral-400 font-normal",children:["(",B.length,")"]})]}),b.jsxs("button",{onClick:Y,className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white font-medium rounded-xl transition-colors",children:[b.jsx(Fd,{size:16}),n("reviews.writeReview")]})]}),te&&c&&b.jsxs("form",{onSubmit:J,className:"mb-6 p-4 bg-neutral-50 rounded-xl",children:[b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:n("reviews.yourRating")}),b.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(ge=>b.jsx("button",{type:"button",onClick:()=>le(ge),className:"transition-colors",children:b.jsx(Fd,{size:28,className:ge<=he?"fill-amber-400 text-amber-400":"text-neutral-300"})},ge))})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{htmlFor:"comment",className:"block text-sm font-medium text-neutral-700 mb-2",children:n("reviews.yourReview")}),b.jsx("textarea",{id:"comment",value:je,onChange:ge=>fe(ge.target.value),placeholder:n("reviews.reviewPlaceholder"),rows:3,required:!0,className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-xl focus:border-primary-400 focus:ring-4 focus:ring-primary-100 focus:outline-none transition-all resize-none"})]}),b.jsxs("div",{className:"mb-4",children:[b.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:n("reviews.addPhoto")}),I?b.jsxs("div",{className:"relative inline-block",children:[b.jsx("img",{src:I,alt:"Preview",className:"h-32 w-auto rounded-lg object-cover border border-neutral-200"}),b.jsx("button",{type:"button",onClick:Le,className:"absolute -top-2 -right-2 p-1 bg-white rounded-full shadow-md text-neutral-500 hover:text-red-500 transition-colors","aria-label":n("reviews.removePhoto"),children:b.jsx(dr,{size:16})})]}):b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-white border border-neutral-300 rounded-xl text-sm font-medium text-neutral-700 hover:bg-neutral-50 transition-colors",children:[b.jsx(Hy,{size:18}),n("reviews.uploadPhoto"),b.jsx("input",{type:"file",accept:"image/*",onChange:ae,className:"hidden"})]}),b.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-white border border-neutral-300 rounded-xl text-sm font-medium text-neutral-700 hover:bg-neutral-50 transition-colors",children:[b.jsx(eE,{size:18}),n("reviews.takePhoto"),b.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:ae,className:"hidden"})]})]}),b.jsx("p",{className:"mt-1 text-xs text-neutral-400",children:n("reviews.photoHint")})]}),be&&b.jsx("p",{className:"text-red-600 text-sm mb-4",children:be}),b.jsxs("div",{className:"flex gap-3",children:[b.jsx("button",{type:"submit",disabled:ye,className:"px-6 py-2 bg-primary-500 hover:bg-primary-600 disabled:bg-primary-300 text-white font-medium rounded-xl transition-colors",children:n(ye?"common.loading":"reviews.submitReview")}),b.jsx("button",{type:"button",onClick:()=>de(!1),className:"px-6 py-2 bg-neutral-200 hover:bg-neutral-300 text-neutral-700 font-medium rounded-xl transition-colors",children:n("common.cancel")})]})]}),P?b.jsx("div",{className:"space-y-4",children:[1,2].map(ge=>b.jsx("div",{className:"h-24 rounded-xl animate-shimmer"},ge))}):B.length===0?b.jsxs("div",{className:"text-center py-8 text-neutral-500",children:[b.jsx($v,{className:"w-12 h-12 mx-auto mb-3 text-neutral-300"}),b.jsx("p",{children:n("reviews.noReviews")})]}):b.jsx("div",{className:"space-y-4",children:B.map(ge=>b.jsxs("div",{className:"p-4 bg-neutral-50 rounded-xl",children:[b.jsxs("div",{className:"flex items-start justify-between mb-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:"w-10 h-10 bg-neutral-200 rounded-full flex items-center justify-center",children:b.jsx(gf,{className:"w-5 h-5 text-neutral-500"})}),b.jsxs("div",{children:[b.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(Fe=>b.jsx(Fd,{size:14,className:Fe<=ge.rating?"fill-amber-400 text-amber-400":"text-neutral-300"},Fe))}),b.jsx("p",{className:"text-xs text-neutral-400",children:new Date(ge.created_at).toLocaleDateString(o)})]})]}),c?.id===ge.user_id&&b.jsx("button",{onClick:()=>ie(ge.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors","aria-label":n("reviews.deleteReview"),children:b.jsx($y,{size:16})})]}),b.jsx("p",{className:"text-neutral-700",children:ge.comment}),ge.image_url&&b.jsx("div",{className:"mt-3",children:b.jsx("img",{src:ge.image_url,alt:"Review attachment",className:"max-h-48 rounded-lg object-cover border border-neutral-200"})})]},ge.id))})]})]}),b.jsx("footer",{className:"bg-neutral-900 text-neutral-400 py-8 mt-16",children:b.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:b.jsx("p",{className:"text-sm",children:n("footer.copyright")})})}),b.jsx(Vy,{isOpen:O,onClose:()=>N(!1)})]})}function Gy(r,n){const a=j.useRef(n);j.useEffect(function(){n!==a.current&&r.attributionControl!=null&&(a.current!=null&&r.attributionControl.removeAttribution(a.current),n!=null&&r.attributionControl.addAttribution(n)),a.current=n},[r,n])}const dT=1;function fT(r){return Object.freeze({__version:dT,map:r})}function mT(r,n){return Object.freeze({...r,...n})}const Lf=j.createContext(null);function Ky(){const r=j.use(Lf);if(r==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return r}function pT(r){function n(a,o){const{instance:c,context:h}=r(a).current;j.useImperativeHandle(o,()=>c);const{children:m}=a;return m==null?null:ue.createElement(Lf,{value:h},m)}return j.forwardRef(n)}function gT(r){function n(a,o){const[c,h]=j.useState(!1),{instance:m}=r(a,h).current;j.useImperativeHandle(o,()=>m),j.useEffect(function(){c&&m.update()},[m,c,a.children]);const v=m._contentNode;return v?_y.createPortal(a.children,v):null}return j.forwardRef(n)}function vT(r){function n(a,o){const{instance:c}=r(a).current;return j.useImperativeHandle(o,()=>c),null}return j.forwardRef(n)}function Yy(r,n){const a=j.useRef(void 0);j.useEffect(function(){return n!=null&&r.instance.on(n),a.current=n,function(){a.current!=null&&r.instance.off(a.current),a.current=null}},[r,n])}function kf(r,n){const a=r.pane??n.pane;return a?{...r,pane:a}:r}function yT(r,n){return function(o,c){const h=Ky(),m=r(kf(o,h),h);return Gy(h.map,o.attribution),Yy(m.current,o.eventHandlers),n(m.current,h,o,c),m}}var Tl={exports:{}};var _T=Tl.exports,Vv;function bT(){return Vv||(Vv=1,(function(r,n){(function(a,o){o(n)})(_T,(function(a){var o="1.9.4";function c(i){var l,d,g,w;for(d=1,g=arguments.length;d<g;d++){w=arguments[d];for(l in w)i[l]=w[l]}return i}var h=Object.create||(function(){function i(){}return function(l){return i.prototype=l,new i}})();function m(i,l){var d=Array.prototype.slice;if(i.bind)return i.bind.apply(i,d.call(arguments,1));var g=d.call(arguments,2);return function(){return i.apply(l,g.length?g.concat(d.call(arguments)):arguments)}}var v=0;function y(i){return"_leaflet_id"in i||(i._leaflet_id=++v),i._leaflet_id}function _(i,l,d){var g,w,T,k;return k=function(){g=!1,w&&(T.apply(d,w),w=!1)},T=function(){g?w=arguments:(i.apply(d,arguments),setTimeout(k,l),g=!0)},T}function E(i,l,d){var g=l[1],w=l[0],T=g-w;return i===g&&d?i:((i-w)%T+T)%T+w}function x(){return!1}function O(i,l){if(l===!1)return i;var d=Math.pow(10,l===void 0?6:l);return Math.round(i*d)/d}function N(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function A(i){return N(i).split(/\s+/)}function z(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?h(i.options):{});for(var d in l)i.options[d]=l[d];return i.options}function B(i,l,d){var g=[];for(var w in i)g.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(i[w]));return(!l||l.indexOf("?")===-1?"?":"&")+g.join("&")}var P=/\{ *([\w_ -]+) *\}/g;function U(i,l){return i.replace(P,function(d,g){var w=l[g];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(l)),w})}var q=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function te(i,l){for(var d=0;d<i.length;d++)if(i[d]===l)return d;return-1}var de="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function he(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var le=0;function je(i){var l=+new Date,d=Math.max(0,16-(l-le));return le=l+d,window.setTimeout(i,d)}var fe=window.requestAnimationFrame||he("RequestAnimationFrame")||je,ye=window.cancelAnimationFrame||he("CancelAnimationFrame")||he("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function _e(i,l,d){if(d&&fe===je)i.call(l);else return fe.call(window,m(i,l))}function be(i){i&&ye.call(window,i)}var He={__proto__:null,extend:c,create:h,bind:m,get lastId(){return v},stamp:y,throttle:_,wrapNum:E,falseFn:x,formatNum:O,trim:N,splitWords:A,setOptions:z,getParamString:B,template:U,isArray:q,indexOf:te,emptyImageUrl:de,requestFn:fe,cancelFn:ye,requestAnimFrame:_e,cancelAnimFrame:be};function De(){}De.extend=function(i){var l=function(){z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,g=h(d);g.constructor=l,l.prototype=g;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(l[w]=this[w]);return i.statics&&c(l,i.statics),i.includes&&(at(i.includes),c.apply(null,[g].concat(i.includes))),c(g,i),delete g.statics,delete g.includes,g.options&&(g.options=d.options?h(d.options):{},c(g.options,i.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,k=g._initHooks.length;T<k;T++)g._initHooks[T].call(this)}},l},De.include=function(i){var l=this.prototype.options;return c(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},De.mergeOptions=function(i){return c(this.prototype.options,i),this},De.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),d=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function at(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=q(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var I={on:function(i,l,d){if(typeof i=="object")for(var g in i)this._on(g,i[g],l);else{i=A(i);for(var w=0,T=i.length;w<T;w++)this._on(i[w],l,d)}return this},off:function(i,l,d){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var g in i)this._off(g,i[g],l);else{i=A(i);for(var w=arguments.length===1,T=0,k=i.length;T<k;T++)w?this._off(i[T]):this._off(i[T],l,d)}return this},_on:function(i,l,d,g){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,d)===!1){d===this&&(d=void 0);var w={fn:l,ctx:d};g&&(w.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(w)}},_off:function(i,l,d){var g,w,T;if(this._events&&(g=this._events[i],!!g)){if(arguments.length===1){if(this._firingCount)for(w=0,T=g.length;w<T;w++)g[w].fn=x;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var k=this._listens(i,l,d);if(k!==!1){var $=g[k];this._firingCount&&($.fn=x,this._events[i]=g=g.slice()),g.splice(k,1)}}},fire:function(i,l,d){if(!this.listens(i,d))return this;var g=c({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var w=this._events[i];if(w){this._firingCount=this._firingCount+1||1;for(var T=0,k=w.length;T<k;T++){var $=w[T],G=$.fn;$.once&&this.off(i,G,$.ctx),G.call($.ctx||this,g)}this._firingCount--}}return d&&this._propagateEvent(g),this},listens:function(i,l,d,g){typeof i!="string"&&console.warn('"string" type argument expected');var w=l;typeof l!="function"&&(g=!!l,w=void 0,d=void 0);var T=this._events&&this._events[i];if(T&&T.length&&this._listens(i,w,d)!==!1)return!0;if(g){for(var k in this._eventParents)if(this._eventParents[k].listens(i,l,d,g))return!0}return!1},_listens:function(i,l,d){if(!this._events)return!1;var g=this._events[i]||[];if(!l)return!!g.length;d===this&&(d=void 0);for(var w=0,T=g.length;w<T;w++)if(g[w].fn===l&&g[w].ctx===d)return w;return!1},once:function(i,l,d){if(typeof i=="object")for(var g in i)this._on(g,i[g],l,!0);else{i=A(i);for(var w=0,T=i.length;w<T;w++)this._on(i[w],l,d,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[y(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[y(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,c({layer:i.target,propagatedFrom:i.target},i),!0)}};I.addEventListener=I.on,I.removeEventListener=I.clearAllEventListeners=I.off,I.addOneTimeEventListener=I.once,I.fireEvent=I.fire,I.hasEventListeners=I.listens;var ne=De.extend(I);function ae(i,l,d){this.x=d?Math.round(i):i,this.y=d?Math.round(l):l}var Le=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};ae.prototype={clone:function(){return new ae(this.x,this.y)},add:function(i){return this.clone()._add(re(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(re(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new ae(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new ae(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Le(this.x),this.y=Le(this.y),this},distanceTo:function(i){i=re(i);var l=i.x-this.x,d=i.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(i){return i=re(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=re(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+O(this.x)+", "+O(this.y)+")"}};function re(i,l,d){return i instanceof ae?i:q(i)?new ae(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new ae(i.x,i.y):new ae(i,l,d)}function R(i,l){if(i)for(var d=l?[i,l]:i,g=0,w=d.length;g<w;g++)this.extend(d[g])}R.prototype={extend:function(i){var l,d;if(!i)return this;if(i instanceof ae||typeof i[0]=="number"||"x"in i)l=d=re(i);else if(i=Y(i),l=i.min,d=i.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(i){return re((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return re(this.min.x,this.max.y)},getTopRight:function(){return re(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,d;return typeof i[0]=="number"||i instanceof ae?i=re(i):i=Y(i),i instanceof R?(l=i.min,d=i.max):l=d=i,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(i){i=Y(i);var l=this.min,d=this.max,g=i.min,w=i.max,T=w.x>=l.x&&g.x<=d.x,k=w.y>=l.y&&g.y<=d.y;return T&&k},overlaps:function(i){i=Y(i);var l=this.min,d=this.max,g=i.min,w=i.max,T=w.x>l.x&&g.x<d.x,k=w.y>l.y&&g.y<d.y;return T&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,d=this.max,g=Math.abs(l.x-d.x)*i,w=Math.abs(l.y-d.y)*i;return Y(re(l.x-g,l.y-w),re(d.x+g,d.y+w))},equals:function(i){return i?(i=Y(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function Y(i,l){return!i||i instanceof R?i:new R(i,l)}function J(i,l){if(i)for(var d=l?[i,l]:i,g=0,w=d.length;g<w;g++)this.extend(d[g])}J.prototype={extend:function(i){var l=this._southWest,d=this._northEast,g,w;if(i instanceof se)g=i,w=i;else if(i instanceof J){if(g=i._southWest,w=i._northEast,!g||!w)return this}else return i?this.extend(oe(i)||ie(i)):this;return!l&&!d?(this._southWest=new se(g.lat,g.lng),this._northEast=new se(w.lat,w.lng)):(l.lat=Math.min(g.lat,l.lat),l.lng=Math.min(g.lng,l.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(i){var l=this._southWest,d=this._northEast,g=Math.abs(l.lat-d.lat)*i,w=Math.abs(l.lng-d.lng)*i;return new J(new se(l.lat-g,l.lng-w),new se(d.lat+g,d.lng+w))},getCenter:function(){return new se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new se(this.getNorth(),this.getWest())},getSouthEast:function(){return new se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof se||"lat"in i?i=oe(i):i=ie(i);var l=this._southWest,d=this._northEast,g,w;return i instanceof J?(g=i.getSouthWest(),w=i.getNorthEast()):g=w=i,g.lat>=l.lat&&w.lat<=d.lat&&g.lng>=l.lng&&w.lng<=d.lng},intersects:function(i){i=ie(i);var l=this._southWest,d=this._northEast,g=i.getSouthWest(),w=i.getNorthEast(),T=w.lat>=l.lat&&g.lat<=d.lat,k=w.lng>=l.lng&&g.lng<=d.lng;return T&&k},overlaps:function(i){i=ie(i);var l=this._southWest,d=this._northEast,g=i.getSouthWest(),w=i.getNorthEast(),T=w.lat>l.lat&&g.lat<d.lat,k=w.lng>l.lng&&g.lng<d.lng;return T&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=ie(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ie(i,l){return i instanceof J?i:new J(i,l)}function se(i,l,d){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,d!==void 0&&(this.alt=+d)}se.prototype={equals:function(i,l){if(!i)return!1;i=oe(i);var d=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return d<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+O(this.lat,i)+", "+O(this.lng,i)+")"},distanceTo:function(i){return Ee.distance(this,oe(i))},wrap:function(){return Ee.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,d=l/Math.cos(Math.PI/180*this.lat);return ie([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new se(this.lat,this.lng,this.alt)}};function oe(i,l,d){return i instanceof se?i:q(i)&&typeof i[0]!="object"?i.length===3?new se(i[0],i[1],i[2]):i.length===2?new se(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new se(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new se(i,l,d)}var Ne={latLngToPoint:function(i,l){var d=this.projection.project(i),g=this.scale(l);return this.transformation._transform(d,g)},pointToLatLng:function(i,l){var d=this.scale(l),g=this.transformation.untransform(i,d);return this.projection.unproject(g)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(i),g=this.transformation.transform(l.min,d),w=this.transformation.transform(l.max,d);return new R(g,w)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?E(i.lng,this.wrapLng,!0):i.lng,d=this.wrapLat?E(i.lat,this.wrapLat,!0):i.lat,g=i.alt;return new se(d,l,g)},wrapLatLngBounds:function(i){var l=i.getCenter(),d=this.wrapLatLng(l),g=l.lat-d.lat,w=l.lng-d.lng;if(g===0&&w===0)return i;var T=i.getSouthWest(),k=i.getNorthEast(),$=new se(T.lat-g,T.lng-w),G=new se(k.lat-g,k.lng-w);return new J($,G)}},Ee=c({},Ne,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var d=Math.PI/180,g=i.lat*d,w=l.lat*d,T=Math.sin((l.lat-i.lat)*d/2),k=Math.sin((l.lng-i.lng)*d/2),$=T*T+Math.cos(g)*Math.cos(w)*k*k,G=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*G}}),ge=6378137,Fe={R:ge,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,d=this.MAX_LATITUDE,g=Math.max(Math.min(d,i.lat),-d),w=Math.sin(g*l);return new ae(this.R*i.lng*l,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(i){var l=180/Math.PI;return new se((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:(function(){var i=ge*Math.PI;return new R([-i,-i],[i,i])})()};function gt(i,l,d,g){if(q(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=d,this._d=g}gt.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new ae((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function sn(i,l,d,g){return new gt(i,l,d,g)}var Aa=c({},Ee,{code:"EPSG:3857",projection:Fe,transformation:(function(){var i=.5/(Math.PI*Fe.R);return sn(i,.5,-i,.5)})()}),Ln=c({},Aa,{code:"EPSG:900913"});function Ra(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Fi(i,l){var d="",g,w,T,k,$,G;for(g=0,T=i.length;g<T;g++){for($=i[g],w=0,k=$.length;w<k;w++)G=$[w],d+=(w?"L":"M")+G.x+" "+G.y;d+=l?me.svg?"z":"x":""}return d||"M0 0"}var ui=document.documentElement.style,Ti="ActiveXObject"in window,dn=Ti&&!document.addEventListener,ja="msLaunchUri"in navigator&&!("documentMode"in document),Ji=Xt("webkit"),$t=Xt("android"),ci=Xt("android 2")||Xt("android 3"),Jt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),_o=$t&&Xt("Google")&&Jt<537&&!("AudioNode"in window),hi=!!window.opera,vs=!ja&&Xt("chrome"),Oi=Xt("gecko")&&!Ji&&!hi&&!Ti,ys=!vs&&Xt("safari"),Kn=Xt("phantom"),_s="OTransition"in ui,Ci=navigator.platform.indexOf("Win")===0,Ni=Ti&&"transition"in ui,Ut="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ci,vn="MozPerspective"in ui,Zt=!window.L_DISABLE_3D&&(Ni||Ut||vn)&&!_s&&!Kn,Xi=typeof orientation<"u"||Xt("mobile"),bs=Xi&&Ji,Yn=Xi&&Ut,Qi=!window.PointerEvent&&window.MSPointerEvent,Wi=!!(window.PointerEvent||Qi),Ai="ontouchstart"in window||!!window.TouchEvent,Fn=!window.L_NO_TOUCH&&(Ai||Wi),Re=Xi&&hi,dt=Xi&&Oi,At=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Vt=(function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",x,l),window.removeEventListener("testPassiveEventSupport",x,l)}catch{}return i})(),Ri=(function(){return!!document.createElement("canvas").getContext})(),ut=!!(document.createElementNS&&Ra("svg").createSVGRect),rn=!!ut&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ea=!ut&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}})(),on=navigator.platform.indexOf("Mac")===0,ln=navigator.platform.indexOf("Linux")===0;function Xt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var me={ie:Ti,ielt9:dn,edge:ja,webkit:Ji,android:$t,android23:ci,androidStock:_o,opera:hi,chrome:vs,gecko:Oi,safari:ys,phantom:Kn,opera12:_s,win:Ci,ie3d:Ni,webkit3d:Ut,gecko3d:vn,any3d:Zt,mobile:Xi,mobileWebkit:bs,mobileWebkit3d:Yn,msPointer:Qi,pointer:Wi,touch:Fn,touchNative:Ai,mobileOpera:Re,mobileGecko:dt,retina:At,passiveEvents:Vt,canvas:Ri,svg:ut,vml:ea,inlineSvg:rn,mac:on,linux:ln},fr=me.msPointer?"MSPointerDown":"pointerdown",bo=me.msPointer?"MSPointerMove":"pointermove",di=me.msPointer?"MSPointerUp":"pointerup",Rt=me.msPointer?"MSPointerCancel":"pointercancel",Gt={touchstart:fr,touchmove:bo,touchend:di,touchcancel:Rt},ta={touchstart:ka,touchmove:Li,touchend:Li,touchcancel:Li},ji={},$l=!1;function Pc(i,l,d){return l==="touchstart"&&La(),ta[l]?(d=ta[l].bind(this,d),i.addEventListener(Gt[l],d,!1),d):(console.warn("wrong event specified:",l),x)}function Zl(i,l,d){if(!Gt[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(Gt[l],d,!1)}function xs(i){ji[i.pointerId]=i}function xo(i){ji[i.pointerId]&&(ji[i.pointerId]=i)}function na(i){delete ji[i.pointerId]}function La(){$l||(document.addEventListener(fr,xs,!0),document.addEventListener(bo,xo,!0),document.addEventListener(di,na,!0),document.addEventListener(Rt,na,!0),$l=!0)}function Li(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in ji)l.touches.push(ji[d]);l.changedTouches=[l],i(l)}}function ka(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&wt(l),Li(i,l)}function jt(i){var l={},d,g;for(g in i)d=i[g],l[g]=d&&d.bind?d.bind(i):d;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Vl=200;function Gl(i,l){i.addEventListener("dblclick",l);var d=0,g;function w(T){if(T.detail!==1){g=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var k=Ns(T);if(!(k.some(function(G){return G instanceof HTMLLabelElement&&G.attributes.for})&&!k.some(function(G){return G instanceof HTMLInputElement||G instanceof HTMLSelectElement}))){var $=Date.now();$-d<=Vl?(g++,g===2&&l(jt(T))):g=1,d=$}}}return i.addEventListener("click",w),{dblclick:l,simDblclick:w}}function ia(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var ki=Es(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ws=Es(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wo=ws==="webkitTransition"||ws==="OTransition"?ws+"End":"transitionend";function So(i){return typeof i=="string"?document.getElementById(i):i}function Ss(i,l){var d=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(i,null);d=g?g[l]:null}return d==="auto"?null:d}function qe(i,l,d){var g=document.createElement(i);return g.className=l||"",d&&d.appendChild(g),g}function st(i){var l=i.parentNode;l&&l.removeChild(i)}function yn(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Bt(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function aa(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function Eo(i,l){if(i.classList!==void 0)return i.classList.contains(l);var d=mr(i);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function Me(i,l){if(i.classList!==void 0)for(var d=A(l),g=0,w=d.length;g<w;g++)i.classList.add(d[g]);else if(!Eo(i,l)){var T=mr(i);Ma(i,(T?T+" ":"")+l)}}function vt(i,l){i.classList!==void 0?i.classList.remove(l):Ma(i,N((" "+mr(i)+" ").replace(" "+l+" "," ")))}function Ma(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function mr(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function mt(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&To(i,l)}function To(i,l){var d=!1,g="DXImageTransform.Microsoft.Alpha";try{d=i.filters.item(g)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):i.style.filter+=" progid:"+g+"(opacity="+l+")"}function Es(i){for(var l=document.documentElement.style,d=0;d<i.length;d++)if(i[d]in l)return i[d];return!1}function fi(i,l,d){var g=l||new ae(0,0);i.style[ki]=(me.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(d?" scale("+d+")":"")}function ct(i,l){i._leaflet_pos=l,me.any3d?fi(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function Mi(i){return i._leaflet_pos||new ae(0,0)}var za,Jn,Oo;if("onselectstart"in document)za=function(){Ae(window,"selectstart",wt)},Jn=function(){tt(window,"selectstart",wt)};else{var Pa=Es(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);za=function(){if(Pa){var i=document.documentElement.style;Oo=i[Pa],i[Pa]="none"}},Jn=function(){Pa&&(document.documentElement.style[Pa]=Oo,Oo=void 0)}}function pr(){Ae(window,"dragstart",wt)}function Ts(){tt(window,"dragstart",wt)}var gr,Co;function Da(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(_n(),gr=i,Co=i.style.outlineStyle,i.style.outlineStyle="none",Ae(window,"keydown",_n))}function _n(){gr&&(gr.style.outlineStyle=Co,gr=void 0,Co=void 0,tt(window,"keydown",_n))}function vr(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Os(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var Ua={__proto__:null,TRANSFORM:ki,TRANSITION:ws,TRANSITION_END:wo,get:So,getStyle:Ss,create:qe,remove:st,empty:yn,toFront:Bt,toBack:aa,hasClass:Eo,addClass:Me,removeClass:vt,setClass:Ma,getClass:mr,setOpacity:mt,testProp:Es,setTransform:fi,setPosition:ct,getPosition:Mi,get disableTextSelection(){return za},get enableTextSelection(){return Jn},disableImageDrag:pr,enableImageDrag:Ts,preventOutline:Da,restoreOutline:_n,getSizedParentNode:vr,getScale:Os};function Ae(i,l,d,g){if(l&&typeof l=="object")for(var w in l)Mn(i,w,l[w],d);else{l=A(l);for(var T=0,k=l.length;T<k;T++)Mn(i,l[T],d,g)}return this}var kn="_leaflet_events";function tt(i,l,d,g){if(arguments.length===1)No(i),delete i[kn];else if(l&&typeof l=="object")for(var w in l)Cs(i,w,l[w],d);else if(l=A(l),arguments.length===2)No(i,function($){return te(l,$)!==-1});else for(var T=0,k=l.length;T<k;T++)Cs(i,l[T],d,g);return this}function No(i,l){for(var d in i[kn]){var g=d.split(/\d/)[0];(!l||l(g))&&Cs(i,g,null,null,d)}}var sa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mn(i,l,d,g){var w=l+y(d)+(g?"_"+y(g):"");if(i[kn]&&i[kn][w])return this;var T=function($){return d.call(g||i,$||window.event)},k=T;!me.touchNative&&me.pointer&&l.indexOf("touch")===0?T=Pc(i,l,T):me.touch&&l==="dblclick"?T=Gl(i,T):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(sa[l]||l,T,me.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(T=function($){$=$||window.event,mi(i,$)&&k($)},i.addEventListener(sa[l],T,!1)):i.addEventListener(l,k,!1):i.attachEvent("on"+l,T),i[kn]=i[kn]||{},i[kn][w]=T}function Cs(i,l,d,g,w){w=w||l+y(d)+(g?"_"+y(g):"");var T=i[kn]&&i[kn][w];if(!T)return this;!me.touchNative&&me.pointer&&l.indexOf("touch")===0?Zl(i,l,T):me.touch&&l==="dblclick"?ia(i,T):"removeEventListener"in i?i.removeEventListener(sa[l]||l,T,!1):i.detachEvent("on"+l,T),i[kn][w]=null}function zn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Xn(i){return Mn(i,"wheel",zn),this}function ra(i){return Ae(i,"mousedown touchstart dblclick contextmenu",zn),i._leaflet_disable_click=!0,this}function wt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function zi(i){return wt(i),zn(i),this}function Ns(i){if(i.composedPath)return i.composedPath();for(var l=[],d=i.target;d;)l.push(d),d=d.parentNode;return l}function As(i,l){if(!l)return new ae(i.clientX,i.clientY);var d=Os(l),g=d.boundingClientRect;return new ae((i.clientX-g.left)/d.x-l.clientLeft,(i.clientY-g.top)/d.y-l.clientTop)}var Kl=me.linux&&me.chrome?window.devicePixelRatio:me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Qt(i){return me.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Kl:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function mi(i,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==i;)d=d.parentNode}catch{return!1}return d!==i}var yr={__proto__:null,on:Ae,off:tt,stopPropagation:zn,disableScrollPropagation:Xn,disableClickPropagation:ra,preventDefault:wt,stop:zi,getPropagationPath:Ns,getMousePosition:As,getWheelDelta:Qt,isExternalTarget:mi,addListener:Ae,removeListener:tt},Ba=ne.extend({run:function(i,l,d,g){this.stop(),this._el=i,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Mi(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_e(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var d=this._startPos.add(this._offset.multiplyBy(i));l&&d._round(),ct(this._el,d),this.fire("step")},_complete:function(){be(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Ge=ne.extend({options:{crs:Aa,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=z(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(oe(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ws&&me.any3d&&!me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ae(this._proxy,wo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(oe(i),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=c({animate:d.animate},d.zoom),d.pan=c({animate:d.animate,duration:d.duration},d.pan));var g=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,d.zoom):this._tryAnimatedPan(i,d.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,d){var g=this.getZoomScale(l),w=this.getSize().divideBy(2),T=i instanceof ae?i:this.latLngToContainerPoint(i),k=T.subtract(w).multiplyBy(1-1/g),$=this.containerPointToLatLng(w.add(k));return this.setView($,l,{zoom:d})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():ie(i);var d=re(l.paddingTopLeft||l.padding||[0,0]),g=re(l.paddingBottomRight||l.padding||[0,0]),w=this.getBoundsZoom(i,!1,d.add(g));if(w=typeof l.maxZoom=="number"?Math.min(l.maxZoom,w):w,w===1/0)return{center:i.getCenter(),zoom:w};var T=g.subtract(d).divideBy(2),k=this.project(i.getSouthWest(),w),$=this.project(i.getNorthEast(),w),G=this.unproject(k.add($).divideBy(2).add(T),w);return{center:G,zoom:w}},fitBounds:function(i,l){if(i=ie(i),!i.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(i,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=re(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ba,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Me(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,d){if(d=d||{},d.animate===!1||!me.any3d)return this.setView(i,l,d);this._stop();var g=this.project(this.getCenter()),w=this.project(i),T=this.getSize(),k=this._zoom;i=oe(i),l=l===void 0?k:l;var $=Math.max(T.x,T.y),G=$*this.getZoomScale(k,l),W=w.distanceTo(g)||1,ce=1.42,xe=ce*ce;function Ue(bt){var yi=bt?-1:1,ca=bt?G:$,$o=G*G-$*$+yi*xe*xe*W*W,Vs=2*ca*xe*W,Gs=$o/Vs,Zi=Math.sqrt(Gs*Gs+1)-Gs,_i=Zi<1e-9?-18:Math.log(Zi);return _i}function Ht(bt){return(Math.exp(bt)-Math.exp(-bt))/2}function St(bt){return(Math.exp(bt)+Math.exp(-bt))/2}function mn(bt){return Ht(bt)/St(bt)}var Je=Ue(0);function Xe(bt){return $*(St(Je)/St(Je+ce*bt))}function $e(bt){return $*(St(Je)*mn(Je+ce*bt)-Ht(Je))/xe}function qi(bt){return 1-Math.pow(1-bt,1.5)}var Sn=Date.now(),Lr=(Ue(1)-Je)/ce,$i=d.duration?1e3*d.duration:1e3*Lr*.8;function qo(){var bt=(Date.now()-Sn)/$i,yi=qi(bt)*Lr;bt<=1?(this._flyToFrame=_e(qo,this),this._move(this.unproject(g.add(w.subtract(g).multiplyBy($e(yi)/W)),k),this.getScaleZoom($/Xe(yi),k),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),qo.call(this),this},flyToBounds:function(i,l){var d=this._getBoundsCenterZoom(i,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(i){return i=ie(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var d=this.getCenter(),g=this._limitCenter(d,this._zoom,ie(i));return d.equals(g)||this.panTo(g,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var d=re(l.paddingTopLeft||l.padding||[0,0]),g=re(l.paddingBottomRight||l.padding||[0,0]),w=this.project(this.getCenter()),T=this.project(i),k=this.getPixelBounds(),$=Y([k.min.add(d),k.max.subtract(g)]),G=$.getSize();if(!$.contains(T)){this._enforcingBounds=!0;var W=T.subtract($.getCenter()),ce=$.extend(T).getSize().subtract(G);w.x+=W.x<0?-ce.x:ce.x,w.y+=W.y<0?-ce.y:ce.y,this.panTo(this.unproject(w),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=c({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=l.divideBy(2).round(),w=d.divideBy(2).round(),T=g.subtract(w);return!T.x&&!T.y?this:(i.animate&&i.pan?this.panBy(T):(i.pan&&this._rawPanBy(T),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=c({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,i):navigator.geolocation.getCurrentPosition(l,d,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,d=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,d=i.coords.longitude,g=new se(l,d),w=g.toBounds(i.coords.accuracy*2),T=this._locateOptions;if(T.setView){var k=this.getBoundsZoom(w);this.setView(g,T.maxZoom?Math.min(k,T.maxZoom):k)}var $={latlng:g,bounds:w,timestamp:i.timestamp};for(var G in i.coords)typeof i.coords[G]=="number"&&($[G]=i.coords[G]);this.fire("locationfound",$)}},addHandler:function(i,l){if(!l)return this;var d=this[i]=new l(this);return this._handlers.push(d),this.options[i]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),st(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(be(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)st(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var d="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),g=qe("div",d,l||this._mapPane);return i&&(this._panes[i]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),d=this.unproject(i.getTopRight());return new J(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,d){i=ie(i),d=re(d||[0,0]);var g=this.getZoom()||0,w=this.getMinZoom(),T=this.getMaxZoom(),k=i.getNorthWest(),$=i.getSouthEast(),G=this.getSize().subtract(d),W=Y(this.project($,g),this.project(k,g)).getSize(),ce=me.any3d?this.options.zoomSnap:1,xe=G.x/W.x,Ue=G.y/W.y,Ht=l?Math.max(xe,Ue):Math.min(xe,Ue);return g=this.getScaleZoom(Ht,g),ce&&(g=Math.round(g/(ce/100))*(ce/100),g=l?Math.ceil(g/ce)*ce:Math.floor(g/ce)*ce),Math.max(w,Math.min(T,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ae(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var d=this._getTopLeftPoint(i,l);return new R(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(i)/d.scale(l)},getScaleZoom:function(i,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var g=d.zoom(i*d.scale(l));return isNaN(g)?1/0:g},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(oe(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(re(i),l)},layerPointToLatLng:function(i){var l=re(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(oe(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(oe(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ie(i))},distance:function(i,l){return this.options.crs.distance(oe(i),oe(l))},containerPointToLayerPoint:function(i){return re(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return re(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(re(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(i)))},mouseEventToContainerPoint:function(i){return As(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=So(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ae(l,"scroll",this._onScroll,this),this._containerId=y(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&me.any3d,Me(i,"leaflet-container"+(me.touch?" leaflet-touch":"")+(me.retina?" leaflet-retina":"")+(me.ielt9?" leaflet-oldie":"")+(me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Ss(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ct(this._mapPane,new ae(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Me(i.markerPane,"leaflet-zoom-hide"),Me(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,d){ct(this._mapPane,new ae(0,0));var g=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var w=this._zoom!==l;this._moveStart(w,d)._move(i,l)._moveEnd(w),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,d,g){l===void 0&&(l=this._zoom);var w=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),g?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return be(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){ct(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[y(this._container)]=this;var l=i?tt:Ae;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),me.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){be(this._resizeRequest),this._resizeRequest=_e(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var d=[],g,w=l==="mouseout"||l==="mouseover",T=i.target||i.srcElement,k=!1;T;){if(g=this._targets[y(T)],g&&(l==="click"||l==="preclick")&&this._draggableMoved(g)){k=!0;break}if(g&&g.listens(l,!0)&&(w&&!mi(T,i)||(d.push(g),w))||T===this._container)break;T=T.parentNode}return!d.length&&!k&&!w&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var d=i.type;d==="mousedown"&&Da(l),this._fireDOMEvent(i,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,d){if(i.type==="click"){var g=c({},i);g.type="preclick",this._fireDOMEvent(g,g.type,d)}var w=this._findEventTargets(i,l);if(d){for(var T=[],k=0;k<d.length;k++)d[k].listens(l,!0)&&T.push(d[k]);w=T.concat(w)}if(w.length){l==="contextmenu"&&wt(i);var $=w[0],G={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var W=$.getLatLng&&(!$._radius||$._radius<=10);G.containerPoint=W?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(i),G.layerPoint=this.containerPointToLayerPoint(G.containerPoint),G.latlng=W?$.getLatLng():this.layerPointToLatLng(G.layerPoint)}for(k=0;k<w.length;k++)if(w[k].fire(l,G,!0),G.originalEvent._stopped||w[k].options.bubblingMouseEvents===!1&&te(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return Mi(this._mapPane)||new ae(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var d=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var d=this.getSize()._divideBy(2);return this.project(i,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,d){var g=this._getNewPixelOrigin(d,l);return this.project(i,l)._subtract(g)},_latLngBoundsToNewLayerBounds:function(i,l,d){var g=this._getNewPixelOrigin(d,l);return Y([this.project(i.getSouthWest(),l)._subtract(g),this.project(i.getNorthWest(),l)._subtract(g),this.project(i.getSouthEast(),l)._subtract(g),this.project(i.getNorthEast(),l)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,d){if(!d)return i;var g=this.project(i,l),w=this.getSize().divideBy(2),T=new R(g.subtract(w),g.add(w)),k=this._getBoundsOffset(T,d,l);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?i:this.unproject(g.add(k),l)},_limitOffset:function(i,l){if(!l)return i;var d=this.getPixelBounds(),g=new R(d.min.add(i),d.max.add(i));return i.add(this._getBoundsOffset(g,l))},_getBoundsOffset:function(i,l,d){var g=Y(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),w=g.min.subtract(i.min),T=g.max.subtract(i.max),k=this._rebound(w.x,-T.x),$=this._rebound(w.y,-T.y);return new ae(k,$)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),d=this.getMaxZoom(),g=me.any3d?this.options.zoomSnap:1;return g&&(i=Math.round(i/g)*g),Math.max(l,Math.min(d,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){vt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var d=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var i=this._proxy=qe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var d=ki,g=this._proxy.style[d];fi(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),g===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){st(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();fi(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(l),w=this._getCenterOffset(i)._divideBy(1-1/g);return d.animate!==!0&&!this.getSize().contains(w)?!1:(_e(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,d,g){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,Me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&vt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ao(i,l){return new Ge(i,l)}var fn=De.extend({options:{position:"topright"},initialize:function(i){z(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),d=this.getPosition(),g=i._controlCorners[d];return Me(l,"leaflet-control"),d.indexOf("bottom")!==-1?g.insertBefore(l,g.firstChild):g.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(st(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),pi=function(i){return new fn(i)};Ge.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",d=this._controlContainer=qe("div",l+"control-container",this._container);function g(w,T){var k=l+w+" "+l+T;i[w+T]=qe("div",k,d)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)st(this._controlCorners[i]);st(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Rs=fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,d,g){return d<g?-1:g<d?1:0}},initialize:function(i,l,d){z(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in i)this._addLayer(i[g],g);for(g in l)this._addLayer(l[g],g,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return fn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(y(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):vt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return vt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=qe("div",i),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ra(l),Xn(l);var g=this._section=qe("section",i+"-list");d&&(this._map.on("click",this.collapse,this),Ae(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=qe("a",i+"-toggle",l);w.href="#",w.title="Layers",w.setAttribute("role","button"),Ae(w,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){wt(T),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=qe("div",i+"-base",g),this._separator=qe("div",i+"-separator",g),this._overlaysList=qe("div",i+"-overlays",g),l.appendChild(g)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&y(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,d){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(g,w){return this.options.sortFunction(g.layer,w.layer,g.name,w.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yn(this._baseLayersList),yn(this._overlaysList),this._layerControlInputs=[];var i,l,d,g,w=0;for(d=0;d<this._layers.length;d++)g=this._layers[d],this._addItem(g),l=l||g.overlay,i=i||!g.overlay,w+=g.overlay?0:1;return this.options.hideSingleBase&&(i=i&&w>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(y(i.target)),d=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(i,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=d,g.firstChild},_addItem:function(i){var l=document.createElement("label"),d=this._map.hasLayer(i.layer),g;i.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=d):g=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(g),g.layerId=y(i.layer),Ae(g,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+i.name;var T=document.createElement("span");l.appendChild(T),T.appendChild(g),T.appendChild(w);var k=i.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,d,g=[],w=[];this._handlingClick=!0;for(var T=i.length-1;T>=0;T--)l=i[T],d=this._getLayer(l.layerId).layer,l.checked?g.push(d):l.checked||w.push(d);for(T=0;T<w.length;T++)this._map.hasLayer(w[T])&&this._map.removeLayer(w[T]);for(T=0;T<g.length;T++)this._map.hasLayer(g[T])||this._map.addLayer(g[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,d,g=this._map.getZoom(),w=i.length-1;w>=0;w--)l=i[w],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&g<d.options.minZoom||d.options.maxZoom!==void 0&&g>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Ae(i,"click",wt),this.expand();var l=this;setTimeout(function(){tt(i,"click",wt),l._preventClick=!1})}}),Yl=function(i,l,d){return new Rs(i,l,d)},Ro=fn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",d=qe("div",l+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,d,g,w){var T=qe("a",d,g);return T.innerHTML=i,T.href="#",T.title=l,T.setAttribute("role","button"),T.setAttribute("aria-label",l),ra(T),Ae(T,"click",zi),Ae(T,"click",w,this),Ae(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";vt(this._zoomInButton,l),vt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Me(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Me(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ge.mergeOptions({zoomControl:!0}),Ge.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ro,this.addControl(this.zoomControl))});var Dc=function(i){return new Ro(i)},Fl=fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",d=qe("div",l),g=this.options;return this._addScales(g,l+"-line",d),i.on(g.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),d},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,d){i.metric&&(this._mScale=qe("div",l,d)),i.imperial&&(this._iScale=qe("div",l,d))},_update:function(){var i=this._map,l=i.getSize().y/2,d=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/i)},_updateImperial:function(i){var l=i*3.2808399,d,g,w;l>5280?(d=l/5280,g=this._getRoundNum(d),this._updateScale(this._iScale,g+" mi",g/d)):(w=this._getRoundNum(l),this._updateScale(this._iScale,w+" ft",w/l))},_updateScale:function(i,l,d){i.style.width=Math.round(this.options.maxWidth*d)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),d=i/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),jo=function(i){return new Fl(i)},Uc='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Lo=fn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(me.inlineSvg?Uc+" ":"")+"Leaflet</a>"},initialize:function(i){z(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=qe("div","leaflet-control-attribution"),ra(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),i.length&&d.push(i.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ge.mergeOptions({attributionControl:!0}),Ge.addInitHook(function(){this.options.attributionControl&&new Lo().addTo(this)});var Bc=function(i){return new Lo(i)};fn.Layers=Rs,fn.Zoom=Ro,fn.Scale=Fl,fn.Attribution=Lo,pi.layers=Yl,pi.zoom=Dc,pi.scale=jo,pi.attribution=Bc;var Qn=De.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Qn.addTo=function(i,l){return i.addHandler(l,this),this};var Hc={Events:I},ko=me.touch?"touchstart mousedown":"mousedown",Pi=ne.extend({options:{clickTolerance:3},initialize:function(i,l,d,g){z(this,g),this._element=i,this._dragStartTarget=l||i,this._preventOutline=d},enable:function(){this._enabled||(Ae(this._dragStartTarget,ko,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pi._dragging===this&&this.finishDrag(!0),tt(this._dragStartTarget,ko,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Eo(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){Pi._dragging===this&&this.finishDrag();return}if(!(Pi._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(Pi._dragging=this,this._preventOutline&&Da(this._element),pr(),za(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,d=vr(this._element);this._startPoint=new ae(l.clientX,l.clientY),this._startPos=Mi(this._element),this._parentScale=Os(d);var g=i.type==="mousedown";Ae(document,g?"mousemove":"touchmove",this._onMove,this),Ae(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,d=new ae(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,wt(i),this._moved||(this.fire("dragstart"),this._moved=!0,Me(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),ct(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){vt(document.body,"leaflet-dragging"),this._lastTarget&&(vt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),tt(document,"mousemove touchmove",this._onMove,this),tt(document,"mouseup touchend touchcancel",this._onUp,this),Ts(),Jn();var l=this._moved&&this._moving;this._moving=!1,Pi._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function Jl(i,l,d){var g,w=[1,4,2,8],T,k,$,G,W,ce,xe,Ue;for(T=0,ce=i.length;T<ce;T++)i[T]._code=oa(i[T],l);for($=0;$<4;$++){for(xe=w[$],g=[],T=0,ce=i.length,k=ce-1;T<ce;k=T++)G=i[T],W=i[k],G._code&xe?W._code&xe||(Ue=_r(W,G,xe,l,d),Ue._code=oa(Ue,l),g.push(Ue)):(W._code&xe&&(Ue=_r(W,G,xe,l,d),Ue._code=oa(Ue,l),g.push(Ue)),g.push(G));i=g}return i}function Xl(i,l){var d,g,w,T,k,$,G,W,ce;if(!i||i.length===0)throw new Error("latlngs not passed");bn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var xe=oe([0,0]),Ue=ie(i),Ht=Ue.getNorthWest().distanceTo(Ue.getSouthWest())*Ue.getNorthEast().distanceTo(Ue.getNorthWest());Ht<1700&&(xe=Mo(i));var St=i.length,mn=[];for(d=0;d<St;d++){var Je=oe(i[d]);mn.push(l.project(oe([Je.lat-xe.lat,Je.lng-xe.lng])))}for($=G=W=0,d=0,g=St-1;d<St;g=d++)w=mn[d],T=mn[g],k=w.y*T.x-T.y*w.x,G+=(w.x+T.x)*k,W+=(w.y+T.y)*k,$+=k*3;$===0?ce=mn[0]:ce=[G/$,W/$];var Xe=l.unproject(re(ce));return oe([Xe.lat+xe.lat,Xe.lng+xe.lng])}function Mo(i){for(var l=0,d=0,g=0,w=0;w<i.length;w++){var T=oe(i[w]);l+=T.lat,d+=T.lng,g++}return oe([l/g,d/g])}var zo={__proto__:null,clipPolygon:Jl,polygonCenter:Xl,centroid:Mo};function Ql(i,l){if(!l||!i.length)return i.slice();var d=l*l;return i=qc(i,d),i=eu(i,d),i}function Wl(i,l,d){return Math.sqrt(js(i,l,d,!0))}function Ic(i,l,d){return js(i,l,d)}function eu(i,l){var d=i.length,g=typeof Uint8Array<"u"?Uint8Array:Array,w=new g(d);w[0]=w[d-1]=1,Po(i,w,l,0,d-1);var T,k=[];for(T=0;T<d;T++)w[T]&&k.push(i[T]);return k}function Po(i,l,d,g,w){var T=0,k,$,G;for($=g+1;$<=w-1;$++)G=js(i[$],i[g],i[w],!0),G>T&&(k=$,T=G);T>d&&(l[k]=1,Po(i,l,d,g,k),Po(i,l,d,k,w))}function qc(i,l){for(var d=[i[0]],g=1,w=0,T=i.length;g<T;g++)$c(i[g],i[w])>l&&(d.push(i[g]),w=g);return w<T-1&&d.push(i[T-1]),d}var tu;function nu(i,l,d,g,w){var T=g?tu:oa(i,d),k=oa(l,d),$,G,W;for(tu=k;;){if(!(T|k))return[i,l];if(T&k)return!1;$=T||k,G=_r(i,l,$,d,w),W=oa(G,d),$===T?(i=G,T=W):(l=G,k=W)}}function _r(i,l,d,g,w){var T=l.x-i.x,k=l.y-i.y,$=g.min,G=g.max,W,ce;return d&8?(W=i.x+T*(G.y-i.y)/k,ce=G.y):d&4?(W=i.x+T*($.y-i.y)/k,ce=$.y):d&2?(W=G.x,ce=i.y+k*(G.x-i.x)/T):d&1&&(W=$.x,ce=i.y+k*($.x-i.x)/T),new ae(W,ce,w)}function oa(i,l){var d=0;return i.x<l.min.x?d|=1:i.x>l.max.x&&(d|=2),i.y<l.min.y?d|=4:i.y>l.max.y&&(d|=8),d}function $c(i,l){var d=l.x-i.x,g=l.y-i.y;return d*d+g*g}function js(i,l,d,g){var w=l.x,T=l.y,k=d.x-w,$=d.y-T,G=k*k+$*$,W;return G>0&&(W=((i.x-w)*k+(i.y-T)*$)/G,W>1?(w=d.x,T=d.y):W>0&&(w+=k*W,T+=$*W)),k=i.x-w,$=i.y-T,g?k*k+$*$:new ae(w,T)}function bn(i){return!q(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function br(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bn(i)}function Ha(i,l){var d,g,w,T,k,$,G,W;if(!i||i.length===0)throw new Error("latlngs not passed");bn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var ce=oe([0,0]),xe=ie(i),Ue=xe.getNorthWest().distanceTo(xe.getSouthWest())*xe.getNorthEast().distanceTo(xe.getNorthWest());Ue<1700&&(ce=Mo(i));var Ht=i.length,St=[];for(d=0;d<Ht;d++){var mn=oe(i[d]);St.push(l.project(oe([mn.lat-ce.lat,mn.lng-ce.lng])))}for(d=0,g=0;d<Ht-1;d++)g+=St[d].distanceTo(St[d+1])/2;if(g===0)W=St[0];else for(d=0,T=0;d<Ht-1;d++)if(k=St[d],$=St[d+1],w=k.distanceTo($),T+=w,T>g){G=(T-g)/w,W=[$.x-G*($.x-k.x),$.y-G*($.y-k.y)];break}var Je=l.unproject(re(W));return oe([Je.lat+ce.lat,Je.lng+ce.lng])}var Zc={__proto__:null,simplify:Ql,pointToSegmentDistance:Wl,closestPointOnSegment:Ic,clipSegment:nu,_getEdgeIntersection:_r,_getBitCode:oa,_sqClosestPointOnSegment:js,isFlat:bn,_flat:br,polylineCenter:Ha},xr={project:function(i){return new ae(i.lng,i.lat)},unproject:function(i){return new se(i.y,i.x)},bounds:new R([-180,-90],[180,90])},wr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new R([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,d=this.R,g=i.lat*l,w=this.R_MINOR/d,T=Math.sqrt(1-w*w),k=T*Math.sin(g),$=Math.tan(Math.PI/4-g/2)/Math.pow((1-k)/(1+k),T/2);return g=-d*Math.log(Math.max($,1e-10)),new ae(i.lng*l*d,g)},unproject:function(i){for(var l=180/Math.PI,d=this.R,g=this.R_MINOR/d,w=Math.sqrt(1-g*g),T=Math.exp(-i.y/d),k=Math.PI/2-2*Math.atan(T),$=0,G=.1,W;$<15&&Math.abs(G)>1e-7;$++)W=w*Math.sin(k),W=Math.pow((1-W)/(1+W),w/2),G=Math.PI/2-2*Math.atan(T*W)-k,k+=G;return new se(k*l,i.x*l/d)}},iu={__proto__:null,LonLat:xr,Mercator:wr,SphericalMercator:Fe},au=c({},Ee,{code:"EPSG:3395",projection:wr,transformation:(function(){var i=.5/(Math.PI*wr.R);return sn(i,.5,-i,.5)})()}),Do=c({},Ee,{code:"EPSG:4326",projection:xr,transformation:sn(1/180,1,-1/180,.5)}),Ia=c({},Ne,{projection:xr,transformation:sn(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var d=l.lng-i.lng,g=l.lat-i.lat;return Math.sqrt(d*d+g*g)},infinite:!0});Ne.Earth=Ee,Ne.EPSG3395=au,Ne.EPSG3857=Aa,Ne.EPSG900913=Ln,Ne.EPSG4326=Do,Ne.Simple=Ia;var Pn=ne.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[y(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[y(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ge.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=y(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=y(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return y(i)in this._layers},eachLayer:function(i,l){for(var d in this._layers)i.call(l,this._layers[d]);return this},_addLayers:function(i){i=i?q(i)?i:[i]:[];for(var l=0,d=i.length;l<d;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[y(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=y(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,d=this._getZoomSpan();for(var g in this._zoomBoundLayers){var w=this._zoomBoundLayers[g].options;i=w.minZoom===void 0?i:Math.min(i,w.minZoom),l=w.maxZoom===void 0?l:Math.max(l,w.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var qa=Pn.extend({initialize:function(i,l){z(this,l),this._layers={};var d,g;if(i)for(d=0,g=i.length;d<g;d++)this.addLayer(i[d])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),d,g;for(d in this._layers)g=this._layers[d],g[i]&&g[i].apply(g,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var d in this._layers)i.call(l,this._layers[d]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return y(i)}}),Vc=function(i,l){return new qa(i,l)},Wn=qa.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),qa.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),qa.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new J;for(var l in this._layers){var d=this._layers[l];i.extend(d.getBounds?d.getBounds():d.getLatLng())}return i}}),su=function(i,l){return new Wn(i,l)},ei=De.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){z(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var d=this._getIconUrl(i);if(!d){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(g,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(i,l){var d=this.options,g=d[l+"Size"];typeof g=="number"&&(g=[g,g]);var w=re(g),T=re(l==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(d.className||""),T&&(i.style.marginLeft=-T.x+"px",i.style.marginTop=-T.y+"px"),w&&(i.style.width=w.x+"px",i.style.height=w.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return me.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Ls(i){return new ei(i)}var ks=ei.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof ks.imagePath!="string"&&(ks.imagePath=this._detectIconPath()),(this.options.imagePath||ks.imagePath)+ei.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(d,g,w){var T=g.exec(d);return T&&T[w]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=qe("div","leaflet-default-icon-path",document.body),l=Ss(i,"background-image")||Ss(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Ms=Qn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new Pi(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Me(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&vt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,d=l._map,g=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,T=Mi(l._icon),k=d.getPixelBounds(),$=d.getPixelOrigin(),G=Y(k.min._subtract($).add(w),k.max._subtract($).subtract(w));if(!G.contains(T)){var W=re((Math.max(G.max.x,T.x)-G.max.x)/(k.max.x-G.max.x)-(Math.min(G.min.x,T.x)-G.min.x)/(k.min.x-G.min.x),(Math.max(G.max.y,T.y)-G.max.y)/(k.max.y-G.max.y)-(Math.min(G.min.y,T.y)-G.min.y)/(k.min.y-G.min.y)).multiplyBy(g);d.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),ct(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=_e(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(be(this._panRequest),this._panRequest=_e(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,d=l._shadow,g=Mi(l._icon),w=l._map.layerPointToLatLng(g);d&&ct(d,g),l._latlng=w,i.latlng=w,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){be(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),zs=Pn.extend({options:{icon:new ks,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){z(this,l),this._latlng=oe(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=oe(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=i.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,i.title&&(d.title=i.title),d.tagName==="IMG"&&(d.alt=i.alt||"")),Me(d,l),i.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ae(d,"focus",this._panOnFocus,this);var w=i.icon.createShadow(this._shadow),T=!1;w!==this._shadow&&(this._removeShadow(),T=!0),w&&(Me(w,l),w.alt=""),this._shadow=w,i.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&T&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&tt(this._icon,"focus",this._panOnFocus,this),st(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&st(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&ct(this._icon,i),this._shadow&&ct(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ms)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ms(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&mt(this._icon,i),this._shadow&&mt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,d=l.iconSize?re(l.iconSize):re(0,0),g=l.iconAnchor?re(l.iconAnchor):re(0,0);i.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:d.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function ru(i,l){return new zs(i,l)}var ti=Pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return z(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),$a=ti.extend({options:{fill:!0,radius:10},initialize:function(i,l){z(this,l),this._latlng=oe(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=oe(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return ti.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,d=this._clickTolerance(),g=[i+d,l+d];this._pxBounds=new R(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ou(i,l){return new $a(i,l)}var Sr=$a.extend({initialize:function(i,l,d){if(typeof l=="number"&&(l=c({},d,{radius:l})),z(this,l),this._latlng=oe(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new J(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:ti.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,d=this._map,g=d.options.crs;if(g.distance===Ee.distance){var w=Math.PI/180,T=this._mRadius/Ee.R/w,k=d.project([l+T,i]),$=d.project([l-T,i]),G=k.add($).divideBy(2),W=d.unproject(G).lat,ce=Math.acos((Math.cos(T*w)-Math.sin(l*w)*Math.sin(W*w))/(Math.cos(l*w)*Math.cos(W*w)))/w;(isNaN(ce)||ce===0)&&(ce=T/Math.cos(Math.PI/180*l)),this._point=G.subtract(d.getPixelOrigin()),this._radius=isNaN(ce)?0:G.x-d.project([W,i-ce]).x,this._radiusY=G.y-k.y}else{var xe=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(xe).x}this._updateBounds()}});function lu(i,l,d){return new Sr(i,l,d)}var gi=ti.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){z(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,d=null,g=js,w,T,k=0,$=this._parts.length;k<$;k++)for(var G=this._parts[k],W=1,ce=G.length;W<ce;W++){w=G[W-1],T=G[W];var xe=g(i,w,T,!0);xe<l&&(l=xe,d=g(i,w,T))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ha(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=oe(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new J,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return bn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],d=bn(i),g=0,w=i.length;g<w;g++)d?(l[g]=oe(i[g]),this._bounds.extend(l[g])):l[g]=this._convertLatLngs(i[g]);return l},_project:function(){var i=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new ae(i,i);this._rawPxBounds&&(this._pxBounds=new R([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,d){var g=i[0]instanceof se,w=i.length,T,k;if(g){for(k=[],T=0;T<w;T++)k[T]=this._map.latLngToLayerPoint(i[T]),d.extend(k[T]);l.push(k)}else for(T=0;T<w;T++)this._projectLatlngs(i[T],l,d)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,g,w,T,k,$,G;for(d=0,w=0,T=this._rings.length;d<T;d++)for(G=this._rings[d],g=0,k=G.length;g<k-1;g++)$=nu(G[g],G[g+1],i,g,!0),$&&(l[w]=l[w]||[],l[w].push($[0]),($[1]!==G[g+1]||g===k-2)&&(l[w].push($[1]),w++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,d=0,g=i.length;d<g;d++)i[d]=Ql(i[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var d,g,w,T,k,$,G=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(d=0,T=this._parts.length;d<T;d++)for($=this._parts[d],g=0,k=$.length,w=k-1;g<k;w=g++)if(!(!l&&g===0)&&Wl(i,$[w],$[g])<=G)return!0;return!1}});function Gc(i,l){return new gi(i,l)}gi._flat=br;var Za=gi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Xl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=gi.prototype._convertLatLngs.call(this,i),d=l.length;return d>=2&&l[0]instanceof se&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(i){gi.prototype._setLatLngs.call(this,i),bn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,d=new ae(l,l);if(i=new R(i.min.subtract(d),i.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,w=this._rings.length,T;g<w;g++)T=Jl(this._rings[g],i,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,d,g,w,T,k,$,G,W;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(T=0,G=this._parts.length;T<G;T++)for(d=this._parts[T],k=0,W=d.length,$=W-1;k<W;$=k++)g=d[k],w=d[$],g.y>i.y!=w.y>i.y&&i.x<(w.x-g.x)*(i.y-g.y)/(w.y-g.y)+g.x&&(l=!l);return l||gi.prototype._containsPoint.call(this,i,!0)}});function Kc(i,l){return new Za(i,l)}var vi=Wn.extend({initialize:function(i,l){z(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=q(i)?i:i.features,d,g,w;if(l){for(d=0,g=l.length;d<g;d++)w=l[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var T=this.options;if(T.filter&&!T.filter(i))return this;var k=Kt(i,T);return k?(k.feature=Or(i),k.defaultOptions=k.options,this.resetStyle(k),T.onEachFeature&&T.onEachFeature(i,k),this.addLayer(k)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=c({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function Kt(i,l){var d=i.type==="Feature"?i.geometry:i,g=d?d.coordinates:null,w=[],T=l&&l.pointToLayer,k=l&&l.coordsToLatLng||Er,$,G,W,ce;if(!g&&!d)return null;switch(d.type){case"Point":return $=k(g),Va(T,i,$,l);case"MultiPoint":for(W=0,ce=g.length;W<ce;W++)$=k(g[W]),w.push(Va(T,i,$,l));return new Wn(w);case"LineString":case"MultiLineString":return G=Ps(g,d.type==="LineString"?0:1,k),new gi(G,l);case"Polygon":case"MultiPolygon":return G=Ps(g,d.type==="Polygon"?1:2,k),new Za(G,l);case"GeometryCollection":for(W=0,ce=d.geometries.length;W<ce;W++){var xe=Kt({geometry:d.geometries[W],type:"Feature",properties:i.properties},l);xe&&w.push(xe)}return new Wn(w);case"FeatureCollection":for(W=0,ce=d.features.length;W<ce;W++){var Ue=Kt(d.features[W],l);Ue&&w.push(Ue)}return new Wn(w);default:throw new Error("Invalid GeoJSON object.")}}function Va(i,l,d,g){return i?i(l,d):new zs(d,g&&g.markersInheritOptions&&g)}function Er(i){return new se(i[1],i[0],i[2])}function Ps(i,l,d){for(var g=[],w=0,T=i.length,k;w<T;w++)k=l?Ps(i[w],l-1,d):(d||Er)(i[w]),g.push(k);return g}function Tr(i,l){return i=oe(i),i.alt!==void 0?[O(i.lng,l),O(i.lat,l),O(i.alt,l)]:[O(i.lng,l),O(i.lat,l)]}function Ds(i,l,d,g){for(var w=[],T=0,k=i.length;T<k;T++)w.push(l?Ds(i[T],bn(i[T])?0:l-1,d,g):Tr(i[T],g));return!l&&d&&w.length>0&&w.push(w[0].slice()),w}function Di(i,l){return i.feature?c({},i.feature,{geometry:l}):Or(l)}function Or(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Ui={toGeoJSON:function(i){return Di(this,{type:"Point",coordinates:Tr(this.getLatLng(),i)})}};zs.include(Ui),Sr.include(Ui),$a.include(Ui),gi.include({toGeoJSON:function(i){var l=!bn(this._latlngs),d=Ds(this._latlngs,l?1:0,!1,i);return Di(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),Za.include({toGeoJSON:function(i){var l=!bn(this._latlngs),d=l&&!bn(this._latlngs[0]),g=Ds(this._latlngs,d?2:l?1:0,!0,i);return l||(g=[g]),Di(this,{type:(d?"Multi":"")+"Polygon",coordinates:g})}}),qa.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(i).geometry.coordinates)}),Di(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var d=l==="GeometryCollection",g=[];return this.eachLayer(function(w){if(w.toGeoJSON){var T=w.toGeoJSON(i);if(d)g.push(T.geometry);else{var k=Or(T);k.type==="FeatureCollection"?g.push.apply(g,k.features):g.push(k)}}}),d?Di(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function Cr(i,l){return new vi(i,l)}var Us=Cr,Ga=Pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,d){this._url=i,this._bounds=ie(l),z(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){st(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Bt(this._image),this},bringToBack:function(){return this._map&&aa(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ie(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:qe("img");if(Me(l,"leaflet-image-layer"),this._zoomAnimated&&Me(l,"leaflet-zoom-animated"),this.options.className&&Me(l,this.options.className),l.onselectstart=x,l.onmousemove=x,l.onload=m(this.fire,this,"load"),l.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;fi(this._image,d,l)},_reset:function(){var i=this._image,l=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();ct(i,l.min),i.style.width=d.x+"px",i.style.height=d.y+"px"},_updateOpacity:function(){mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),uu=function(i,l,d){return new Ga(i,l,d)},Bi=Ga.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:qe("video");if(Me(l,"leaflet-image-layer"),this._zoomAnimated&&Me(l,"leaflet-zoom-animated"),this.options.className&&Me(l,this.options.className),l.onselectstart=x,l.onmousemove=x,l.onloadeddata=m(this.fire,this,"load"),i){for(var d=l.getElementsByTagName("source"),g=[],w=0;w<d.length;w++)g.push(d[w].src);this._url=d.length>0?g:[l.src];return}q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var k=qe("source");k.src=this._url[T],l.appendChild(k)}}});function Ka(i,l,d){return new Bi(i,l,d)}var Nr=Ga.extend({_initImage:function(){var i=this._image=this._url;Me(i,"leaflet-image-layer"),this._zoomAnimated&&Me(i,"leaflet-zoom-animated"),this.options.className&&Me(i,this.options.className),i.onselectstart=x,i.onmousemove=x}});function cu(i,l,d){return new Nr(i,l,d)}var Yt=Pn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof se||q(i))?(this._latlng=oe(i),z(this,l)):(z(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&mt(this._container,1),this.bringToFront(),this.options.interactive&&(Me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(mt(this._container,0),this._removeTimeout=setTimeout(m(st,void 0,this._container),200)):st(this._container),this.options.interactive&&(vt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=oe(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bt(this._container),this},bringToBack:function(){return this._map&&aa(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof Wn){l=null;var d=this._source._layers;for(var g in d)if(d[g]._map){l=d[g];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=re(this.options.offset),d=this._getAnchor();this._zoomAnimated?ct(this._container,i.add(d)):l=l.add(i).add(d);var g=this._containerBottom=-l.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=g+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Ge.include({_initOverlay:function(i,l,d,g){var w=l;return w instanceof i||(w=new i(g).setContent(l)),d&&w.setLatLng(d),w}}),Pn.include({_initOverlay:function(i,l,d,g){var w=d;return w instanceof i?(z(w,g),w._source=this):(w=l&&!g?l:new i(g,this),w.setContent(d)),w}});var Bs=Yt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Yt.prototype.openOn.call(this,i)},onAdd:function(i){Yt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ti||this._source.on("preclick",zn))},onRemove:function(i){Yt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ti||this._source.off("preclick",zn))},getEvents:function(){var i=Yt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=qe("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=qe("div",i+"-content-wrapper",l);if(this._contentNode=qe("div",i+"-content",d),ra(l),Xn(this._contentNode),Ae(l,"contextmenu",zn),this._tipContainer=qe("div",i+"-tip-container",l),this._tip=qe("div",i+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=qe("a",i+"-close-button",l);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',Ae(g,"click",function(w){wt(w),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var d=i.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var g=i.offsetHeight,w=this.options.maxHeight,T="leaflet-popup-scrolled";w&&g>w?(l.height=w+"px",Me(i,T)):vt(i,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),d=this._getAnchor();ct(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(Ss(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,g=this._containerWidth,w=new ae(this._containerLeft,-d-this._containerBottom);w._add(Mi(this._container));var T=i.layerPointToContainerPoint(w),k=re(this.options.autoPanPadding),$=re(this.options.autoPanPaddingTopLeft||k),G=re(this.options.autoPanPaddingBottomRight||k),W=i.getSize(),ce=0,xe=0;T.x+g+G.x>W.x&&(ce=T.x+g-W.x+G.x),T.x-ce-$.x<0&&(ce=T.x-$.x),T.y+d+G.y>W.y&&(xe=T.y+d-W.y+G.y),T.y-xe-$.y<0&&(xe=T.y-$.y),(ce||xe)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([ce,xe]))}},_getAnchor:function(){return re(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hu=function(i,l){return new Bs(i,l)};Ge.mergeOptions({closePopupOnClick:!0}),Ge.include({openPopup:function(i,l,d){return this._initOverlay(Bs,i,l,d).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Pn.include({bindPopup:function(i,l){return this._popup=this._initOverlay(Bs,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Wn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){zi(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof ti)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Hs=Yt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Yt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Yt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Yt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=qe("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,d,g=this._map,w=this._container,T=g.latLngToContainerPoint(g.getCenter()),k=g.layerPointToContainerPoint(i),$=this.options.direction,G=w.offsetWidth,W=w.offsetHeight,ce=re(this.options.offset),xe=this._getAnchor();$==="top"?(l=G/2,d=W):$==="bottom"?(l=G/2,d=0):$==="center"?(l=G/2,d=W/2):$==="right"?(l=0,d=W/2):$==="left"?(l=G,d=W/2):k.x<T.x?($="right",l=0,d=W/2):($="left",l=G+(ce.x+xe.x)*2,d=W/2),i=i.subtract(re(l,d,!0)).add(ce).add(xe),vt(w,"leaflet-tooltip-right"),vt(w,"leaflet-tooltip-left"),vt(w,"leaflet-tooltip-top"),vt(w,"leaflet-tooltip-bottom"),Me(w,"leaflet-tooltip-"+$),ct(w,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&mt(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return re(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Yc=function(i,l){return new Hs(i,l)};Ge.include({openTooltip:function(i,l,d){return this._initOverlay(Hs,i,l,d).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Pn.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Hs,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Wn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(Ae(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Ae(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,d,g;this._tooltip.options.sticky&&i.originalEvent&&(d=this._map.mouseEventToContainerPoint(i.originalEvent),g=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(l)}});var du=ei.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),d=this.options;if(d.html instanceof Element?(yn(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var g=re(d.bgPos);l.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Fc(i){return new du(i)}ei.Default=ks;var Ya=Pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){z(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),st(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(aa(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=_(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof ae?i:new ae(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,d=-i(-1/0,1/0),g=0,w=l.length,T;g<w;g++)T=l[g].style.zIndex,l[g]!==this._container&&T&&(d=i(d,+T));isFinite(d)&&(this.options.zIndex=d+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!me.ielt9){mt(this._container,this.options.opacity);var i=+new Date,l=!1,d=!1;for(var g in this._tiles){var w=this._tiles[g];if(!(!w.current||!w.loaded)){var T=Math.min(1,(i-w.loaded)/200);mt(w.el,T),T<1?l=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(be(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=qe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===i?(this._levels[d].el.style.zIndex=l-Math.abs(i-d),this._onUpdateLevel(d)):(st(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var g=this._levels[i],w=this._map;return g||(g=this._levels[i]={},g.el=qe("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=l,g.origin=w.project(w.unproject(w.getPixelOrigin()),i).round(),g.zoom=i,this._setZoomTransform(g,w.getCenter(),w.getZoom()),x(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var i,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var g=l.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)st(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,d,g){var w=Math.floor(i/2),T=Math.floor(l/2),k=d-1,$=new ae(+w,+T);$.z=+k;var G=this._tileCoordsToKey($),W=this._tiles[G];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),k>g?this._retainParent(w,T,k,g):!1)},_retainChildren:function(i,l,d,g){for(var w=2*i;w<2*i+2;w++)for(var T=2*l;T<2*l+2;T++){var k=new ae(w,T);k.z=d+1;var $=this._tileCoordsToKey(k),G=this._tiles[$];if(G&&G.active){G.retain=!0;continue}else G&&G.loaded&&(G.retain=!0);d+1<g&&this._retainChildren(w,T,d+1,g)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,d,g){var w=Math.round(l);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var T=this.options.updateWhenZooming&&w!==this._tileZoom;(!g||T)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(i),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],i,l)},_setZoomTransform:function(i,l,d){var g=this._map.getZoomScale(d,i.zoom),w=i.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(l,d)).round();me.any3d?fi(i.el,w,g):ct(i.el,w)},_resetGrid:function(){var i=this._map,l=i.options.crs,d=this._tileSize=this.getTileSize(),g=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],g).x/d.x),Math.ceil(i.project([0,l.wrapLng[1]],g).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],g).y/d.x),Math.ceil(i.project([l.wrapLat[1],0],g).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),g=l.getZoomScale(d,this._tileZoom),w=l.project(i,this._tileZoom).floor(),T=l.getSize().divideBy(g*2);return new R(w.subtract(T),w.add(T))},_update:function(i){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(i),w=this._pxBoundsToTileRange(g),T=w.getCenter(),k=[],$=this.options.keepBuffer,G=new R(w.getBottomLeft().subtract([$,-$]),w.getTopRight().add([$,-$]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var ce=this._tiles[W].coords;(ce.z!==this._tileZoom||!G.contains(new ae(ce.x,ce.y)))&&(this._tiles[W].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(i,d);return}for(var xe=w.min.y;xe<=w.max.y;xe++)for(var Ue=w.min.x;Ue<=w.max.x;Ue++){var Ht=new ae(Ue,xe);if(Ht.z=this._tileZoom,!!this._isValidTile(Ht)){var St=this._tiles[this._tileCoordsToKey(Ht)];St?St.current=!0:k.push(Ht)}}if(k.sort(function(Je,Xe){return Je.distanceTo(T)-Xe.distanceTo(T)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var mn=document.createDocumentFragment();for(Ue=0;Ue<k.length;Ue++)this._addTile(k[Ue],mn);this._level.el.appendChild(mn)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(i.x<d.min.x||i.x>d.max.x)||!l.wrapLat&&(i.y<d.min.y||i.y>d.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(i);return ie(this.options.bounds).overlaps(g)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,d=this.getTileSize(),g=i.scaleBy(d),w=g.add(d),T=l.unproject(g,i.z),k=l.unproject(w,i.z);return[T,k]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),d=new J(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),d=new ae(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(i){var l=this._tiles[i];l&&(st(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Me(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=x,i.onmousemove=x,me.ielt9&&this.options.opacity<1&&mt(i,this.options.opacity)},_addTile:function(i,l){var d=this._getTilePos(i),g=this._tileCoordsToKey(i),w=this.createTile(this._wrapCoords(i),m(this._tileReady,this,i));this._initTile(w),this.createTile.length<2&&_e(m(this._tileReady,this,i,null,w)),ct(w,d),this._tiles[g]={el:w,coords:i,current:!0},l.appendChild(w),this.fire("tileloadstart",{tile:w,coords:i})},_tileReady:function(i,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:i});var g=this._tileCoordsToKey(i);d=this._tiles[g],d&&(d.loaded=+new Date,this._map._fadeAnimated?(mt(d.el,0),be(this._fadeFrame),this._fadeFrame=_e(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(Me(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),me.ielt9||!this._map._fadeAnimated?_e(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new ae(this._wrapX?E(i.x,this._wrapX):i.x,this._wrapY?E(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new R(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function fu(i){return new Ya(i)}var Hi=Ya.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=z(this,l),l.detectRetina&&me.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var d=document.createElement("img");return Ae(d,"load",m(this._tileOnLoad,this,l,d)),Ae(d,"error",m(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(i),d},getTileUrl:function(i){var l={r:me.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=d),l["-y"]=d}return U(this._url,c(l,this.options))},_tileOnLoad:function(i,l){me.ielt9?setTimeout(m(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,d){var g=this.options.errorTileUrl;g&&l.getAttribute("src")!==g&&(l.src=g),i(d,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,g=this.options.zoomOffset;return d&&(i=l-i),i+g},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=x,l.onerror=x,!l.complete)){l.src=de;var d=this._tiles[i].coords;st(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",de),Ya.prototype._removeTile.call(this,i)},_tileReady:function(i,l,d){if(!(!this._map||d&&d.getAttribute("src")===de))return Ya.prototype._tileReady.call(this,i,l,d)}});function xn(i,l){return new Hi(i,l)}var Is=Hi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var d=c({},this.defaultWmsParams);for(var g in l)g in this.options||(d[g]=l[g]);l=z(this,l);var w=l.detectRetina&&me.retina?2:1,T=this.getTileSize();d.width=T.x*w,d.height=T.y*w,this.wmsParams=d},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Hi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),d=this._crs,g=Y(d.project(l[0]),d.project(l[1])),w=g.min,T=g.max,k=(this._wmsVersion>=1.3&&this._crs===Do?[w.y,w.x,T.y,T.x]:[w.x,w.y,T.x,T.y]).join(","),$=Hi.prototype.getTileUrl.call(this,i);return $+B(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(i,l){return c(this.wmsParams,i),l||this.redraw(),this}});function wn(i,l){return new Is(i,l)}Hi.WMS=Is,xn.wms=wn;var un=Pn.extend({options:{padding:.1},initialize:function(i){z(this,i),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var d=this._map.getZoomScale(l,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,l),T=g.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(i,l));me.any3d?fi(this._container,T,d):ct(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new R(d,d.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ar=un.extend({options:{tolerance:0},getEvents:function(){var i=un.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){un.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Ae(i,"mousemove",this._onMouseMove,this),Ae(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ae(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){be(this._redrawRequest),delete this._ctx,st(this._container),tt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){un.prototype._update.call(this);var i=this._bounds,l=this._container,d=i.getSize(),g=me.retina?2:1;ct(l,i.min),l.width=g*d.x,l.height=g*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",me.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){un.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[y(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,d=l.next,g=l.prev;d?d.prev=g:this._drawLast=g,g?g.next=d:this._drawFirst=d,delete i._order,delete this._layers[y(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),d=[],g,w;for(w=0;w<l.length;w++){if(g=Number(l[w]),isNaN(g))return;d.push(g)}i.options._dashArray=d}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||_e(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)i=g.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var d,g,w,T,k=i._parts,$=k.length,G=this._ctx;if($){for(G.beginPath(),d=0;d<$;d++){for(g=0,w=k[d].length;g<w;g++)T=k[d][g],G[g?"lineTo":"moveTo"](T.x,T.y);l&&G.closePath()}this._fillStroke(G,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,d=this._ctx,g=Math.max(Math.round(i._radius),1),w=(Math.max(Math.round(i._radiusY),1)||g)/g;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(l.x,l.y/w,g,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,i)}},_fillStroke:function(i,l){var d=l.options;d.fill&&(i.globalAlpha=d.fillOpacity,i.fillStyle=d.fillColor||d.color,i.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=d.opacity,i.lineWidth=d.weight,i.strokeStyle=d.color,i.lineCap=d.lineCap,i.lineJoin=d.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),d,g,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(d))&&(g=d);this._fireEvent(g?[g]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(vt(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var d,g,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(l)&&(g=d);g!==this._hoveredLayer&&(this._handleMouseOut(i),g&&(Me(this._container,"leaflet-interactive"),this._fireEvent([g],i,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,d){this._map._fireDOMEvent(l,d||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var d=l.next,g=l.prev;if(d)d.prev=g;else return;g?g.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var d=l.next,g=l.prev;if(g)g.next=d;else return;d?d.prev=g:g&&(this._drawLast=g),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function qs(i){return me.canvas?new Ar(i):null}var Ii=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Uo={_initContainer:function(){this._container=qe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(un.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=Ii("shape");Me(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=Ii("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[y(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;st(l),i.removeInteractiveTarget(l),delete this._layers[y(i)]},_updateStyle:function(i){var l=i._stroke,d=i._fill,g=i.options,w=i._container;w.stroked=!!g.stroke,w.filled=!!g.fill,g.stroke?(l||(l=i._stroke=Ii("stroke")),w.appendChild(l),l.weight=g.weight+"px",l.color=g.color,l.opacity=g.opacity,g.dashArray?l.dashStyle=q(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=g.lineCap.replace("butt","flat"),l.joinstyle=g.lineJoin):l&&(w.removeChild(l),i._stroke=null),g.fill?(d||(d=i._fill=Ii("fill")),w.appendChild(d),d.color=g.fillColor||g.color,d.opacity=g.fillOpacity):d&&(w.removeChild(d),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),d=Math.round(i._radius),g=Math.round(i._radiusY||d);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+g+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Bt(i._container)},_bringToBack:function(i){aa(i._container)}},ni=me.vml?Ii:Ra,Fa=un.extend({_initContainer:function(){this._container=ni("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ni("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){st(this._container),tt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){un.prototype._update.call(this);var i=this._bounds,l=i.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),ct(d,i.min),d.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=ni("path");i.options.className&&Me(l,i.options.className),i.options.interactive&&Me(l,"leaflet-interactive"),this._updateStyle(i),this._layers[y(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){st(i._path),i.removeInteractiveTarget(i._path),delete this._layers[y(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,d=i.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,Fi(i._parts,l))},_updateCircle:function(i){var l=i._point,d=Math.max(Math.round(i._radius),1),g=Math.max(Math.round(i._radiusY),1)||d,w="a"+d+","+g+" 0 1,0 ",T=i._empty()?"M0 0":"M"+(l.x-d)+","+l.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(i,T)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Bt(i._path)},_bringToBack:function(i){aa(i._path)}});me.vml&&Fa.include(Uo);function $s(i){return me.svg||me.vml?new Fa(i):null}Ge.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&qs(i)||$s(i)}});var la=Za.extend({initialize:function(i,l){Za.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ie(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Jc(i,l){return new la(i,l)}Fa.create=ni,Fa.pointsToPath=Fi,vi.geometryToLayer=Kt,vi.coordsToLatLng=Er,vi.coordsToLatLngs=Ps,vi.latLngToCoords=Tr,vi.latLngsToCoords=Ds,vi.getFeature=Di,vi.asFeature=Or,Ge.mergeOptions({boxZoom:!0});var cn=Qn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){tt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){st(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),za(),pr(),this._startPoint=this._map.mouseEventToContainerPoint(i),Ae(document,{contextmenu:zi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=qe("div","leaflet-zoom-box",this._container),Me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new R(this._point,this._startPoint),d=l.getSize();ct(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(st(this._box),vt(this._container,"leaflet-crosshair")),Jn(),Ts(),tt(document,{contextmenu:zi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var l=new J(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ge.addInitHook("addHandler","boxZoom",cn),Ge.mergeOptions({doubleClickZoom:!0});var Rr=Qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,d=l.getZoom(),g=l.options.zoomDelta,w=i.originalEvent.shiftKey?d-g:d+g;l.options.doubleClickZoom==="center"?l.setZoom(w):l.setZoomAround(i.containerPoint,w)}});Ge.addInitHook("addHandler","doubleClickZoom",Rr),Ge.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ii=Qn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new Pi(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){vt(this._map._container,"leaflet-grab"),vt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ie(this._map.options.maxBounds);this._offsetLimit=Y(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),d=this._initialWorldOffset,g=this._draggable._newPos.x,w=(g-l+d)%i+l-d,T=(g+l+d)%i-l-d,k=Math.abs(w+d)<Math.abs(T+d)?w:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(i){var l=this._map,d=l.options,g=!d.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),g)l.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,k=d.easeLinearity,$=w.multiplyBy(k/T),G=$.distanceTo([0,0]),W=Math.min(d.inertiaMaxSpeed,G),ce=$.multiplyBy(W/G),xe=W/(d.inertiaDeceleration*k),Ue=ce.multiplyBy(-xe/2).round();!Ue.x&&!Ue.y?l.fire("moveend"):(Ue=l._limitOffset(Ue,l.options.maxBounds),_e(function(){l.panBy(Ue,{duration:xe,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});Ge.addInitHook("addHandler","dragging",ii),Ge.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Bo=Qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Ae(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),tt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,d=i.scrollTop||l.scrollTop,g=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(g,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},d=this.keyCodes,g,w;for(g=0,w=d.left.length;g<w;g++)l[d.left[g]]=[-1*i,0];for(g=0,w=d.right.length;g<w;g++)l[d.right[g]]=[i,0];for(g=0,w=d.down.length;g<w;g++)l[d.down[g]]=[0,i];for(g=0,w=d.up.length;g<w;g++)l[d.up[g]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},d=this.keyCodes,g,w;for(g=0,w=d.zoomIn.length;g<w;g++)l[d.zoomIn[g]]=i;for(g=0,w=d.zoomOut.length;g<w;g++)l[d.zoomOut[g]]=-i},_addHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){tt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,d=this._map,g;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(g=this._panKeys[l],i.shiftKey&&(g=re(g).multiplyBy(3)),d.options.maxBounds&&(g=d._limitOffset(re(g),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(g)));d.panTo(w)}else d.panBy(g)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;zi(i)}}});Ge.addInitHook("addHandler","keyboard",Bo),Ge.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Zs=Qn.extend({addHooks:function(){Ae(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){tt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=Qt(i),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var g=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),g),zi(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),d=this._map.options.zoomSnap||0;i._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,T=d?Math.ceil(w/d)*d:w,k=i._limitZoom(l+(this._delta>0?T:-T))-l;this._delta=0,this._startTime=null,k&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+k):i.setZoomAround(this._lastMousePos,l+k))}});Ge.addInitHook("addHandler","scrollWheelZoom",Zs);var ua=600;Ge.mergeOptions({tapHold:me.touchNative&&me.safari&&me.mobile,tapTolerance:15});var jr=Qn.extend({addHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){tt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new ae(l.clientX,l.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Ae(document,"touchend",wt),Ae(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),ua),Ae(document,"touchend touchcancel contextmenu",this._cancel,this),Ae(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){tt(document,"touchend",wt),tt(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),tt(document,"touchend touchcancel contextmenu",this._cancel,this),tt(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new ae(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var d=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Ge.addInitHook("addHandler","tapHold",jr),Ge.mergeOptions({touchZoom:me.touch,bounceAtZoomLimits:!0});var Ho=Qn.extend({addHooks:function(){Me(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){vt(this._map._container,"leaflet-touch-zoom"),tt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(i.touches[0]),g=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(g)._divideBy(2))),this._startDist=d.distanceTo(g),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Ae(document,"touchmove",this._onTouchMove,this),Ae(document,"touchend touchcancel",this._onTouchEnd,this),wt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(i.touches[0]),g=l.mouseEventToContainerPoint(i.touches[1]),w=d.distanceTo(g)/this._startDist;if(this._zoom=l.getScaleZoom(w,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&w<1||this._zoom>l.getMaxZoom()&&w>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var T=d._add(g)._divideBy(2)._subtract(this._centerPoint);if(w===1&&T.x===0&&T.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),be(this._animRequest);var k=m(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=_e(k,this,!0),wt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,be(this._animRequest),tt(document,"touchmove",this._onTouchMove,this),tt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ge.addInitHook("addHandler","touchZoom",Ho),Ge.BoxZoom=cn,Ge.DoubleClickZoom=Rr,Ge.Drag=ii,Ge.Keyboard=Bo,Ge.ScrollWheelZoom=Zs,Ge.TapHold=jr,Ge.TouchZoom=Ho,a.Bounds=R,a.Browser=me,a.CRS=Ne,a.Canvas=Ar,a.Circle=Sr,a.CircleMarker=$a,a.Class=De,a.Control=fn,a.DivIcon=du,a.DivOverlay=Yt,a.DomEvent=yr,a.DomUtil=Ua,a.Draggable=Pi,a.Evented=ne,a.FeatureGroup=Wn,a.GeoJSON=vi,a.GridLayer=Ya,a.Handler=Qn,a.Icon=ei,a.ImageOverlay=Ga,a.LatLng=se,a.LatLngBounds=J,a.Layer=Pn,a.LayerGroup=qa,a.LineUtil=Zc,a.Map=Ge,a.Marker=zs,a.Mixin=Hc,a.Path=ti,a.Point=ae,a.PolyUtil=zo,a.Polygon=Za,a.Polyline=gi,a.Popup=Bs,a.PosAnimation=Ba,a.Projection=iu,a.Rectangle=la,a.Renderer=un,a.SVG=Fa,a.SVGOverlay=Nr,a.TileLayer=Hi,a.Tooltip=Hs,a.Transformation=gt,a.Util=He,a.VideoOverlay=Bi,a.bind=m,a.bounds=Y,a.canvas=qs,a.circle=lu,a.circleMarker=ou,a.control=pi,a.divIcon=Fc,a.extend=c,a.featureGroup=su,a.geoJSON=Cr,a.geoJson=Us,a.gridLayer=fu,a.icon=Ls,a.imageOverlay=uu,a.latLng=oe,a.latLngBounds=ie,a.layerGroup=Vc,a.map=Ao,a.marker=ru,a.point=re,a.polygon=Kc,a.polyline=Gc,a.popup=hu,a.rectangle=Jc,a.setOptions=z,a.stamp=y,a.svg=$s,a.svgOverlay=cu,a.tileLayer=xn,a.tooltip=Yc,a.transformation=sn,a.version=o,a.videoOverlay=Ka;var Io=window.L;a.noConflict=function(){return window.L=Io,this},window.L=a}))})(Tl,Tl.exports)),Tl.exports}var ql=bT();function Mf(r,n,a){return Object.freeze({instance:r,context:n,container:a})}function zf(r,n){return n==null?function(o,c){const h=j.useRef(void 0);return h.current||(h.current=r(o,c)),h}:function(o,c){const h=j.useRef(void 0);h.current||(h.current=r(o,c));const m=j.useRef(o),{instance:v}=h.current;return j.useEffect(function(){m.current!==o&&(n(v,o,m.current),m.current=o)},[v,o,n]),h}}function xT(r,n){j.useEffect(function(){return(n.layerContainer??n.map).addLayer(r.instance),function(){n.layerContainer?.removeLayer(r.instance),n.map.removeLayer(r.instance)}},[n,r])}function Fy(r){return function(a){const o=Ky(),c=r(kf(a,o),o);return Gy(o.map,a.attribution),Yy(c.current,a.eventHandlers),xT(c.current,o),c}}function wT(r,n){const a=zf(r,n),o=Fy(a);return pT(o)}function ST(r,n){const a=zf(r),o=yT(a,n);return gT(o)}function ET(r,n){const a=zf(r,n),o=Fy(a);return vT(o)}function TT(r,n,a){const{opacity:o,zIndex:c}=n;o!=null&&o!==a.opacity&&r.setOpacity(o),c!=null&&c!==a.zIndex&&r.setZIndex(c)}function OT({bounds:r,boundsOptions:n,center:a,children:o,className:c,id:h,placeholder:m,style:v,whenReady:y,zoom:_,...E},x){const[O]=j.useState({className:c,id:h,style:v}),[N,A]=j.useState(null),z=j.useRef(void 0);j.useImperativeHandle(x,()=>N?.map??null,[N]);const B=j.useCallback(U=>{if(U!==null&&!z.current){const q=new ql.Map(U,E);z.current=q,a!=null&&_!=null?q.setView(a,_):r!=null&&q.fitBounds(r,n),y!=null&&q.whenReady(y),A(fT(q))}},[]);j.useEffect(()=>()=>{N?.map.remove()},[N]);const P=N?ue.createElement(Lf,{value:N},o):m??null;return ue.createElement("div",{...O,ref:B},P)}const CT=j.forwardRef(OT),NT=wT(function({position:n,...a},o){const c=new ql.Marker(n,a);return Mf(c,mT(o,{overlayContainer:c}))},function(n,a,o){a.position!==o.position&&n.setLatLng(a.position),a.icon!=null&&a.icon!==o.icon&&n.setIcon(a.icon),a.zIndexOffset!=null&&a.zIndexOffset!==o.zIndexOffset&&n.setZIndexOffset(a.zIndexOffset),a.opacity!=null&&a.opacity!==o.opacity&&n.setOpacity(a.opacity),n.dragging!=null&&a.draggable!==o.draggable&&(a.draggable===!0?n.dragging.enable():n.dragging.disable())}),AT=ST(function(n,a){const o=new ql.Popup(n,a.overlayContainer);return Mf(o,a)},function(n,a,{position:o},c){j.useEffect(function(){const{instance:m}=n;function v(_){_.popup===m&&(m.update(),c(!0))}function y(_){_.popup===m&&c(!1)}return a.map.on({popupopen:v,popupclose:y}),a.overlayContainer==null?(o!=null&&m.setLatLng(o),m.openOn(a.map)):a.overlayContainer.bindPopup(m),function(){a.map.off({popupopen:v,popupclose:y}),a.overlayContainer?.unbindPopup(),a.map.removeLayer(m)}},[n,a,c,o])}),RT=ET(function({url:n,...a},o){const c=new ql.TileLayer(n,kf(a,o));return Mf(c,o)},function(n,a,o){TT(n,a,o);const{url:c}=a;c!=null&&c!==o.url&&n.setUrl(c)}),jT=new ql.Icon({iconUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",iconRetinaUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",shadowUrl:"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),LT=[22.1987,113.5439],kT=["indoors_allowed","patio_only","small_pets_only","all_pets_welcome","dogs_only","cats_only"];function MT(){const{t:r,i18n:n}=jn(),a=n.language,[o,c]=j.useState(null),[h,m]=j.useState(null),[v,y]=j.useState(!1),[_,E]=j.useState(null),{restaurants:x,cuisineTypes:O,isLoading:N}=Zy({petPolicyFilter:o,cuisineFilter:h}),A=j.useMemo(()=>x,[x]),z=()=>{c(null),m(null)},B=o||h;return b.jsxs("div",{className:"h-screen flex flex-col bg-neutral-50",children:[b.jsxs("header",{className:"bg-white border-b border-neutral-200 px-4 py-3 flex items-center justify-between shrink-0 z-20",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(Rn,{to:"/",className:"p-2 hover:bg-neutral-100 rounded-xl transition-colors","aria-label":r("restaurant.backToList"),children:b.jsx(Oc,{size:20,className:"text-neutral-600"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-lg font-semibold text-neutral-900",children:r("explore.title")}),b.jsx("p",{className:"text-sm text-neutral-500 hidden sm:block",children:r("explore.results",{count:A.length})})]})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsxs("button",{onClick:()=>y(!v),className:`
              inline-flex items-center gap-2 px-3 py-2
              rounded-xl border text-sm font-medium
              transition-all
              ${B?"bg-primary-50 border-primary-200 text-primary-700":"bg-white border-neutral-200 text-neutral-700 hover:bg-neutral-50"}
            `,children:[b.jsx(gE,{size:16}),b.jsx("span",{className:"hidden sm:inline",children:r("explore.filters.petPolicy")}),B&&b.jsx("span",{className:"w-2 h-2 bg-primary-500 rounded-full"})]}),b.jsxs(Rn,{to:"/submit",className:"inline-flex items-center gap-2 px-3 py-2 bg-white border border-neutral-200 rounded-xl text-sm font-medium text-neutral-700 hover:bg-neutral-50 transition-colors",children:[b.jsx(po,{size:16}),b.jsx("span",{className:"hidden sm:inline",children:r("nav.submit")})]}),b.jsx(zc,{})]})]}),v&&b.jsx("div",{className:"bg-white border-b border-neutral-200 px-4 py-4 shrink-0 z-10 animate-fade-in",children:b.jsxs("div",{className:"max-w-7xl mx-auto space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-neutral-700 mb-2 block",children:r("explore.filters.petPolicy")}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsx("button",{onClick:()=>c(null),className:`
                    px-3 py-1.5 rounded-full text-sm font-medium
                    transition-all
                    ${o?"bg-neutral-100 text-neutral-600 hover:bg-neutral-200":"bg-primary-500 text-white"}
                  `,children:r("explore.filters.all")}),kT.map(P=>b.jsx("button",{onClick:()=>c(P),className:`
                      px-3 py-1.5 rounded-full text-sm font-medium
                      transition-all
                      ${o===P?"bg-primary-500 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}
                    `,children:r(`petPolicy.${P}`)},P))]})]}),O.length>0&&b.jsxs("div",{children:[b.jsx("label",{className:"text-sm font-medium text-neutral-700 mb-2 block",children:r("explore.filters.cuisine")}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsx("button",{onClick:()=>m(null),className:`
                      px-3 py-1.5 rounded-full text-sm font-medium
                      transition-all
                      ${h?"bg-neutral-100 text-neutral-600 hover:bg-neutral-200":"bg-secondary-500 text-white"}
                    `,children:r("explore.filters.all")}),O.map(P=>b.jsx("button",{onClick:()=>m(P),className:`
                        px-3 py-1.5 rounded-full text-sm font-medium
                        transition-all
                        ${h===P?"bg-secondary-500 text-white":"bg-neutral-100 text-neutral-600 hover:bg-neutral-200"}
                      `,children:P},P))]})]}),B&&b.jsxs("button",{onClick:z,className:"inline-flex items-center gap-1.5 text-sm text-neutral-500 hover:text-neutral-700",children:[b.jsx(dr,{size:14}),"Clear filters"]})]})}),b.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[b.jsx("div",{className:"w-full md:w-96 lg:w-[420px] bg-white border-r border-neutral-200 overflow-y-auto shrink-0",children:N?b.jsx("div",{className:"p-4 space-y-4",children:Array.from({length:5}).map((P,U)=>b.jsx("div",{className:"animate-shimmer h-24 rounded-xl"},U))}):A.length===0?b.jsxs("div",{className:"p-8 text-center text-neutral-500",children:[b.jsx(cr,{className:"w-12 h-12 mx-auto mb-4 text-neutral-300"}),b.jsx("p",{children:r("explore.noResults")})]}):b.jsx("div",{className:"divide-y divide-neutral-100",children:A.map(P=>b.jsx(zT,{restaurant:P,lang:a,isSelected:_===P.id,onSelect:()=>E(P.id)},P.id))})}),b.jsx("div",{className:"hidden md:block flex-1 relative",children:b.jsxs(CT,{center:LT,zoom:14,className:"h-full w-full",zoomControl:!1,children:[b.jsx(RT,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),A.map(P=>b.jsx(NT,{position:[P.latitude,P.longitude],icon:jT,eventHandlers:{click:()=>E(P.id)},children:b.jsx(AT,{children:b.jsx(PT,{restaurant:P,lang:a})})},P.id))]})})]})]})}function zT({restaurant:r,lang:n,isSelected:a,onSelect:o}){const c=Vn(r,"name",n),h=Vn(r,"address",n),m=Vn(r,"cuisine_type",n);return b.jsx(Rn,{to:`/restaurant/${r.id}`,onClick:o,className:`
        block p-4 hover:bg-neutral-50 transition-colors
        ${a?"bg-primary-50 border-l-4 border-primary-500":""}
      `,children:b.jsxs("div",{className:"flex gap-4",children:[b.jsx("img",{src:r.image_url||"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=200",alt:c,className:"w-20 h-20 rounded-xl object-cover shrink-0"}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsx("h3",{className:"font-semibold text-neutral-900 truncate mb-1",children:c}),b.jsxs("div",{className:"flex items-center gap-2 text-sm text-neutral-500 mb-2",children:[b.jsx(Rf,{size:14}),b.jsx("span",{children:m})]}),b.jsx(jf,{policy:r.pet_policy,size:"sm"}),b.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-neutral-400 mt-2",children:[b.jsx(cr,{size:12}),b.jsx("span",{className:"truncate",children:h})]})]})]})})}function PT({restaurant:r,lang:n}){const{t:a}=jn(),o=Vn(r,"name",n),c=Vn(r,"cuisine_type",n);return b.jsxs("div",{className:"min-w-[200px]",children:[b.jsx("img",{src:r.image_url||"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=300",alt:o,className:"w-full h-24 object-cover rounded-lg mb-2"}),b.jsx("h3",{className:"font-semibold text-neutral-900 mb-1",children:o}),b.jsx("p",{className:"text-sm text-neutral-500 mb-2",children:c}),b.jsx(Rn,{to:`/restaurant/${r.id}`,className:"block w-full text-center px-3 py-2 bg-primary-500 text-white text-sm font-medium rounded-lg hover:bg-primary-600 transition-colors",children:a("explore.viewDetails")})]})}const DT=["indoors_allowed","patio_only","small_pets_only","all_pets_welcome","dogs_only","cats_only"],UT=[{value:"portuguese",labelKey:"cuisineTypes.portuguese"},{value:"cantonese",labelKey:"cuisineTypes.cantonese"},{value:"fusion",labelKey:"cuisineTypes.fusion"},{value:"international",labelKey:"cuisineTypes.international"},{value:"seafood",labelKey:"cuisineTypes.seafood"},{value:"brunch",labelKey:"cuisineTypes.brunch"},{value:"japanese",labelKey:"cuisineTypes.japanese"},{value:"italian",labelKey:"cuisineTypes.italian"},{value:"thai",labelKey:"cuisineTypes.thai"},{value:"other",labelKey:"cuisineTypes.other"}];function BT(){const{t:r}=jn(),[n,a]=j.useState(!1);j.useEffect(()=>{const P=()=>{a(window.scrollY>10)};return window.addEventListener("scroll",P),()=>window.removeEventListener("scroll",P)},[]);const[o,c]=j.useState("idle"),[h,m]=j.useState(null),[v,y]=j.useState(null),_=j.useRef(null),[E,x]=j.useState({name:"",description:"",address:"",pet_policy:"patio_only",cuisine_type:"",contact_info:"",image_url:""}),O=P=>{const{name:U,value:q}=P.target;x(te=>({...te,[U]:q}))},N=P=>{const U=P.target.files?.[0];if(U){if(!U.type.startsWith("image/")||U.size>5*1024*1024)return;m(U);const q=new FileReader;q.onloadend=()=>{y(q.result)},q.readAsDataURL(U)}},A=()=>{m(null),y(null),_.current&&(_.current.value="")},z=async P=>{P.preventDefault(),c("submitting");try{await new Promise(U=>setTimeout(U,1500)),console.log("Restaurant submission:",E),console.log("Image file:",h),c("success")}catch{c("error")}},B=()=>{c("idle"),m(null),y(null),x({name:"",description:"",address:"",pet_policy:"patio_only",cuisine_type:"",contact_info:"",image_url:""})};return o==="success"?b.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 via-white to-secondary-50 flex items-center justify-center p-4",children:b.jsxs("div",{className:"max-w-md w-full text-center",children:[b.jsx("div",{className:"w-20 h-20 bg-secondary-100 rounded-full flex items-center justify-center mx-auto mb-6",children:b.jsx(Cc,{className:"w-10 h-10 text-secondary-600"})}),b.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-3",children:r("submit.successTitle")}),b.jsx("p",{className:"text-neutral-600 mb-8",children:r("submit.successMessage")}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[b.jsx(Rn,{to:"/",className:"px-6 py-3 bg-primary-500 text-white font-semibold rounded-xl hover:bg-primary-600 transition-colors",children:r("submit.backToHome")}),b.jsx("button",{onClick:B,className:"px-6 py-3 bg-white border-2 border-neutral-200 text-neutral-700 font-semibold rounded-xl hover:bg-neutral-50 transition-colors",children:r("nav.submit")})]})]})}):b.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[b.jsx("header",{className:`
          fixed top-0 left-0 right-0 z-50 transition-all duration-300 border-b
          ${n?"bg-white/90 backdrop-blur-md border-neutral-200 py-3 shadow-sm":"bg-white border-neutral-200 py-4"}
        `,children:b.jsxs("div",{className:"max-w-3xl mx-auto px-4 flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx(Rn,{to:"/",className:"p-2 hover:bg-neutral-100 rounded-xl transition-colors","aria-label":r("restaurant.backToList"),children:b.jsx(Oc,{size:20,className:"text-neutral-600"})}),b.jsxs("div",{children:[b.jsx("h1",{className:"text-lg font-semibold text-neutral-900",children:r("submit.title")}),b.jsx("p",{className:"text-sm text-neutral-500 hidden sm:block",children:r("submit.subtitle")})]})]}),b.jsx(zc,{})]})}),b.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8 pt-28",children:b.jsxs("form",{onSubmit:z,className:"space-y-6",children:[o==="error"&&b.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-50 text-red-700 rounded-xl",children:[b.jsx(By,{className:"w-5 h-5 shrink-0"}),b.jsx("span",{children:r("submit.errorMessage")})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[b.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-neutral-700 mb-2",children:[r("submit.form.name")," *"]}),b.jsx("input",{type:"text",id:"name",name:"name",required:!0,value:E.name,onChange:O,placeholder:r("submit.form.namePlaceholder"),className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-xl focus:border-primary-400 focus:ring-4 focus:ring-primary-100 focus:outline-none transition-all"})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[b.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-neutral-700 mb-2",children:[r("submit.form.description")," *"]}),b.jsx("textarea",{id:"description",name:"description",required:!0,rows:4,value:E.description,onChange:O,placeholder:r("submit.form.descriptionPlaceholder"),className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-xl focus:border-primary-400 focus:ring-4 focus:ring-primary-100 focus:outline-none transition-all resize-none"})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[b.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-neutral-700 mb-2",children:[r("submit.form.address")," *"]}),b.jsx("input",{type:"text",id:"address",name:"address",required:!0,value:E.address,onChange:O,placeholder:r("submit.form.addressPlaceholder"),className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-xl focus:border-primary-400 focus:ring-4 focus:ring-primary-100 focus:outline-none transition-all"})]}),b.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[b.jsxs("label",{htmlFor:"pet_policy",className:"block text-sm font-medium text-neutral-700 mb-2",children:[r("submit.form.petPolicy")," *"]}),b.jsx("select",{id:"pet_policy",name:"pet_policy",required:!0,value:E.pet_policy,onChange:O,className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-xl focus:border-primary-400 focus:ring-4 focus:ring-primary-100 focus:outline-none transition-all appearance-none bg-white",children:DT.map(P=>b.jsx("option",{value:P,children:r(`petPolicy.${P}`)},P))})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[b.jsxs("label",{htmlFor:"cuisine_type",className:"block text-sm font-medium text-neutral-700 mb-2",children:[r("submit.form.cuisineType")," *"]}),b.jsxs("select",{id:"cuisine_type",name:"cuisine_type",required:!0,value:E.cuisine_type,onChange:O,className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-xl focus:border-primary-400 focus:ring-4 focus:ring-primary-100 focus:outline-none transition-all appearance-none bg-white",children:[b.jsx("option",{value:"",children:r("submit.form.selectCuisine")}),UT.map(P=>b.jsx("option",{value:P.value,children:r(P.labelKey)},P.value))]})]})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[b.jsxs("label",{htmlFor:"contact_info",className:"block text-sm font-medium text-neutral-700 mb-2",children:[r("submit.form.contactInfo")," *"]}),b.jsx("input",{type:"text",id:"contact_info",name:"contact_info",required:!0,value:E.contact_info,onChange:O,placeholder:r("submit.form.contactInfoPlaceholder"),className:"w-full px-4 py-3 border-2 border-neutral-200 rounded-xl focus:border-primary-400 focus:ring-4 focus:ring-primary-100 focus:outline-none transition-all"})]}),b.jsxs("div",{className:"bg-white rounded-2xl shadow-card p-6",children:[b.jsx("label",{className:"block text-sm font-medium text-neutral-700 mb-2",children:r("submit.form.uploadPhoto")}),v?b.jsxs("div",{className:"relative",children:[b.jsx("img",{src:v,alt:"Preview",className:"w-full h-48 object-cover rounded-xl"}),b.jsx("button",{type:"button",onClick:A,className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition-colors shadow-lg","aria-label":r("common.close"),children:b.jsx(dr,{size:16})})]}):b.jsx("div",{onClick:()=>_.current?.click(),className:`
                  border-2 border-dashed border-neutral-300
                  rounded-xl p-8
                  text-center cursor-pointer
                  hover:border-primary-400 hover:bg-primary-50
                  transition-all
                `,children:b.jsxs("div",{className:"flex flex-col items-center gap-3",children:[b.jsx("div",{className:"p-3 bg-neutral-100 rounded-full",children:b.jsx(Hy,{className:"w-6 h-6 text-neutral-400"})}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-neutral-700",children:r("submit.form.clickToUpload")}),b.jsx("p",{className:"text-sm text-neutral-500 mt-1",children:r("submit.form.uploadHint")})]}),b.jsxs("div",{className:"flex items-center gap-2 text-primary-600",children:[b.jsx(po,{size:18}),b.jsx("span",{className:"font-medium",children:r("submit.form.selectFile")})]})]})}),b.jsx("input",{ref:_,type:"file",accept:"image/*",onChange:N,className:"hidden"})]}),b.jsx("button",{type:"submit",disabled:o==="submitting",className:"w-full flex items-center justify-center gap-3 px-8 py-4 bg-primary-500 hover:bg-primary-600 disabled:bg-primary-300 text-white font-semibold text-lg rounded-xl shadow-lg hover:shadow-xl transition-all",children:o==="submitting"?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),b.jsx("span",{children:r("common.loading")})]}):b.jsxs(b.Fragment,{children:[b.jsx(HE,{size:20}),b.jsx("span",{children:r("submit.submitButton")})]})})]})}),b.jsx("footer",{className:"bg-neutral-900 text-neutral-400 py-8 mt-16",children:b.jsxs("div",{className:"max-w-3xl mx-auto px-4 text-center",children:[b.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[b.jsx(or,{className:"w-5 h-5 text-primary-400"}),b.jsx("span",{className:"font-semibold text-white",children:r("common.appName")})]}),b.jsx("p",{className:"text-sm",children:r("footer.copyright")})]})})]})}function HT({requireAdmin:r=!1}){const{user:n,isAdmin:a,isLoading:o}=yo();return o?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-neutral-50",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500"})}):n?r&&!a?b.jsx(fv,{to:"/",replace:!0}):b.jsx(fy,{}):b.jsx(fv,{to:"/",replace:!0})}function IT(){const{signOut:r}=yo(),n=Ca(),{t:a}=jn(),[o,c]=j.useState(!1),h=[{path:"/admin",icon:aE,label:a("admin.sidebar.dashboard")},{path:"/admin/restaurants",icon:qy,label:a("admin.sidebar.restaurants")}];return b.jsxs("div",{className:"min-h-screen bg-neutral-50 flex",children:[o&&b.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>c(!1)}),b.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50 w-64 bg-white border-r border-neutral-200 transform transition-transform duration-200 ease-in-out
        ${o?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[b.jsxs("div",{className:"h-16 flex items-center justify-between px-6 border-b border-neutral-200",children:[b.jsx("span",{className:"text-xl font-bold text-neutral-900",children:"Admin Panel"}),b.jsx("button",{className:"lg:hidden p-1 text-neutral-500 hover:bg-neutral-100 rounded-lg",onClick:()=>c(!1),children:b.jsx(dr,{size:20})})]}),b.jsx("nav",{className:"p-4 space-y-1",children:h.map(m=>{const v=n.pathname===m.path;return b.jsxs(Rn,{to:m.path,className:`
                  flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-colors
                  ${v?"bg-primary-50 text-primary-600":"text-neutral-600 hover:bg-neutral-50 hover:text-neutral-900"}
                `,onClick:()=>c(!1),children:[b.jsx(m.icon,{size:20}),m.label]},m.path)})}),b.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-neutral-200",children:b.jsxs("button",{onClick:()=>r(),className:"flex items-center gap-3 px-4 py-3 w-full text-left text-neutral-600 hover:bg-red-50 hover:text-red-600 rounded-xl font-medium transition-colors",children:[b.jsx(Af,{size:20}),a("auth.signOut")]})})]}),b.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[b.jsxs("div",{className:"h-16 lg:hidden flex items-center px-4 bg-white border-b border-neutral-200",children:[b.jsx("button",{onClick:()=>c(!0),className:"p-2 text-neutral-500 hover:bg-neutral-100 rounded-lg",children:b.jsx(RE,{size:24})}),b.jsx("span",{className:"ml-4 font-semibold text-neutral-900",children:"Admin"})]}),b.jsx("div",{className:"flex-1 p-6 lg:p-8 overflow-y-auto",children:b.jsx(fy,{})})]})]})}function qT(){const{t:r}=jn(),[n,a]=j.useState({totalRestaurants:0,activeRestaurants:0,pendingRestaurants:0,totalReviews:0}),[o,c]=j.useState(!0);j.useEffect(()=>{async function m(){try{const[{count:v},{count:y},{count:_},{count:E}]=await Promise.all([Dt.from("restaurants").select("*",{count:"exact",head:!0}),Dt.from("restaurants").select("*",{count:"exact",head:!0}).eq("status","approved"),Dt.from("restaurants").select("*",{count:"exact",head:!0}).eq("status","pending"),Dt.from("reviews").select("*",{count:"exact",head:!0})]);a({totalRestaurants:v||0,activeRestaurants:y||0,pendingRestaurants:_||0,totalReviews:E||0})}catch(v){console.error("Error fetching stats:",v)}finally{c(!1)}}m()},[]);const h=[{label:r("admin.dashboard.totalRestaurants"),value:n.totalRestaurants,icon:qy,color:"bg-blue-500"},{label:r("admin.dashboard.activeListings"),value:n.activeRestaurants,icon:Cc,color:"bg-green-500"},{label:r("admin.dashboard.pendingApproval"),value:n.pendingRestaurants,icon:pf,color:"bg-amber-500"},{label:r("admin.dashboard.totalReviews"),value:n.totalReviews,icon:WE,color:"bg-purple-500"}];return o?b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(m=>b.jsx("div",{className:"h-32 bg-white rounded-2xl shadow-sm animate-pulse"},m))}):b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-neutral-900 mb-8",children:r("admin.dashboard.title")}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map(m=>b.jsx("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-neutral-100",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-sm font-medium text-neutral-500 mb-1",children:m.label}),b.jsx("h3",{className:"text-3xl font-bold text-neutral-900",children:m.value})]}),b.jsx("div",{className:`p-3 rounded-xl ${m.color} bg-opacity-10`,children:b.jsx(m.icon,{className:`w-6 h-6 ${m.color.replace("bg-","text-")}`})})]})},m.label))})]})}const $T=["Portuguese","Macanese","Chinese","Japanese","Italian","American","Cafe","Bar","Dessert","Other"],ZT=["indoors_allowed","patio_only","small_pets_only","all_pets_welcome","dogs_only","cats_only"];function VT({isOpen:r,onClose:n,onSave:a,restaurant:o}){const{t:c}=jn(),[h,m]=j.useState(!1),[v,y]=j.useState(null),[_,E]=j.useState({name:"",name_zh:"",name_pt:"",address:"",address_zh:"",address_pt:"",description:"",description_zh:"",description_pt:"",pet_policy:"patio_only",cuisine_type:"",contact_info:"",image_url:"",latitude:22.1937,longitude:113.5399,status:"approved"});j.useEffect(()=>{E(o||{name:"",name_zh:"",name_pt:"",address:"",address_zh:"",address_pt:"",description:"",description_zh:"",description_pt:"",pet_policy:"patio_only",cuisine_type:"",contact_info:"",image_url:"",latitude:22.1937,longitude:113.5399,status:"approved"})},[o,r]);const x=async O=>{O.preventDefault(),m(!0),y(null);try{if(o?.id){const{error:N}=await Dt.from("restaurants").update(_).eq("id",o.id);if(N)throw N}else{const{error:N}=await Dt.from("restaurants").insert(_);if(N)throw N}a(),n(),Nl.success(o?"Restaurant updated successfully":"Restaurant created successfully")}catch(N){const A=N instanceof Error?N.message:"An error occurred";y(A),Nl.error(A)}finally{m(!1)}};return r?b.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 overflow-y-auto",children:b.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[b.jsxs("div",{className:"sticky top-0 bg-white border-b border-neutral-100 p-6 flex items-center justify-between z-10",children:[b.jsx("h2",{className:"text-xl font-bold text-neutral-900",children:o?"Edit Restaurant":"Add Restaurant"}),b.jsx("button",{onClick:n,className:"p-2 text-neutral-400 hover:bg-neutral-100 rounded-lg transition-colors",children:b.jsx(dr,{size:20})})]}),b.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"text-sm font-medium text-neutral-700",children:[c("admin.modal.labels.nameEn")," *"]}),b.jsx("input",{type:"text",required:!0,value:_.name||"",onChange:O=>E(N=>({...N,name:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-medium text-neutral-700",children:c("admin.modal.labels.nameZh")}),b.jsx("input",{type:"text",value:_.name_zh||"",onChange:O=>E(N=>({...N,name_zh:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-medium text-neutral-700",children:c("admin.modal.labels.namePt")}),b.jsx("input",{type:"text",value:_.name_pt||"",onChange:O=>E(N=>({...N,name_pt:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500"})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"text-sm font-medium text-neutral-700",children:[c("admin.modal.labels.cuisineType")," *"]}),b.jsxs("select",{required:!0,value:_.cuisine_type||"",onChange:O=>E(N=>({...N,cuisine_type:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500",children:[b.jsx("option",{value:"",children:c("admin.modal.placeholders.selectCuisine")}),$T.map(O=>b.jsx("option",{value:O,children:c(`cuisineTypes.${O.toLowerCase()}`)||O},O))]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"text-sm font-medium text-neutral-700",children:[c("admin.modal.labels.petPolicy")," *"]}),b.jsx("select",{required:!0,value:_.pet_policy||"patio_only",onChange:O=>E(N=>({...N,pet_policy:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500",children:ZT.map(O=>b.jsx("option",{value:O,children:c(`petPolicy.${O}`)},O))})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-medium text-neutral-700",children:c("admin.modal.labels.status")}),b.jsxs("select",{value:_.status||"pending",onChange:O=>E(N=>({...N,status:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500",children:[b.jsx("option",{value:"pending",children:c("admin.restaurants.status.pending")}),b.jsx("option",{value:"approved",children:c("admin.restaurants.status.approved")}),b.jsx("option",{value:"rejected",children:c("admin.restaurants.status.rejected")})]})]})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"text-sm font-medium text-neutral-700",children:[c("admin.modal.labels.descriptionEn")," *"]}),b.jsx("textarea",{required:!0,rows:3,value:_.description||"",onChange:O=>E(N=>({...N,description:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500",placeholder:c("admin.modal.placeholders.description")})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-medium text-neutral-700",children:c("admin.modal.labels.descriptionZh")}),b.jsx("textarea",{rows:3,value:_.description_zh||"",onChange:O=>E(N=>({...N,description_zh:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500",placeholder:c("admin.modal.placeholders.description")+" ()"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-medium text-neutral-700",children:c("admin.modal.labels.descriptionPt")}),b.jsx("textarea",{rows:3,value:_.description_pt||"",onChange:O=>E(N=>({...N,description_pt:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500",placeholder:c("admin.modal.placeholders.description")+" ()"})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"text-sm font-medium text-neutral-700",children:[c("admin.modal.labels.addressEn")," *"]}),b.jsx("input",{type:"text",required:!0,value:_.address||"",onChange:O=>E(N=>({...N,address:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500",placeholder:c("admin.modal.placeholders.address")})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-medium text-neutral-700",children:c("admin.modal.labels.addressZh")}),b.jsx("input",{type:"text",value:_.address_zh||"",onChange:O=>E(N=>({...N,address_zh:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500",placeholder:c("admin.modal.placeholders.address")+" ()"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-medium text-neutral-700",children:c("admin.modal.labels.addressPt")}),b.jsx("input",{type:"text",value:_.address_pt||"",onChange:O=>E(N=>({...N,address_pt:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500",placeholder:c("admin.modal.placeholders.address")+" ()"})]})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"text-sm font-medium text-neutral-700",children:[c("admin.modal.labels.latitude")," *"]}),b.jsx("input",{type:"number",step:"any",required:!0,value:_.latitude||"",onChange:O=>E(N=>({...N,latitude:parseFloat(O.target.value)})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("label",{className:"text-sm font-medium text-neutral-700",children:[c("admin.modal.labels.longitude")," *"]}),b.jsx("input",{type:"number",step:"any",required:!0,value:_.longitude||"",onChange:O=>E(N=>({...N,longitude:parseFloat(O.target.value)})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500"})]})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("label",{className:"text-sm font-medium text-neutral-700",children:c("admin.modal.labels.imageUrl")}),b.jsx("input",{type:"url",value:_.image_url||"",onChange:O=>E(N=>({...N,image_url:O.target.value})),className:"w-full px-4 py-2 border border-neutral-200 rounded-xl focus:ring-2 focus:ring-primary-500",placeholder:c("admin.modal.placeholders.imageUrl")})]}),v&&b.jsx("div",{className:"p-4 bg-red-50 text-red-600 rounded-xl text-sm",children:v}),b.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[b.jsx("button",{type:"button",onClick:n,className:"px-6 py-2 text-neutral-600 font-medium hover:bg-neutral-50 rounded-xl transition-colors",children:c("admin.modal.buttons.cancel")}),b.jsxs("button",{type:"submit",disabled:h,className:"px-6 py-2 bg-primary-500 hover:bg-primary-600 disabled:bg-primary-300 text-white font-medium rounded-xl transition-colors flex items-center gap-2",children:[h&&b.jsx(wE,{size:18,className:"animate-spin"}),c(o?"admin.modal.buttons.save":"admin.modal.buttons.create")]})]})]})]})}):null}function GT(){const{t:r}=jn(),[n,a]=j.useState([]),[o,c]=j.useState(!0),[h,m]=j.useState(""),[v,y]=j.useState("all"),[_,E]=j.useState(!1),[x,O]=j.useState(null),N=async()=>{c(!0);let U=Dt.from("restaurants").select("*").order("created_at",{ascending:!1});v!=="all"&&(U=U.eq("status",v));const{data:q,error:te}=await U;!te&&q&&a(q),c(!1)};j.useEffect(()=>{N()},[v]);const A=async U=>{if(!confirm("Are you sure you want to delete this restaurant?"))return;const{error:q}=await Dt.from("restaurants").delete().eq("id",U);q||(Nl.success("Restaurant deleted successfully"),N())},z=async(U,q)=>{const{error:te}=await Dt.from("restaurants").update({status:q}).eq("id",U);te||(Nl.success(`Restaurant ${q} successfully`),Nl.success(r(q==="approved"?"admin.restaurants.actions.approveSuccess":"admin.restaurants.actions.rejectSuccess")),N())},B=n.filter(U=>U.name.toLowerCase().includes(h.toLowerCase())||U.name_zh?.toLowerCase().includes(h.toLowerCase())),P=({status:U})=>{const q={approved:"bg-green-100 text-green-700",pending:"bg-amber-100 text-amber-700",rejected:"bg-red-100 text-red-700"},de={approved:Cc,pending:pf,rejected:Iv}[U]||pf;return b.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-0.5 rounded-full text-xs font-medium ${q[U]||q.pending}`,children:[b.jsx(de,{size:12}),U==="pending"?r("admin.restaurants.status.pending"):U==="approved"?r("admin.restaurants.status.approved"):U==="rejected"?r("admin.restaurants.status.rejected"):U]})};return b.jsxs("div",{children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-2xl font-bold text-neutral-900",children:r("admin.restaurants.title")}),b.jsx("p",{className:"text-neutral-500 mt-1",children:r("admin.restaurants.subtitle")})]}),b.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-primary-500 hover:bg-primary-600 text-white font-medium rounded-xl transition-colors",onClick:()=>{O(null),E(!0)},children:[b.jsx(DE,{size:20}),r("admin.restaurants.addRestaurant")]})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[b.jsxs("div",{className:"relative flex-1",children:[b.jsx(Iy,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-neutral-400 w-5 h-5"}),b.jsx("input",{type:"text",placeholder:r("admin.restaurants.searchPlaceholder"),value:h,onChange:U=>m(U.target.value),className:"w-full pl-10 pr-4 py-2 bg-white border border-neutral-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),b.jsx("div",{className:"flex gap-2",children:["all","pending","approved"].map(U=>b.jsx("button",{onClick:()=>y(U),className:`px-4 py-2 rounded-xl text-sm font-medium transition-colors ${v===U?"bg-neutral-900 text-white":"bg-white border border-neutral-200 text-neutral-600 hover:bg-neutral-50"}`,children:r(`admin.restaurants.filters.${U}`)},U))})]}),b.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-neutral-200 overflow-hidden",children:b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full",children:[b.jsx("thead",{className:"bg-neutral-50 border-b border-neutral-200",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:r("admin.restaurants.table.headers.restaurant")}),b.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:r("admin.restaurants.table.headers.status")}),b.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:r("admin.restaurants.table.headers.petPolicy")}),b.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:r("admin.restaurants.table.headers.submitted")}),b.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-neutral-500 uppercase tracking-wider",children:r("admin.restaurants.table.headers.actions")})]})}),b.jsx("tbody",{className:"divide-y divide-neutral-200",children:o?[1,2,3].map(U=>b.jsx("tr",{children:b.jsx("td",{colSpan:5,className:"px-6 py-4",children:b.jsx("div",{className:"h-4 bg-neutral-100 rounded w-3/4 animate-pulse"})})},U)):B.length===0?b.jsx("tr",{children:b.jsx("td",{colSpan:5,className:"px-6 py-12 text-center text-neutral-500",children:r("admin.restaurants.table.noRestaurants")})}):B.map(U=>b.jsxs("tr",{className:"hover:bg-neutral-50/50 transition-colors",children:[b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("img",{src:U.image_url||"https://via.placeholder.com/40",alt:"",className:"w-10 h-10 rounded-lg object-cover bg-neutral-100"}),b.jsxs("div",{children:[b.jsx("p",{className:"font-medium text-neutral-900",children:U.name_zh||U.name}),b.jsx("p",{className:"text-sm text-neutral-500",children:r(`cuisineTypes.${U.cuisine_type.toLowerCase()}`)||U.cuisine_type})]})]})}),b.jsx("td",{className:"px-6 py-4",children:b.jsx(P,{status:U.status||"approved"})}),b.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:r(`petPolicy.${U.pet_policy}`)}),b.jsx("td",{className:"px-6 py-4 text-sm text-neutral-600",children:new Date(U.created_at).toLocaleDateString()}),b.jsx("td",{className:"px-6 py-4 text-right",children:b.jsxs("div",{className:"flex items-center justify-end gap-2",children:[U.status==="pending"&&b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>z(U.id,"approved"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Approve",children:b.jsx(Cc,{size:18})}),b.jsx("button",{onClick:()=>z(U.id,"rejected"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Reject",children:b.jsx(Iv,{size:18})}),b.jsx("div",{className:"w-px h-4 bg-neutral-200 mx-1"})]}),b.jsx("button",{className:"p-2 text-neutral-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",onClick:()=>{O(U),E(!0)},children:b.jsx(ZE,{size:18})}),b.jsx("button",{className:"p-2 text-neutral-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",onClick:()=>A(U.id),children:b.jsx($y,{size:18})})]})})]},U.id))})]})})}),b.jsx(VT,{isOpen:_,onClose:()=>E(!1),onSave:()=>{N(),E(!1)},restaurant:x})]})}function KT(){return b.jsx(G2,{children:b.jsxs(Nw,{children:[b.jsx(h1,{position:"top-right",richColors:!0}),b.jsxs(sw,{children:[b.jsx(Sa,{path:"/",element:b.jsx(uT,{})}),b.jsx(Sa,{path:"/explore",element:b.jsx(MT,{})}),b.jsx(Sa,{path:"/restaurant/:id",element:b.jsx(hT,{})}),b.jsx(Sa,{path:"/submit",element:b.jsx(BT,{})}),b.jsx(Sa,{element:b.jsx(HT,{requireAdmin:!0}),children:b.jsxs(Sa,{path:"/admin",element:b.jsx(IT,{}),children:[b.jsx(Sa,{index:!0,element:b.jsx(qT,{})}),b.jsx(Sa,{path:"restaurants",element:b.jsx(GT,{})})]})})]})]})})}b0.createRoot(document.getElementById("root")).render(b.jsx(j.StrictMode,{children:b.jsx(KT,{})}));
